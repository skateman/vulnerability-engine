# CHANGELOG


## v2.42.35 (2024-12-14)

### Chores

- **deps**: Update konflux references
  ([`7a71c33`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a71c337387f65f492d79965f1c3e79d7cfd4c22))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.34 (2024-12-13)

### Bug Fixes

- **manager**: Invalidate cache on system opt-out
  ([`7ee79e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ee79e1d6bec25096813a0ec572a23bc41812513))

RHINENG-13933


## v2.42.33 (2024-12-12)

### Chores

- **deps**: Update grafana/grafana docker tag to v11.4.0
  ([`9fdc12a`](https://github.com/RedHatInsights/vulnerability-engine/commit/9fdc12a01c1678205095078c5d57d2770dc427a5))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.32 (2024-12-09)

### Bug Fixes

- **manager**: Cached advisory_available bool only makes sense when returning some affected systems
  ([`0c3c1a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c3c1a9a7e121c36eb3411d3ea1bc6607f3d0be0))

otherwise the logic showing static advisory_available value for unaffected CVEs doesn't work

this should make the cached count subquery return same number of rows as uncached one

RHINENG-8924

- **platform_mock**: Fixes after AsyncApp/Uvicorn rewrite
  ([`319ab07`](https://github.com/RedHatInsights/vulnerability-engine/commit/319ab0737516b4e5af7fee3a0c8368b001490138))


## v2.42.31 (2024-12-07)

### Chores

- **deps**: Update konflux references
  ([`36b174a`](https://github.com/RedHatInsights/vulnerability-engine/commit/36b174a261d76bd79092d609d0f38c9ec21efaa1))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.30 (2024-12-06)

### Chores

- Upgrade to python3.12
  ([`686d2b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/686d2b7bd5e4c55408dccf6b624904668603eecd))

RHINENG-14726


## v2.42.29 (2024-12-05)

### Chores

- **deps**: Update grafana/grafana docker tag to v11.3.1
  ([`a91e8ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/a91e8ac3dcdee6d5eaa2ff299ef2f3b10baa8129))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.28 (2024-12-04)

### Bug Fixes

- No running event loop
  ([`221d96a`](https://github.com/RedHatInsights/vulnerability-engine/commit/221d96a99a30b6fe49a07a9c409b7bb1b0a24348))


## v2.42.27 (2024-12-04)

### Bug Fixes

- Avoid unnecessary filters on system_platform.rh_account_id
  ([`8aee39e`](https://github.com/RedHatInsights/vulnerability-engine/commit/8aee39e0879abb01c71ece3cd7393ebb17790a3a))

it results in bad query plan for some accounts

RHINENG-14433


## v2.42.26 (2024-12-02)

### Chores

- Don't mention tornado
  ([`dfe2bf2`](https://github.com/RedHatInsights/vulnerability-engine/commit/dfe2bf240d5db22511c2daa25306111c35ec0284))

RHINENG-14625

- Drop tornado, update aiohttp
  ([`081bd1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/081bd1c82aab418342461b6489046ef572f32c42))

RHINENG-14625 RHINENG-14409 RHINENG-14410 RHINENG-14412 RHINENG-14413

- Rewrite platform-mock using connexion AsyncApp
  ([`1553cc3`](https://github.com/RedHatInsights/vulnerability-engine/commit/1553cc399adf3e6010e12ef97b66558d4cb66787))

RHINENG-14625

- Rewrite vmaas-mock using connexion AsyncApp
  ([`51b1503`](https://github.com/RedHatInsights/vulnerability-engine/commit/51b150366c94464d9bb228efc1622933700b5cfa))

RHINENG-14625

- Run pre-commit on platform-mock
  ([`472f0ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/472f0acf73c9357ab00cf6e7779fb8362f1833cd))

- Use pytest-aiohttp instead of tornado in tests
  ([`48372d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/48372d78f80e838498d3b53bd77688452cd5b5c9))

RHINENG-14625


## v2.42.25 (2024-11-30)

### Chores

- **deps**: Update konflux references
  ([`0ed82cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/0ed82cc2da0ae99e0988cbf61dfc7f96bba0344c))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.24 (2024-11-28)

### Bug Fixes

- **cluster**: Pg_repack refuses to run if the transaction is idle
  ([`4d7c827`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d7c827089b6987af3586ef43ea9f4525216df43))


## v2.42.23 (2024-11-28)

### Bug Fixes

- **cluster**: Wait for process finish
  ([`10433ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/10433ef0b94b94e9bdad527e09b0ecbf2ac08fae))


## v2.42.22 (2024-11-27)

### Bug Fixes

- **cluster**: Exit when pg_repack return non-zero code
  ([`ca39df3`](https://github.com/RedHatInsights/vulnerability-engine/commit/ca39df3a0dd9b5b29b2c977e84a7383f00001b06))

- **cluster**: Remove unused config vars and enable cluster job by default
  ([`37ab13e`](https://github.com/RedHatInsights/vulnerability-engine/commit/37ab13e4dc2704848604428257538ebbdaf1bc80))


## v2.42.21 (2024-11-27)

### Bug Fixes

- **cluster**: Automatically upgrade pg_repack extension version
  ([`06a51bc`](https://github.com/RedHatInsights/vulnerability-engine/commit/06a51bc85c6accad0deeb0ff4b2beb166c34d80a))

- **cluster**: Pg_repack does reindex and analyze automatically
  ([`0a6f26c`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a6f26c2552f7ddb2bec28e6c1900ea8f57919a4))


## v2.42.20 (2024-11-23)

### Chores

- **deps**: Update konflux references
  ([`4e48558`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e48558267a9b2ddaeeb67f60935db9fb32718ff))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.19 (2024-11-21)

### Chores

- Use poetry for dependency management
  ([`2c3e7a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c3e7a664047275b0f424316e132105c7829595c))

Warning: The current project could not be installed: No file/folder found for package
  vulnerability-engine

If you do not want to install the current project use --no-root. If you want to use Poetry only for
  dependency management but not for packaging, you can disable package mode by setting package-mode
  = false in your pyproject.toml file. In a future version of Poetry this warning will become an
  error!


## v2.42.18 (2024-11-19)

### Bug Fixes

- Add domain to allow downloadcve report to work in ITless
  ([`2dca281`](https://github.com/RedHatInsights/vulnerability-engine/commit/2dca28104c60e7232e15e57090be782cd76841ca))

- Adjust domain
  ([`fcab959`](https://github.com/RedHatInsights/vulnerability-engine/commit/fcab959f5335e0d842166e26e0d89f8049f26207))


## v2.42.17 (2024-11-18)

### Chores

- **deps**: Update konflux references
  ([`ce79eb8`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce79eb8660f12400f0041ebd41cfa2dc8f535618))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.16 (2024-11-14)

### Continuous Integration

- Revert image temporarily until konflux is stable enough
  ([`6f66a49`](https://github.com/RedHatInsights/vulnerability-engine/commit/6f66a49c4cca7e9c696c784ae480ef7f550d1abc))


## v2.42.15 (2024-11-13)

### Chores

- Update dependencies
  ([`bdf9c6e`](https://github.com/RedHatInsights/vulnerability-engine/commit/bdf9c6e80b439c081618d9fae1acad08d1b83271))

RHINENG-14310


## v2.42.14 (2024-11-12)

### Chores

- **deps**: Update konflux references
  ([`8e24e41`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e24e4151ce422bf263de4ac1ebf3c61784b9409))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.13 (2024-11-12)

### Chores

- **deps**: Update grafana/grafana docker tag to v11.3.0
  ([`d8a7120`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8a71205e5b95244023fa65ac2d6b8ade31dbf4f))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.12 (2024-11-11)

### Continuous Integration

- Create renovate PRs only weekly
  ([`6425215`](https://github.com/RedHatInsights/vulnerability-engine/commit/6425215d315ffcc00abc8fac508cb07c010717bb))


## v2.42.11 (2024-11-07)

### Chores

- **database**: Add primary key to table to support replication
  ([`cf9164d`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf9164dbd35e76d0b1957742819871dd755709c9))

RHINENG-14121


## v2.42.10 (2024-11-06)

### Continuous Integration

- Revert konflux-ci / tekton-catalog/task-buildah due to build error
  ([`4fe416e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4fe416e6fb7d4b0c7e802d2ab0e6b3a694fe614d))


## v2.42.9 (2024-11-06)

### Chores

- Use replicase instead of minReplicas
  ([`7105ee6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7105ee695aea86342c701f7ed4c0ff158c5c0845))

minReplicas is deprecated
  https://redhatinsights.github.io/clowder/clowder/dev/api_reference.html\#k8s-api-github-com-redhatinsights-clowder-apis-cloud-redhat-com-v1alpha1-deployment


## v2.42.8 (2024-11-06)

### Chores

- **deps**: Update konflux references
  ([`e682808`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6828084ea062e43d87546bba1915b7a08aa7773))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.7 (2024-11-03)

### Chores

- **deps**: Update konflux references
  ([`3fde18f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3fde18f49394943e00f4df5f99f5fea5aaf3fff8))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.6 (2024-11-01)

### Continuous Integration

- Add new mandatory RPM signature scan task to tekton
  ([`60f13a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/60f13a8a2680eff6673c3945e79b1f039f82e062))


## v2.42.5 (2024-11-01)

### Chores

- **deps**: Update konflux references
  ([`790d9e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/790d9e5f08b115d1dbba09f1f94f6eedb1ad15c1))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.4 (2024-10-25)

### Chores

- Revert to ubi8
  ([`87be73f`](https://github.com/RedHatInsights/vulnerability-engine/commit/87be73f4c79fffa9612e40a4a433796b3ad8d7c7))

RHINENG-13902


## v2.42.3 (2024-10-24)

### Chores

- **deps**: Update konflux references
  ([`1c139d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c139d4f5d86d67edbe036caea309749d03979a9))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.2 (2024-10-23)

### Chores

- **deps**: Update konflux references to 504e29e
  ([`16a56d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/16a56d87cafe2ad030b2beeb826f7c9f121093de))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.1 (2024-10-21)

### Chores

- **deps**: Update konflux references
  ([`44c576e`](https://github.com/RedHatInsights/vulnerability-engine/commit/44c576e7a44aa99e262cf8fc2a825fbfb109fdec))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.42.0 (2024-10-18)

### Features

- **manager**: Return RHSM release lock value
  ([`6dff3d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/6dff3d31adec619f7e92c77ae7630ff8e179214b))

RHINENG-12778

### Refactoring

- Remove unused spec
  ([`c2d1838`](https://github.com/RedHatInsights/vulnerability-engine/commit/c2d1838e76874c6b742e57a82414765568ae0ab0))


## v2.41.9 (2024-10-17)

### Chores

- Upgrade db to pg 16
  ([`25d00c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/25d00c41ce97f739d525d852a54a5b12f8f98336))

RHINENG-13495


## v2.41.8 (2024-10-17)

### Chores

- **deps**: Update konflux references to 67f0290
  ([`1af98bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/1af98bbeb257e6c012f7b62aabc20ad6ca3c8d10))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.41.7 (2024-10-16)

### Chores

- Update libs (mainly starlette vulnerability)
  ([`08ce5a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/08ce5a4e3823bfa6c06ef414d9299889a18db874))


## v2.41.6 (2024-10-16)

### Continuous Integration

- Only build tagged commits
  ([`b826492`](https://github.com/RedHatInsights/vulnerability-engine/commit/b826492a47107f3d12f7451c1e7585e6e8783a6b))


## v2.41.5 (2024-10-16)

### Chores

- **deps**: Update konflux references
  ([`b24af60`](https://github.com/RedHatInsights/vulnerability-engine/commit/b24af605cc58234acc739dfe72afbb4110f13d5a))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.41.4 (2024-10-14)

### Chores

- **deps**: Update konflux references to 674e70f
  ([`a59f14c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a59f14c73e26f4faec23a9fee83a259911e38c47))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.41.3 (2024-10-14)

### Bug Fixes

- **manager**: System identity header should be checked with owner_id instead of inventory_id
  ([`d45b1b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/d45b1b3f6a1035f298c14dd8fe7da3f1650244ca))

RHINENG-13409


## v2.41.2 (2024-10-14)

### Chores

- **deps**: Update konflux references
  ([`66369d5`](https://github.com/RedHatInsights/vulnerability-engine/commit/66369d5bc9e7137997b5e25e2288b23796b2cb43))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

### Continuous Integration

- New flake8 issues
  ([`e22057a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e22057a81f3bf6d6deecd1151fc9d4ec1db402c4))

- Setup-python is now required for pre-commit
  ([`52f8a58`](https://github.com/RedHatInsights/vulnerability-engine/commit/52f8a584e5e02fa634bbbc91a3bac038e0d49d7b))


## v2.41.1 (2024-10-08)

### Continuous Integration

- Create patch tag for more keywords
  ([`7d78a99`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d78a99dacf348868a2276ff3466ea3395853f5e))

going to enable Konflux image build only for tags


## v2.41.0 (2024-10-08)

### Chores

- Allow sending System identity headers
  ([`b9ad030`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9ad030c7f67b40316a640c08e2ebc7b912ef537))

RHINENG-13409

- **deps**: Update pre-commit hook psf/black to v24.10.0
  ([`f5245ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/f5245ef9ab6ec46bbe50ccd6580cc078d4fdfbd3))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **platform-mock**: Deny System identities
  ([`dda4489`](https://github.com/RedHatInsights/vulnerability-engine/commit/dda448987b441ba97dd0a59b894a98b75737be67))

RHINENG-13409

### Features

- **manager**: Properly log different identity types
  ([`2228a8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2228a8f589921e7dbdc73fafe42855092062fbc7))

RHINENG-13409

- **manager**: Support System identity auth for certain endpoints
  ([`bc49e63`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc49e635f3b69cafb84c93bb0b624e43c2028b53))

- playbook templates - APIs related to the given inventory ID

RHINENG-13409

### Testing

- Decorator behavior
  ([`f3b4226`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3b42265433b9e9cc9cecae62ba25a80c873677e))

RHINENG-13409


## v2.40.10 (2024-10-07)

### Bug Fixes

- **vmaas-sync**: Return only repositories having advisories since the last modified_since
  ([`dc6b4f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc6b4f3c397d1d0f244a42e0b3f4e508a71ebde1))

### Chores

- Automerge PRs updating konflux references
  ([`be7e4ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/be7e4fff5a0fd65b6df4aa19d6a6ebcd59a31435))

- Konflux image url
  ([`e6c623a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6c623a28fb26ebf3bd01713daabb91d46de0615))

- Trigger stage deployment
  ([`40c3d56`](https://github.com/RedHatInsights/vulnerability-engine/commit/40c3d56a2d2a7cf3ef84e5054081ec35eade01e6))

- **deps**: Update grafana/grafana docker tag to v11.2.2
  ([`6d62450`](https://github.com/RedHatInsights/vulnerability-engine/commit/6d624504ad32d1fc9a99818fabec2a69e93d4b9d))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update konflux references
  ([`2dcc0ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/2dcc0ee995505f66017e241f3fce84fdac8fad3d))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update konflux references to 37b9187
  ([`d112592`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1125920c0117e232a8f4d4112348e27e743fe26))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update pre-commit hook pre-commit/pre-commit-hooks to v5
  ([`ff49f52`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff49f52848b86ce1cb1e3a7ca9ca522e29166583))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.40.9 (2024-09-27)

### Bug Fixes

- **manager**: Repair error handling when forbidden
  ([`2c7c9f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7c9f96a22118baa451f60e862ed4ce86066aa1))

RHINENG-12111: 500 HTTP error when requesting api with account without persmissions

### Chores

- Fix black v24 issues
  ([`e97ad01`](https://github.com/RedHatInsights/vulnerability-engine/commit/e97ad01ddfadddefb1b74ecca123308aa0421c7c))

- Fix flake8 v7 issues
  ([`83cd073`](https://github.com/RedHatInsights/vulnerability-engine/commit/83cd073430a0ae50ab61b4c72bd8508db8e6dded))

- Replace reorder-python-imports by isort
  ([`c285066`](https://github.com/RedHatInsights/vulnerability-engine/commit/c285066888e4c689bda5acae2d089e2af40143ed))

black and reorder-python-imports are incompatibles

https://github.com/asottile/reorder-python-imports/issues/366

https://github.com/asottile/reorder-python-imports/issues/367

https://github.com/psf/black/issues/4175

- **deps**: Update grafana/grafana docker tag to v11.2.1
  ([`a22c03d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a22c03dae2849ed825de5e991be0881f6fc3218f))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update pre-commit hook psf/black to v24
  ([`4ef3a26`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ef3a26b3f7b5062578f2c80b955d95d769141f1))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update pre-commit hook pycqa/flake8 to v7
  ([`470c6d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/470c6d94dc9e4304f3a43f1b3c12b00608a4024a))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.40.8 (2024-09-24)

### Bug Fixes

- Handle error when inserting empty cve name into db
  ([`bb5813e`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb5813eb30fc5d876b9f16485caef2b7cdc897c5))

RHINENG-12773

### Chores

- Update dependencies
  ([`32aeb37`](https://github.com/RedHatInsights/vulnerability-engine/commit/32aeb37392ab2931f97e55b7c7353b182efe4a81))

RHINENG-12514

- Use ubi9
  ([`ee5c78f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee5c78f2eb51f1475fe4466934851acd02b5a207))

RHINENG-12543

RHINENG-12556

- **deps**: Update grafana/grafana docker tag to v11
  ([`efeb90d`](https://github.com/RedHatInsights/vulnerability-engine/commit/efeb90de0ef27ecb26268cae3b415205db8bdf43))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update pre-commit hook asottile/reorder-python-imports to v3.13.0
  ([`a88782b`](https://github.com/RedHatInsights/vulnerability-engine/commit/a88782b589a5cb0b3ec2f16faad8ca6ad7ebd688))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update pre-commit hook pre-commit/pre-commit-hooks to v4.6.0
  ([`70935e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/70935e2a975f6afdebc58262fedc1ebdfb8b9277))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>

- **deps**: Update pre-commit hook psf/black to v23.12.1
  ([`52ee91e`](https://github.com/RedHatInsights/vulnerability-engine/commit/52ee91ec961e38199bdb1d3f038b8df73045da4e))

Signed-off-by: red-hat-konflux <126015336+red-hat-konflux[bot]@users.noreply.github.com>


## v2.40.7 (2024-09-12)

### Bug Fixes

- Workaround cve_cache issue with inventory groups
  ([`6b529e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b529e79ef155ef4a6aabf73b98294ac42a675e3))

When there are 2 users with different inventory groups in the same account, they can be invalidating
  cache for each other which will cause that api is slow for both of them. Cache only access to all
  inventory hosts. When a user doesn't have any inventory groups, then the query will be used
  without cache.

Stats from DB: count of accounts | inventory groups 31581		 | [] // access to all hosts 1		 | [[]]
  // access to ungrouped hosts only 6		 | access to only 1 inventory group 1		 | access to 1 group
  and to ungrouped hosts 1		 | access to multiple groups and ungrouped hosts

RHINENG-12465

### Chores

- **ephemeral**: Remove --no-remove-resources
  ([`4cc5da1`](https://github.com/RedHatInsights/vulnerability-engine/commit/4cc5da12f9bd7f9823964cef40ac19e7ff0e6a22))

RHINENG-11573


## v2.40.6 (2024-08-19)

### Bug Fixes

- **vmaas-sync**: Make sure event row is commited before sending it in kafka messages
  ([`c1f4017`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1f4017cb4472ce7028ed15c6388ba722ea2955d))


## v2.40.5 (2024-08-19)

### Bug Fixes

- **evaluator**: Compare offset-aware datetimes
  ([`0fe5d0e`](https://github.com/RedHatInsights/vulnerability-engine/commit/0fe5d0e9914a4ac2ce220a6405078b00a12687a1))


## v2.40.4 (2024-08-16)

### Bug Fixes

- **evaluator**: Skip by message timestamp only in recalcs, recalcs are not full evaluations like
  uploads
  ([`32fd70f`](https://github.com/RedHatInsights/vulnerability-engine/commit/32fd70fcc25bc5513c90c62194d3237afc1b2bed))


## v2.40.3 (2024-08-16)

### Bug Fixes

- **evaluator**: Missing await
  ([`a7cb275`](https://github.com/RedHatInsights/vulnerability-engine/commit/a7cb2759821662aee313b0c5157a80e37797b16c))


## v2.40.2 (2024-08-16)

### Bug Fixes

- **evaluator**: Jsonb column doesn't need to be parsed here
  ([`3f40003`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f400039e7d6e0dff8c171ada8a2cb75614ac365))


## v2.40.1 (2024-08-15)

### Chores

- Add new evaluator skipped metrics
  ([`a06b318`](https://github.com/RedHatInsights/vulnerability-engine/commit/a06b318a697c8228ada59d6a382359776332f448))

- Drop cves_without_errata_evaluator FF
  ([`e33dd18`](https://github.com/RedHatInsights/vulnerability-engine/commit/e33dd1818e7de5fcee5d5ac554ea12544660fa2d))

- Fix RDS metrics and system count graph
  ([`7823de4`](https://github.com/RedHatInsights/vulnerability-engine/commit/7823de4efdb6c51d9ce4ce9c5f2b34df4ccfbdcd))

- Measure loading system profile duration
  ([`ee8630c`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee8630c4afe66cdb741cc1085ae9b9e7bd9bd49f))

- Split some evaluator graphs to upload and recalc
  ([`f421656`](https://github.com/RedHatInsights/vulnerability-engine/commit/f421656e2e1be42afd41d92568ca15fe9c13c648))

- Update dependencies
  ([`4e1aa2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e1aa2e7bb79e4c64c5bdabdc78bc773d60d15be))

mainly gunicorn and aiohttp

### Performance Improvements

- **evaluator**: Re-evaluations should handle only CVEs with errata (as they are triggered by errata
  release)
  ([`a6f5cbd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a6f5cbd06a13910c7c3b148aa4541b2e78680fd1))

this makes re-evaluations partial and unfixed CVEs changes will be handled by evaluator_upload only


## v2.40.0 (2024-08-13)

### Features

- **evaluator**: Skip re-evaluation for systems without packages changed in repos
  ([`2650903`](https://github.com/RedHatInsights/vulnerability-engine/commit/2650903e9b82e744f0c48c37b9ebd98c3a1aa78b))

RHINENG-10107

### Refactoring

- Move evaluator message types to single place
  ([`2e27c78`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e27c78e81f391f5ff5f38b6d88c3a3c9d2da361))

RHINENG-10107


## v2.39.0 (2024-08-06)

### Bug Fixes

- **vmaas-sync**: Need to increase timeout due to large responses with changed pkgs
  ([`a016204`](https://github.com/RedHatInsights/vulnerability-engine/commit/a016204673571679136b5c1f67aa6e54af6e916d))

RHINENG-10107

### Features

- **database**: Table for storing recalc events
  ([`13b871b`](https://github.com/RedHatInsights/vulnerability-engine/commit/13b871b5b2d78f69ea0d83216292c498ef46af0c))

RHINENG-10107

- **vmaas-sync**: Cleanup old recalc events
  ([`bb2bc00`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb2bc0061f7ad02ea6b375bf5cfd3ade5851ca73))

RHINENG-10107

- **vmaas-sync**: Save updated packages to the DB to be re-used in evaluator later
  ([`5d895e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d895e05d3ac2c6be36d9e5e58e671e15c2d76b3))

RHINENG-10107

### Refactoring

- **vmaas-sync**: Remove feature flag to disable repo-based recalc
  ([`199283c`](https://github.com/RedHatInsights/vulnerability-engine/commit/199283c6f26c2c1dfaa755aae5f6539af4d122a1))


## v2.38.10 (2024-07-30)

### Bug Fixes

- **manager**: Advisory detail is never returned
  ([`bda337a`](https://github.com/RedHatInsights/vulnerability-engine/commit/bda337a02d278c30443de79256b269c883b7bdf8))

RHINENG-11586

### Chores

- Add grafana dashboard for evaluation duration metrics
  ([`de0860b`](https://github.com/RedHatInsights/vulnerability-engine/commit/de0860b163a5c1bac9b34bf6f520569596ba9ad4))

- Add prometheus-async
  ([`38a5ba7`](https://github.com/RedHatInsights/vulnerability-engine/commit/38a5ba734cf518585bbdeff4eea4224c5d2dd69f))

- Extend evaluation metrics
  ([`f189b4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f189b4bcf2cccb2042d8cd66374f209ba466857a))

RHINENG-11508

- Observe duration of async functions
  ([`64b30a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/64b30a7998fda19296618b5a82064f56ebbdec26))


## v2.38.9 (2024-07-18)

### Bug Fixes

- Add cve_account_data rh_account_id index
  ([`5f8bdf9`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f8bdf98874568da38b1f2e9a63370d55728d08b))


## v2.38.8 (2024-07-17)

### Bug Fixes

- **evaluator**: Limit number of linked vulnerable packages to a system
  ([`bb9b5fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb9b5fcaa1276f3c55d184d6a5babeae8e568983))


## v2.38.7 (2024-07-08)

### Bug Fixes

- **manager**: Add missing DISTINCTs
  ([`66953f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/66953f711357fd895cca9718d3976df2136ac394))

RHINENG-11221

### Chores

- Update deps
  ([`fb7a8fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb7a8fcfb3cccb2861f4ddd3284aeb3aa424b3df))


## v2.38.6 (2024-07-03)

### Bug Fixes

- **database**: Add module information to vulnerable_package table
  ([`c9fd444`](https://github.com/RedHatInsights/vulnerability-engine/commit/c9fd44407b32591f46edde0bb624bc369bf95491))

RHINENG-11179

- **evaluator**: Use module information from VMaaS response
  ([`cf749c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf749c44816db8b4e6fb34491c32b318223b508c))

RHINENG-11179


## v2.38.5 (2024-06-27)

### Bug Fixes

- **vmaas_sync**: Revert recalc system with updated packages in repos
  ([`a469448`](https://github.com/RedHatInsights/vulnerability-engine/commit/a469448184f4442d7d975815cc932bd220826785))

Additional work needs to be done, reverting the change to not block release to prod.

RHINENG-10107 RHINENG-10893

This reverts commit a776d33be63e166b3cff93a68248bd15af6fe1a6. This reverts commit
  97e9354a5953b949b15e4d07c408a07983e45272. This reverts commit
  d8cef5a5b3b373bb0761481bfbdbff78580cbc1d. This reverts commit
  8422f755e34a99b321fcaf99d06a527d6a3feae4.


## v2.38.4 (2024-06-26)

### Bug Fixes

- Udpated_repos keyerror in vmaas-sync
  ([`a776d33`](https://github.com/RedHatInsights/vulnerability-engine/commit/a776d33be63e166b3cff93a68248bd15af6fe1a6))

RHINENG-10893


## v2.38.3 (2024-06-25)

### Bug Fixes

- Increase memory requests for vmaas-sync
  ([`60a3229`](https://github.com/RedHatInsights/vulnerability-engine/commit/60a3229b3eabf34a248edf1ddc3fba6da3324fc0))

RHINENG-10893


## v2.38.2 (2024-06-25)

### Bug Fixes

- Keyerror in vmaas-sync
  ([`d8cef5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8cef5a5b3b373bb0761481bfbdbff78580cbc1d))

RHINENG-10893

- Use show_packages to get updated_package_names from vmaas
  ([`97e9354`](https://github.com/RedHatInsights/vulnerability-engine/commit/97e9354a5953b949b15e4d07c408a07983e45272))

RHINENG-10893


## v2.38.1 (2024-06-20)

### Bug Fixes

- String formatting in CloudWatch
  ([`33a3e53`](https://github.com/RedHatInsights/vulnerability-engine/commit/33a3e53b98538639995b5b60c176f51ab631b775))

RHINENG-8336

### Chores

- Update deps and lock all of them only to major version
  ([`34208ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/34208eebcbf25f141ff60f039f070fea55d29647))

RHINENG-10652


## v2.38.0 (2024-06-10)

### Features

- **vmaas_sync**: Recalc system with updated packages in repos
  ([`8422f75`](https://github.com/RedHatInsights/vulnerability-engine/commit/8422f755e34a99b321fcaf99d06a527d6a3feae4))

RHINENG-10107


## v2.37.8 (2024-06-07)

### Bug Fixes

- **build**: Update it-root-ca
  ([`4899219`](https://github.com/RedHatInsights/vulnerability-engine/commit/4899219fadf056d581c2d08dab828875aed34ddb))

RHINENG-10539


## v2.37.7 (2024-06-06)

### Bug Fixes

- Include levelname in CW logs from python code
  ([`a881b68`](https://github.com/RedHatInsights/vulnerability-engine/commit/a881b6839fb4fe47f6dcf8f3e5e66c47bc4a83b6))

RHINENG-8336

### Chores

- Centos 8 Stream was removed, install postgresql from COPR
  ([`d510f31`](https://github.com/RedHatInsights/vulnerability-engine/commit/d510f3151fe40c0f448ca2f5b2d5db2463ea018c))

- Update dependencies
  ([`8569134`](https://github.com/RedHatInsights/vulnerability-engine/commit/856913444aa57028ca78d3c41851c7af86f586c9))

RHINENG-10047

- Waive CVE-2019-8341 jinja2 (old CVE, we're using latest version, false positive?)
  ([`e26ae1e`](https://github.com/RedHatInsights/vulnerability-engine/commit/e26ae1e3c900f646601834f13a357ebe1b11355c))


## v2.37.6 (2024-04-25)

### Bug Fixes

- **build_deploy**: Only create sc tag when building sc branch
  ([`bb55383`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb55383ee087491c6deae3189ffb010bb9c6f79a))


## v2.37.5 (2024-04-23)

### Bug Fixes

- **taskomatic**: Use org_id for metrics because account_number can be empty
  ([`768fa7d`](https://github.com/RedHatInsights/vulnerability-engine/commit/768fa7d99f03e7f972f9fa343438a4045211867e))

### Chores

- Force using bash due to syntax error
  ([`cbc6637`](https://github.com/RedHatInsights/vulnerability-engine/commit/cbc6637e9ecb791d0766eaabffea00f04813ebe8))

- Upgrade to latest gunicorn and idna
  ([`8d315d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d315d0ac5a9ffb07dac2942c30c63975e103d32))

RHINENG-9574


## v2.37.4 (2024-04-18)

### Bug Fixes

- **database**: Vulnerable_package_cve(cve) index is useful for cve/affected_systems query
  ([`98206e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/98206e51ecfa6256c74a10a05f400dd3a482f019))


## v2.37.3 (2024-04-17)

### Bug Fixes

- **manager**: Uvicorn worker overrides gunicorn logging settings
  ([`068dd08`](https://github.com/RedHatInsights/vulnerability-engine/commit/068dd0868349294bd6cfa4413a06e5675cd17277))


## v2.37.2 (2024-04-17)

### Bug Fixes

- **manager**: Set specific models for possible RW operations instead of changing peewee internals
  ([`b937f1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/b937f1a37d249959f0dbd110a19e8a7bf9b1dbb4))

### Chores

- Log there are missing secrets for read replica
  ([`f994fb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/f994fb38a1beab8ccc66728a404c467c3a76692e))


## v2.37.1 (2024-03-15)

### Bug Fixes

- **manager**: Pin a2wsgi due to bug
  ([`0939141`](https://github.com/RedHatInsights/vulnerability-engine/commit/093914130025c824d0fa0355d740e4d1777dcdf0))

https://github.com/spec-first/connexion/issues/1894

- **manager**: Selected wait_event_type and wait_event can be NULL
  ([`6116b8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6116b8ce5974371d4ec061d0032f6bf13ff0b3a2))

### Chores

- --verify has been deprecated
  ([`6dd38a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/6dd38a492c16f74c9cec5c92adf2282226266d16))

- Upgrade peewee
  ([`5b552df`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b552df1b7f5aa750443ba6401ec7cb871999d55))

- Upgrade to py 3.11 in test container
  ([`145b372`](https://github.com/RedHatInsights/vulnerability-engine/commit/145b372c61f99c36e69b0c8c9cd6d97cbd8f846d))

- **manager**: Upgrade to connexion 3 (keep flask)
  ([`197f578`](https://github.com/RedHatInsights/vulnerability-engine/commit/197f57805eb7b7ca42dc6d427a5ea3188e247cf0))

RHINENG-7677

- **platform-mock**: Update kafka url
  ([`1878c87`](https://github.com/RedHatInsights/vulnerability-engine/commit/1878c8779e5ce0edfbd56edbe988c4ce700ff2cb))

### Testing

- Current query is now actually selected
  ([`ff0ab5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff0ab5f0b0c55ec6c38bcfa799a14f06af444ec3))


## v2.37.0 (2024-02-26)

### Chores

- Update dev setup info in README
  ([`48136f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/48136f33c2943386edd2d5c6b75dc02220cb3b8e))

- **deps**: Update aiohttp to fix cve
  ([`2fe50f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/2fe50f8d17f32e76d45c6d0c3608b68a8b4999e8))

poetry also updates other packages which are not pinned RHINENG-7857

### Features

- **manager**: Add status ID cache
  ([`7222df6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7222df6042b7eb67b54611cc51c97adc48b4d689))

RHINENG-2381

- **manager**: Inherit global CVE status in case CVE-system override is not set
  ([`3c672b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c672b29409e1de46f4d03a51202cdc13873d878))

RHINENG-2381

- **taskomatic**: Inherit global CVE status for generated caches
  ([`d1f16e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1f16e03ed4a1a10f5430b096d377b4e2c49d2d2))

RHINENG-2381


## v2.36.0 (2024-02-13)

### Features

- Delete edge_parity feature flag
  ([`205e35a`](https://github.com/RedHatInsights/vulnerability-engine/commit/205e35a730f3b697218ab350ca9be8019a4227b8))

RHINENG-2179


## v2.35.0 (2024-02-05)

### Features

- Support multiple kafka brokers
  ([`4bc728e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4bc728e80fb7c05ff25659e845f248847c8ff950))

RHINENG-3748


## v2.34.8 (2024-02-02)

### Bug Fixes

- **clowdapp**: Fix listener resource requests
  ([`1def2a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/1def2a7c4785b78fe039790c98474c75a8eaa17f))

### Chores

- Update python version
  ([`96f24e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/96f24e6b2895b74c9c5fab24ba60f13947b69ebc))

RHINENG-7728

- Use --no-remove-resources for vulnerability-engine
  ([`6eb10ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/6eb10ac7e77ad73fd7414cedc76e9754d7b0eabd))

manage worker processes are getting killed in ephemeral env [2024-01-24 15:29:01 +0000] [1] [ERROR]
  Worker (pid:1307) was sent SIGKILL! Perhaps out of memory?


## v2.34.7 (2024-01-26)

### Bug Fixes

- **floorist**: Try to run with chunksize to lower memory requirements
  ([`b821fcd`](https://github.com/RedHatInsights/vulnerability-engine/commit/b821fcd3b8fc50da65208432d4d0592d79e4a280))


## v2.34.6 (2024-01-08)

### Bug Fixes

- Store biggest latest_repo_change not just timestamp from last page
  ([`332590c`](https://github.com/RedHatInsights/vulnerability-engine/commit/332590c9f520cf1b73dcab65e5431be12f622c86))


## v2.34.5 (2023-12-15)

### Bug Fixes

- **manager**: Display service account username in logs
  ([`ef6e2e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef6e2e1d44678b3c42de4138bed012d72e5822e5))

RHINENG-6121

### Chores

- Service account support in 3scale-mock
  ([`cb01f87`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb01f87dccd36cd3b86c529c95a3ac4ebd5507b3))


## v2.34.4 (2023-12-11)

### Bug Fixes

- **manager**: Return query after applying where to make it work
  ([`567ff23`](https://github.com/RedHatInsights/vulnerability-engine/commit/567ff23264ca53c5b56c6d9068740966650ecaed))

RHINENG-5472


## v2.34.3 (2023-12-07)

### Bug Fixes

- 'yupana' is going to be deprecated in favor of 'satellite' and 'discovery'
  ([`3e1b031`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e1b0316d3bd3175c38b59e3666a36ecf64b5f26))

- **manager**: Use inner join when possible with affecting_host_type param
  ([`d03a4f4`](https://github.com/RedHatInsights/vulnerability-engine/commit/d03a4f44c9eab9369a5b321dc25b9bfe9ccb1a5b))

RHINENG-5256


## v2.34.2 (2023-12-07)

### Bug Fixes

- **manager**: Use limiter only in 3scale proxy calls
  ([`024a811`](https://github.com/RedHatInsights/vulnerability-engine/commit/024a8117196d80ca0aa098ab62c540300eb9d2ab))


## v2.34.1 (2023-12-06)

### Bug Fixes

- **manager**: Systems_affected columns should never be NULL when applying filters
  ([`0156188`](https://github.com/RedHatInsights/vulnerability-engine/commit/015618866f859a86d0cb089ef0c2479a6180c285))

...and for some reason postgresql executes the query faster

RHINENG-5256


## v2.34.0 (2023-12-06)

### Features

- Enable edge_parity feature flag
  ([`5baee7d`](https://github.com/RedHatInsights/vulnerability-engine/commit/5baee7da04bea38b60052949f40f95388f725d18))


## v2.33.0 (2023-12-05)

### Chores

- Check init.py in separate workflow step
  ([`cef6a89`](https://github.com/RedHatInsights/vulnerability-engine/commit/cef6a89269caa6282d10cae9af8593eb971f34c0))

### Features

- **manager**: Add system_count_per_type counts in /vulnerabilities/cves
  ([`5ab3fa8`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ab3fa8822aa201ed00e28a30879d7e858976e8b))

RHINENG-5885


## v2.32.2 (2023-11-30)

### Bug Fixes

- **manager**: Referer should only check redhat DNS domain
  ([`f61daa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/f61daa34ad4e8a8b558c6c2cb9bfed5a229cd611))

### Chores

- Add gabi script collecting cve stats
  ([`d9aca04`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9aca0478c694dbfb321f8b9eaefe63b0d63b3b7))


## v2.32.1 (2023-11-29)

### Bug Fixes

- **manager**: Fix dashbar to use new cache
  ([`a49db16`](https://github.com/RedHatInsights/vulnerability-engine/commit/a49db16bd072ad6ef31131c763bdda91360e1432))

RHINENG-5256

- **manager**: Fix dashboard to use new cache
  ([`b8f8638`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8f8638780c4132c835609decb00d24757507b8d))

RHINENG-5256

- **manager**: Fix exec report to use new cache
  ([`07c0ab3`](https://github.com/RedHatInsights/vulnerability-engine/commit/07c0ab3af8d0bc2f5e6697bb005c5f2e81b46c16))

RHINENG-5256


## v2.32.0 (2023-11-29)

### Features

- **cacheman**: Start counting edge systems inside cache
  ([`e4de48f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4de48fb65a28e166eedfa71a6927dbf8b8bbc79))

RHINENG-5256

- **manager**: Use edge caches for vulnerabilities endpoint
  ([`9e7f8df`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e7f8df05b5d939449219131da576ec442c185ae))

RHINENG-5256


## v2.31.0 (2023-11-29)

### Chores

- Split tests job into separate tasks
  ([`f7ab21d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7ab21d8d09071fd4e47d397ed71aa87d5fdd1b1))

### Features

- **manager**: Add API throttling
  ([`ae2d84d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae2d84d9f0f6149638d19cb92f4e678f8e9b74b7))


## v2.30.1 (2023-11-27)

### Bug Fixes

- **manager**: Allow UI referer to be other envs
  ([`abd185a`](https://github.com/RedHatInsights/vulnerability-engine/commit/abd185a63087da6bb63595e5bf7f39665e07b0bd))


## v2.30.0 (2023-11-27)

### Features

- **manager**: Limit page size to 100
  ([`9404052`](https://github.com/RedHatInsights/vulnerability-engine/commit/9404052e3c9b8a77c48342c601c073c6f2e0096a))


## v2.29.0 (2023-11-24)

### Chores

- Log debug insert/delete vulnerable pkg-cve
  ([`eb4dc1b`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb4dc1b1097078b1dd094b0e6a25e7ee1ecb38b3))

### Features

- **evaluator**: Skip old kafka evaluation messages
  ([`33f8e98`](https://github.com/RedHatInsights/vulnerability-engine/commit/33f8e98f3a0494b1322cd520addd3dfd38ebbbca))


## v2.28.0 (2023-11-23)

### Features

- **manager**: Introduce NA score CVEs as 0 in dashboard
  ([`622f52a`](https://github.com/RedHatInsights/vulnerability-engine/commit/622f52a9dc3536da3ebc8417492becbb01c0828c))

RHINENG-3260

- **manager**: Introduce NA score CVEs as 0 in executive
  ([`87a1dd6`](https://github.com/RedHatInsights/vulnerability-engine/commit/87a1dd6e9488f5eb5234a42089d6a6c2dd5a875a))

RHINENG-3260

- **manager**: Introduce NA score CVEs as 0 in vuln/cves POST
  ([`5401490`](https://github.com/RedHatInsights/vulnerability-engine/commit/540149083df9b0cb992b78985dda9145b12687e9))

RHINENG-3260


## v2.27.0 (2023-11-23)

### Chores

- Update dependencies
  ([`f160f5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f160f5de23e0ced52b5d2e2d8e963f688bf059bf))

- **manager**: Limit API request size
  ([`3f8e37f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f8e37f6d0c66ac976235c5a151d5f470f3a4970))

### Features

- **manager**: Executive report to feature system count by host types
  ([`49dcd6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/49dcd6c9dbefb81aa719edb407f54794dcafbf1f))

RHINENG-3332


## v2.26.0 (2023-11-10)

### Features

- **vmaas_sync**: Fetch paginated vmaas values differently
  ([`c7f54d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7f54d0f4cd1b9dd7a8a170e1d0165b602725608))

RHINENG-2609


## v2.25.3 (2023-11-09)

### Bug Fixes

- Mitigate CVE-2023-61657, CVE-2023-61661
  ([`b95d0b4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b95d0b4d387e30a0c85d72e7e7a5829bcbf3a8eb))


## v2.25.2 (2023-11-08)

### Bug Fixes

- **manager**: Randomize unleash tmp path for each gunicorn process
  ([`f35e2f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/f35e2f910fb0da30356579ed7b068932beb98ccb))

### Chores

- Add type annotations and use named tuples
  ([`6283173`](https://github.com/RedHatInsights/vulnerability-engine/commit/6283173e3428bb30527ab5440a0b88b6f4a46340))

### Refactoring

- Add separate table to store system-cve statuses
  ([`8aa973a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8aa973a1f89ad1d666512204c96567c2d67beb89))

RHINENG-2328

- Change selects to use the system_cve_data table
  ([`81384d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/81384d3f8241357474040f0bf6b4bf9caf8f3f13))

RHINENG-2328

- Migrate status values from system_vulnerabilities to system_cve_data
  ([`c381cba`](https://github.com/RedHatInsights/vulnerability-engine/commit/c381cbad698d5cf3b1f7aa4c8e643a6a64849163))

RHINENG-2328

- Re-write status_handler to use the system_cve_data table
  ([`880d51d`](https://github.com/RedHatInsights/vulnerability-engine/commit/880d51ded17fb3716ec11760a4f6f5408e58dde1))

RHINENG-2328


## v2.25.1 (2023-11-07)

### Bug Fixes

- **manager**: Fix print
  ([`a18601d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a18601d7e6206b7d3b90206691b9c5d621f8389f))


## v2.25.0 (2023-11-07)

### Bug Fixes

- Mitigate CVE-2023-43804 and bump subdependencies
  ([`edb7154`](https://github.com/RedHatInsights/vulnerability-engine/commit/edb71545a099a48d4a3ecd5ff951b7fce87a49e1))

### Features

- Enable cyndi filters on ephemeral
  ([`8a46f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a46f09c1c285f328ac25115276cfa9b06a8df3c))


## v2.24.0 (2023-11-07)

### Features

- **manager**: Add overall affected systems count to /cve/id
  ([`d6554c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6554c675f4e8fa3fa264d38bde76f546191becf))

RHINENG-2824


## v2.23.0 (2023-11-02)

### Features

- **manager**: Return RPMDNF systems by default from affected_systems
  ([`73e3b2a`](https://github.com/RedHatInsights/vulnerability-engine/commit/73e3b2a3b592b30a4aea57e61a788370aa87acc7))

RHINENG-1640


## v2.22.0 (2023-11-02)

### Features

- **manager**: Allow customer to delete his received notifications
  ([`40c244a`](https://github.com/RedHatInsights/vulnerability-engine/commit/40c244a83840ce3b2a4f1d3f876189d0a71c6fe0))

VULN-2833


## v2.21.5 (2023-11-01)

### Bug Fixes

- **taskomatic**: Don't hide stale_warning systems
  ([`8a74ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a74ba9640ea2aa2be038023e37be5c61a0fb05e))

VULN-2825


## v2.21.4 (2023-10-30)

### Bug Fixes

- **vmaas_sync**: Use new last change timestamp for repo based evaluation
  ([`0adc117`](https://github.com/RedHatInsights/vulnerability-engine/commit/0adc117a95b52c2e6911aa7ece37a8ac65b407ff))

RHINENG-2609


## v2.21.3 (2023-10-18)

### Bug Fixes

- Url returns 404
  ([`8d051d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d051d85ce2f446e7a2b849d28886a1fa36a96e9))


## v2.21.2 (2023-10-18)

### Bug Fixes

- **manager**: Fix inventory filters query
  ([`cad9376`](https://github.com/RedHatInsights/vulnerability-engine/commit/cad9376fc5ab64b2d5db09c92c26f6333af53764))

### Chores

- Upgrade aiokafka to 0.8.1
  ([`23b8805`](https://github.com/RedHatInsights/vulnerability-engine/commit/23b88058274a16ed4d67c7369ba6e282f9846c17))


## v2.21.1 (2023-10-10)

### Bug Fixes

- **evaluator**: Revert - always set none remediation for rule hits without playbook
  ([`3f66b56`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f66b5605765276f0c6b854f7869040d977e5fb9))

This reverts commit fad7272735ac5512e90a949742ee794b243a4e33.


## v2.21.0 (2023-10-09)

### Features

- **common**: Introduce db pool timeout and enlarge it to 5 minutes
  ([`8bc63e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/8bc63e8b43c4427076ecd5fa2d439274aa105650))


## v2.20.2 (2023-10-06)

### Bug Fixes

- **manager**: Fix sorting by fields in affected_systems endpoint
  ([`d4a159b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d4a159ba41ca29278f262a516ec2ba0ceab271de))

- **manager**: Fix sorting by fields in cves/ids endpoint
  ([`93c6201`](https://github.com/RedHatInsights/vulnerability-engine/commit/93c620124b4731913e1d8fefe1e7749220e7011e))


## v2.20.1 (2023-10-05)

### Bug Fixes

- **manager**: Advisory_available flag in unfixed only query
  ([`31efe16`](https://github.com/RedHatInsights/vulnerability-engine/commit/31efe16feade4cedb728b45ed8208ce13d819036))


## v2.20.0 (2023-10-05)

### Bug Fixes

- **evaluator**: Exclude rule hits without remediation from total system CVE count
  ([`b77a01f`](https://github.com/RedHatInsights/vulnerability-engine/commit/b77a01f18cf761aa7f2d0d7ca9fb1316905ab428))

VULN-2790

- **manager**: Exclude rule hits without remediation from advisory_available list
  ([`f7837d6`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7837d67df94b59a5f4e1506c1f8c3ecb96e18f4))

move them to advisory_available=false list

VULN-2790

- **taskomatic**: Exclude rule hits without remediation from advisory_available list
  ([`08fe830`](https://github.com/RedHatInsights/vulnerability-engine/commit/08fe8307016b3d6338fc1483ab087783ad66b28a))

move them to advisory_available=false list

VULN-2790

### Features

- **manager**: Systems sortable by groups
  ([`993a8d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/993a8d09eaeb2c1e476e6cba7c201cf8b444461e))

RHINENG-1837

### Testing

- Set playbook remediation in test data
  ([`958d687`](https://github.com/RedHatInsights/vulnerability-engine/commit/958d6872b33ff9ae45b786f23f1f7f5477c023e7))


## v2.19.5 (2023-10-02)

### Bug Fixes

- **evaluator**: Always set none remediation for rule hits without playbook
  ([`fad7272`](https://github.com/RedHatInsights/vulnerability-engine/commit/fad7272735ac5512e90a949742ee794b243a4e33))

VULN-2790


## v2.19.4 (2023-10-02)

### Bug Fixes

- **manager**: Display only fixed cves in dashbar
  ([`e700e8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e700e8c6e305f1b0d064d71d30c8b936c056b96c))

- **manager**: Display only fixed cves in dashboard
  ([`2ef21fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ef21fed1f66b01267e45f33caf5818560dd8c85))

- **manager**: Display only fixed cves in exec report
  ([`24f7cee`](https://github.com/RedHatInsights/vulnerability-engine/commit/24f7cee48b2f9894c8b41880b9e0820ad541c6e4))


## v2.19.3 (2023-09-29)

### Bug Fixes

- Add unleash env var to clowdapp
  ([`b763531`](https://github.com/RedHatInsights/vulnerability-engine/commit/b763531e89a3d1c64c7c9b65ab3a6f7909b6e789))

- Add vulnerability.account_cache unleash ff
  ([`18df6d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/18df6d0cfc10fdf68227f8ae5a9754de67e8f38c))

- Add vulnerability.inventory_groups unleash ff
  ([`17c7c6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/17c7c6d69755c04bf2474ffb53fa5ea701ba0ac0))

- Use unleash to set up cves_without_errata feature
  ([`d53dafd`](https://github.com/RedHatInsights/vulnerability-engine/commit/d53dafdf488cae75592dcebd35125edbf6fb0d8e))

### Chores

- Enable all local/ephemeral feature flags
  ([`41b7807`](https://github.com/RedHatInsights/vulnerability-engine/commit/41b7807cb42d9ce37cd803662e8957f192f70bc4))

- Update tests to work with cves_without_errata unleash
  ([`7991773`](https://github.com/RedHatInsights/vulnerability-engine/commit/79917735f627de7dabd5caa67a55b6c5cd492b3e))


## v2.19.2 (2023-09-29)

### Bug Fixes

- **listener**: Raise InvalidAdvisorMsg which will be catched
  ([`0a00488`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a004887102e040e3758aa488959826c21b4b96e))


## v2.19.1 (2023-09-27)

### Bug Fixes

- **manager**: Verify that cached groups and fetched groups have same
  ([`ba2becd`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba2becddf50bbe29eed430f03e05ba1d65362ed8))


## v2.19.0 (2023-09-27)

### Features

- **cacheman**: Start generating cache based on cached groups
  ([`382fe13`](https://github.com/RedHatInsights/vulnerability-engine/commit/382fe136376dbd7638e0f21013ce06e42adb4c59))

- **manager**: Start inserting inventory groups into cache
  ([`7b6dff7`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b6dff7691d5b7a5aded8a6a163a46a7dd5cc51e))

### Refactoring

- **manager**: Use accountdata dataclass
  ([`3bf1f50`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bf1f508e18adaebb96a7ef96294285b8ecca5f0))


## v2.18.8 (2023-09-27)

### Bug Fixes

- **manager**: Include cves without cvss score in cvss filter
  ([`9640a05`](https://github.com/RedHatInsights/vulnerability-engine/commit/9640a05adce264fd2bc0765950d341b0854a9037))

VULN-2810


## v2.18.7 (2023-09-26)

### Bug Fixes

- **manager**: Re-introduce bool_or to avoid CVE duplication
  ([`6ce651e`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ce651e00125f232cc80f9179a7b03c614d18978))

VULN-2821


## v2.18.6 (2023-09-26)

### Bug Fixes

- **manager**: Fix the condition to show unfixed CVEs in current env
  ([`1f47c25`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f47c255b4ff7015ed0749124414eeeb86cfac4a))

VULN-2821


## v2.18.5 (2023-09-25)

### Bug Fixes

- **manager**: Fix the condition
  ([`4f08fa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f08fa3e132d6d962f7ff379e4b8daec6f2731ff))

VULN-2789


## v2.18.4 (2023-09-25)

### Bug Fixes

- **manager**: Do not show advisory_available=true when filter is false and CVE has 0 affecting
  systems
  ([`d7416ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7416ee6c17e19dcf9cad4105187562a67544e60))

VULN-2789


## v2.18.3 (2023-09-25)

### Bug Fixes

- **manager**: Check static advisory list instead of default true
  ([`d8a77ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8a77ac312cba466a842cf7cd5a5e91979b67da5))

fixes bug when all CVEs with 0 affecting systems are displaing Advisory Available VULN-2789

### Chores

- Update gitpython to fix vulnerabilities
  ([`e510f40`](https://github.com/RedHatInsights/vulnerability-engine/commit/e510f401b9e8958e7ec95b6529af9c21a841afad))


## v2.18.2 (2023-09-21)

### Bug Fixes

- **manager**: Improve advisory_available without affecting filter
  ([`fe11141`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe11141c0fc2a485bc812d608dc7e22094090e23))

VULN-2789

advisory_available=true,false or null: display all CVEs

advisory_available=true: display CVEs having at least 1 advisory + CVEs with advisories affecting
  current env (should be a subset but non necessarily due to rules)

advisory_available=false: display CVEs having 0 advisory + CVEs marked as unfixed in current env


## v2.18.1 (2023-09-21)

### Bug Fixes

- **manager**: Correctly sum statuses from both subqueries
  ([`c79c0af`](https://github.com/RedHatInsights/vulnerability-engine/commit/c79c0af07a25d1cffddee88bdaf3d5897fcb587e))

- **manager**: Display all CVEs when no advisory_available filter is specified
  ([`9f4732f`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f4732fae93fca6c1f738a276275395e6d765c97))

VULN-2807


## v2.18.0 (2023-09-21)

### Features

- **listener**: Skip non-rhel systems for advisor message
  ([`86a372e`](https://github.com/RedHatInsights/vulnerability-engine/commit/86a372ec651eb5428243fb0cc3335c10b5b69fb5))

RHINENG-2199

- **listener**: Skip non-rhel systems for inventory message
  ([`549bc83`](https://github.com/RedHatInsights/vulnerability-engine/commit/549bc8337fa58321342769df2c606c3de3ce37f1))

RHINENG-2199

- **platform_mock**: Start sending mocked rhel version
  ([`47362e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/47362e30a3fcb897fb1daadd9f42206fd06dd3b2))

RHINENG-2199


## v2.17.6 (2023-09-21)

### Bug Fixes

- **evaluator**: Correct evaluation of remediation type
  ([`827eaa4`](https://github.com/RedHatInsights/vulnerability-engine/commit/827eaa44cb9bdce42d6cea6480fc4940ce4a0b22))

RHINENG-2224


## v2.17.5 (2023-09-20)

### Bug Fixes

- **manager**: Fix of a distinct count, need to do in more complicated way
  ([`3bbfa15`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bbfa15f880197c09762a9799c4cc6399cb68ca5))

VULN-2799


## v2.17.4 (2023-09-20)

### Bug Fixes

- **manager**: Fix a case when there are more vulnerable packages associated with a system
  ([`84c21c8`](https://github.com/RedHatInsights/vulnerability-engine/commit/84c21c85823f4be3116107199c6c467956474b5f))

and triggering the same CVE VULN-2799

### Chores

- **manager**: Return cves_without_errata flag in dashbar meta
  ([`ec038d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec038d4e7d100956b3b4a4a277a292bcf7b3d2d9))

VULN-2796


## v2.17.3 (2023-09-19)

### Bug Fixes

- **manager**: Apply non-empty advisories list filter consistently in all APIs
  ([`67c97bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/67c97bdf0f001bd8647cc509b40ade2479cd1648))

like it's filtered in /vulnerabilities/cves API

this is a workaround for discrepancies in CVE data causing incorrect counts between different
  endpoints some fixable CVE like CVE-2018-20217 has empty advisory list even if it shouldn't have

this should be fixed properly later (the exclusion based on empty advisories_list removed)

VULN-2791


## v2.17.2 (2023-09-19)

### Bug Fixes

- **manager**: Affecting filter should take edge systems into account
  ([`795a84a`](https://github.com/RedHatInsights/vulnerability-engine/commit/795a84ae7a427e39f4dffd71b77587e7a1f30b27))


## v2.17.1 (2023-09-19)

### Bug Fixes

- **manager**: Always join with inventory.hosts even if there are no args
  ([`764966c`](https://github.com/RedHatInsights/vulnerability-engine/commit/764966cc826818a0e10e3d7b846988b9170cd589))

some extra systems (e.g. centos) can persist in system_platform

and also because of inventory groups

VULN-2791


## v2.17.0 (2023-09-18)

### Features

- **manager**: Add affecting host types filter for vulnerabilities/cves
  ([`69a2563`](https://github.com/RedHatInsights/vulnerability-engine/commit/69a25633307c3db50af7713a55fc8149be322be5))

RHINENG-1857

- **manager**: Start counting edge systems in vulnerabilities/cves
  ([`d7143f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7143f63e5c40204016162da98a61fc5540d18fa))

RHINENG-1857


## v2.16.0 (2023-09-15)

### Features

- **manager**: Implement new host_type filter for affected_systems
  ([`91246b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/91246b598eae4c1355f3fba41fb3c167a0dcd42c))

RHINENG-1640


## v2.15.0 (2023-09-14)

### Bug Fixes

- **tests**: Prevent Unleash warnings in tests
  ([`b183ab5`](https://github.com/RedHatInsights/vulnerability-engine/commit/b183ab50e25033685581f55766075653e458b7a4))

RHINENG-1699

### Features

- **cacheman**: Count edge systems in caches
  ([`a10a1a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/a10a1a9e020d321db0476e6b1519d5bba4b2240a))

Count all host types, incl. edge systems, in CVE and rule caches, when enabled by
  `vulnerability.edge_parity` feature flag.

RHINENG-1699

- **taskomatic**: Initialize Unleash
  ([`8dec467`](https://github.com/RedHatInsights/vulnerability-engine/commit/8dec467a7864673826ba54801cbafe40a67a0b46))

RHINENG-1699

- **tests**: Reset Unleash in test cases
  ([`0930b4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0930b4fd65a65167c562950bccdecb6fd34516fe))

RHINENG-1699

### Refactoring

- **cacheman**: Split inner select queries
  ([`6e704cb`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e704cbd9f077a793ac187476a335ab33b8ba6b6))

RHINENG-1699


## v2.14.0 (2023-09-11)

### Features

- Create edge parity feature flag
  ([`3593eed`](https://github.com/RedHatInsights/vulnerability-engine/commit/3593eed4d702292e516a5eaaabf6d37da8881474))

Adds vulnerability.edge_parity flag defaulting to False.

VULN-2776

- **manager**: Dashbar counting edge
  ([`5376d85`](https://github.com/RedHatInsights/vulnerability-engine/commit/5376d85b18228dd13c0db7772c89c43404c3b786))

Count all host types in Dashbar for edge parity when vulnerability.edge_parity feature flag is
  enabled.

VULN-2765

- **manager**: Dashboard counting edge
  ([`1cc4c35`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cc4c35030a2b953df4bf0da039a46f916e75f9d))

Count all host types in Dashboard for edge parity when vulnerability.edge_parity feature flag is
  enabled.

VULN-2765

- **manager**: Initialize unleash
  ([`c05f21b`](https://github.com/RedHatInsights/vulnerability-engine/commit/c05f21b7c5b47b1b67bf611803c247b00095f1c5))

VULN-2776

- **manager**: Systems_affected edge included in cve details
  ([`61ad593`](https://github.com/RedHatInsights/vulnerability-engine/commit/61ad5939a1c7c3f0d6dae4b9385570c6919bf907))

Count all host types in systems_affected counter in CVE details for edge parity when
  vulnerability.edge_parity feature flag is enabled.

VULN-2776

- **manager**: Systems_affected edge included in vuns & reports
  ([`6736407`](https://github.com/RedHatInsights/vulnerability-engine/commit/673640714044c85500c05e190a2e428bd69dc8fe))

Count all host types in systems_affected counter in vulnerablities and reports APIs for edge parity
  when vulnerability.edge_parity feature flag is enabled.

VULN-2776

- **manager**: Systems_affected in rules for all host types
  ([`ba1fbdf`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba1fbdf15cab90b26a407e99013a9e79476a2cf8))

Count all host types in rule's systems_affected counter for edge parity when
  vulnerability.edge_parity feature flag is enabled.

VULN-2776

### Refactoring

- **manager**: Pass edge in get_rules_for_cves
  ([`ba8a195`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba8a1957e3e76a31ca82bc905f92d235e5b0fc09))

VULN-2776 VULN-2765

### Testing

- Create pytest.mark.feature_flag
  ([`9998b2c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9998b2ce97788d3def05f3cd5624a3663d926d05))

Creates py.test marker for enabling/disabling feature flags.

VULN-2776


## v2.13.2 (2023-09-07)

### Bug Fixes

- **manager**: Fix rule_presence filter for unfixed CVEs
  ([`1c3293c`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c3293ce8ffd63c05c0c05238ff9e6b6b3d0c718))


## v2.13.1 (2023-09-07)

### Bug Fixes

- **common**: Unleash authorization token
  ([`12114a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/12114a1bb77766e43a21d1b00b72f028dc34f3a5))

Fixes use of authorization token to Unleash server.

RHINENG-1773

- **config**: Feature flags scheme value
  ([`dded5fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/dded5fbe73a18da2305366495de97ea4da1abea2))

Take value out of FeatureFlagsConfigSchemeEnum.

RHINENG-1773

- **config**: Unleash API url
  ([`5f97473`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f97473fb293e68002ce365e3f335e063be8abbb))

RHINENG-1773


## v2.13.0 (2023-08-31)

### Features

- Add feature flags common
  ([`887fdca`](https://github.com/RedHatInsights/vulnerability-engine/commit/887fdca9be0ea68100cf5a893defa24b48645147))

Adds common code for using feature flags with Unleash.

RHINENG-1700

- Add unleashclient dependency
  ([`4ac9f5c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ac9f5c3a16f0c3de33a1bcfc063352107d86669))

RHINENG-1700

- Create UnleashClientProxy
  ([`d2802bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/d2802bb8e21ce6eb9acc234fbf5cbc250034d411))

RHINENG-1700

- **config**: Load feature flags config
  ([`fda476c`](https://github.com/RedHatInsights/vulnerability-engine/commit/fda476cf8a5bb03d361256211757489126e881ef))

RHINENG-1700

- **evaluator**: Unleash flag cves_without_errata_evaluator
  ([`926450b`](https://github.com/RedHatInsights/vulnerability-engine/commit/926450b7780c3ee43570897fc3bddcb4c104daeb))

Utilize Unleash feature flags for cves_without_errata_evaluator. Flag name:
  vulnerability.cves_without_errata_evaluator

RHINENG-1700

### Testing

- Call function
  ([`2b559c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b559c6da71c9d76dc4df5d0cc8879ed8e8179bb))


## v2.12.2 (2023-08-29)

### Bug Fixes

- **evaluator**: Use rule hit details correctly as object
  ([`c69b2dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/c69b2dcd8d3db0535a1c5e786e16a53a0e3303ba))

VULN-2775

- **listener**: Dont serialize rule hit details in advisor_json
  ([`0d9905d`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d9905dd02e7176d1a676e943264e73a4d67c574))

VULN-2775


## v2.12.1 (2023-08-25)

### Bug Fixes

- **manager**: Remove ungrouped_hosts parameter
  ([`fe8244d`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe8244d4c06a076410835ce541bad3b8749fc5cb))

VULN-2777


## v2.12.0 (2023-08-23)

### Bug Fixes

- **manager**: Use different synopsis sort statement in /vulnerabilities/cves
  ([`641bc87`](https://github.com/RedHatInsights/vulnerability-engine/commit/641bc871ef5c38f029b4c594b98c61f49791ee30))

### Chores

- **tests**: Queries without advisories tests
  ([`33271ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/33271ca8319a60b90567f92d7a71f6b09183f7d9))

### Features

- Add caching for unpatched CVEs
  ([`5475287`](https://github.com/RedHatInsights/vulnerability-engine/commit/547528750631c6c4aef9578e5c805de1ea2a449e))

VULN-2723

- **database**: Add unpatched CVEs testing data
  ([`4e75d9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e75d9c6ca992ab1cc8e75791c9e62a70ae4429b))

- **manager**: Add unpatched cve handler queries
  ([`5cfd728`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cfd72808572ce0230be6fa9406984bee31c8d32))

Co-authored-by: Jan Dobes <jdobes@redhat.com>

- **manager**: Add unpatched system queries
  ([`c182b36`](https://github.com/RedHatInsights/vulnerability-engine/commit/c182b36ea923a989e06b02496d5843cf6e9055d3))

Co-authored-by: Jan Dobes <jdobes@redhat.com>

- **manager**: Support for unpatched CVEs in /vulnerabilities/cves
  ([`ed9956e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed9956e29911dc7b5f0ffc02126c1182b26c903b))

VULN-2723


## v2.11.3 (2023-08-22)

### Bug Fixes

- **evaluator**: Correctly use the rule results
  ([`a9a3d8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9a3d8d7a8f846f4c7609bbe3d0de6c5cb9c8b63))

VULN-2775


## v2.11.2 (2023-08-21)

### Bug Fixes

- Update libs to fix vulnerabilities
  ([`7dc6d03`](https://github.com/RedHatInsights/vulnerability-engine/commit/7dc6d0351c973e7609a918b4560370e68195cb1e))

### Chores

- Jenkinsfile PR Check Enhancement
  ([`da02799`](https://github.com/RedHatInsights/vulnerability-engine/commit/da02799d4bd7eb1ee1c1214797db457a7aca8ffe))

* Added stages to Jenkinsfile

* Get labels in next stage

* Adding helper functions

* Adding stages

* Fixed vars in environment block

* Fixed error

* Fixing stage order

* Sourcing helper functions

* Updating logic

* Updating pr check

* Updates to stages

* Updating smoke test function

* Updated smoke test function for stage

* Install bonfire for smoke tests

* Release namespace false

* Updating smoke test stage

* Flipping flag vars

* Moving initial vars into helper script

* Updating initial vars

* Fixing pre-commit errors

* Setting label flags

* Uncomment function

* Fixing labels

* Fixing var name

* Function cleanup, adding ephemeral deploy stage

- Remove examples requirements.txt to not report vulnerabilities in dependabot
  ([`b06ea58`](https://github.com/RedHatInsights/vulnerability-engine/commit/b06ea58ab7f283aa0160efc541b551d86b157830))

### Documentation

- **manager**: Corrected inventory_group description in spec
  ([`4a7ee22`](https://github.com/RedHatInsights/vulnerability-engine/commit/4a7ee22935724e7c371ac63b5a6f4e23eaf27f02))


## v2.11.1 (2023-08-21)

### Bug Fixes

- Update aiohttp to 3.8.5
  ([`639f547`](https://github.com/RedHatInsights/vulnerability-engine/commit/639f54705ec395436788bfe40d4a11e4bfaf71c2))

### Documentation

- **manager**: Add docstrings to inventory group filters
  ([`b3bd3df`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3bd3df3707500b8d2ad721710443c8829de926c))


## v2.11.0 (2023-08-17)

### Features

- Full memory fetching in floorist
  ([`c946d3b`](https://github.com/RedHatInsights/vulnerability-engine/commit/c946d3be47269a11549ba6d952b447feb0779b84))

VULN-2773


## v2.10.1 (2023-08-16)

### Bug Fixes

- Corrected rbac parsing
  ([`9f31aac`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f31aaccf79e7567b80f49ee26ad420ae6935386))


## v2.10.0 (2023-08-14)

### Features

- Add inventory groups feature flag
  ([`8b5af9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8b5af9c18bb3d353ccff798c2c080844ca94c34a))


## v2.9.1 (2023-08-08)

### Bug Fixes

- **manager**: Fix semantics of cacheable requests
  ([`b02158d`](https://github.com/RedHatInsights/vulnerability-engine/commit/b02158d6c3fa3305225e2fed9b78dcc4b7cf34b1))

- **manager**: If only [] is in list, req is cacheable
  ([`963f257`](https://github.com/RedHatInsights/vulnerability-engine/commit/963f25726b390dac516eaca63b473eed99ac806a))

- **manager**: Remove double count_subquery creation
  ([`6f7a2c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6f7a2c69cc764c55befc2d40082ec5f3e21a6090))

- **manager**: Show ungroupped systems
  ([`1a16162`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a16162f7fbfae970c2c8361b412e450be20084c))


## v2.9.0 (2023-08-07)

### Chores

- Generate insights archives compatible with current insights-core
  ([`441e930`](https://github.com/RedHatInsights/vulnerability-engine/commit/441e930a397535db0c25655e903b3b485412ae01))

- **cluster**: Change cluster to defaultly cluster sys_vulns and
  ([`f342017`](https://github.com/RedHatInsights/vulnerability-engine/commit/f342017630ac80641233c52a9d0f6d54f48e4474))

- **platform-mock**: Insert insights_id and groups
  ([`145bc9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/145bc9c536d5e8f4fc10d3128d9669ba312ad576))

- **platform-mock**: Make reporter configurable
  ([`c5aa57a`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5aa57a7c3651adf647ad708d15a670fe5f35fe3))

- **platform-mock**: Make the default behavior opposite
  ([`a3ef150`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3ef15023d55dfb730b10cac9a4c6baacfeb5ba7))

### Features

- **cluster**: Run cluster on system_vulnerable_package and cve_metadata
  ([`5ec76ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ec76efe7272ab1833c17ce3299726ce954d3c40))

VULN-2759


## v2.8.1 (2023-08-01)

### Bug Fixes

- **manager**: Make cves_without_errata nullable to indicate global disable
  ([`d26ead5`](https://github.com/RedHatInsights/vulnerability-engine/commit/d26ead578f3f5ad56c0ef39eeabfff68b2ab7958))

null - don't display any UI elements false - display UI elements to enable FF, hide
  advisory_available filter true - display UI elements to disable FF, show advisory_available filter


## v2.8.0 (2023-07-31)

### Features

- **vuln_handler**: Filter by inventory groups
  ([`a20b094`](https://github.com/RedHatInsights/vulnerability-engine/commit/a20b094241cbdde4b49ce33c17fe59930139a7a9))


## v2.7.1 (2023-07-31)

### Bug Fixes

- Corrected condition for caching
  ([`b9934e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9934e45afe4a30f272d3ecc9b5aedcebc093f35))


## v2.7.0 (2023-07-31)

### Features

- **system_handler**: Filter by inventory groups
  ([`abf895d`](https://github.com/RedHatInsights/vulnerability-engine/commit/abf895d98c1fea878aed591ea9f09d7889623b69))


## v2.6.0 (2023-07-31)

### Features

- **cve_handler**: Filter by inventory groups
  ([`c1a27f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1a27f76f2f0770a65a190e58a38756229a9a10e))


## v2.5.0 (2023-07-25)

### Features

- Filter by inventory groups in cyndi join
  ([`5450bf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5450bf553ac7f1e18fde022e56734f900c55035c))

ESSNTL-4818

- Process group ids from RBAC response
  ([`f997688`](https://github.com/RedHatInsights/vulnerability-engine/commit/f9976888bac2e2360ad4e3d3d89b5437b669b730))

ESSNTL-4818


## v2.4.1 (2023-07-24)

### Bug Fixes

- Delete from system_vulnerable_package when deleting system
  ([`bad7ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/bad7ba9cbc8559559d55e33b0b7bcf322af96a5b))

### Chores

- Add poetry-lock.sh
  ([`ec77927`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec77927273de8c98e2016f752b99ec205776b91a))

- Adjust readme to poetry
  ([`f2ed1a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/f2ed1a464199437539a10b94c3f787cfbd608868))

VULN-2736

- Bump pytest to fix py cve
  ([`690022f`](https://github.com/RedHatInsights/vulnerability-engine/commit/690022f39421c935edb530c3dcf377bce029395c))

- Bump tornado version to fix cve
  ([`703bf23`](https://github.com/RedHatInsights/vulnerability-engine/commit/703bf233858e301909b596786e886ffde00d7b83))

- Drop pipenv lock script
  ([`8733cbf`](https://github.com/RedHatInsights/vulnerability-engine/commit/8733cbfafc40214fda62b4e66709b25d36784b9d))

- Start using poetry
  ([`41e3570`](https://github.com/RedHatInsights/vulnerability-engine/commit/41e35705a2826564840dfb8802e325f8577db40c))

VULN-2736

- **safety**: Add safety check in github actions
  ([`e2e9c71`](https://github.com/RedHatInsights/vulnerability-engine/commit/e2e9c71a612e8f56a64082101d93b49aaa479f1c))

VULN-2736

- **scripts**: Delete openshift debugger script
  ([`fd1dc0e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd1dc0ef9063082b67df5a4f7d073381bcafd027))

- **tests**: Adjust github actions test to poetry
  ([`71adf8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/71adf8c0a2dcb2c70bfedbd3d504fbc8c4b412ac))

VULN-2736


## v2.4.0 (2023-07-20)

### Bug Fixes

- **grouper**: Don't wait on advisor message for RHSM systems
  ([`cfe219b`](https://github.com/RedHatInsights/vulnerability-engine/commit/cfe219b4be1468ddcf472dcb9ffd0ff981c02ee7))

VULN-2705

### Chores

- Temporarily ignore tornado vuln
  ([`26b9eb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/26b9eb4e51a931b51b84d19883e6498596ac5fb1))

- Upgrade to python-semantic-release 8.x.x
  ([`2a192e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a192e96b636e35210b7bd1674a5c1178fad7f9f))

- **cluster**: Run weekly, not daily
  ([`bb5f085`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb5f085eb3462c91dff9bb66f3bb8458676577bd))

### Features

- **manager_admin**: Allow rule key to be deleted using API
  ([`adb4671`](https://github.com/RedHatInsights/vulnerability-engine/commit/adb4671587b18982114aaad9447c169c8ea3ec67))

RHINENG-1173


## v2.3.0 (2023-07-12)

### Chores

- **clowdapp**: Use pg15
  ([`a4fbd9d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4fbd9dd2bbd71dbb4e3f06c7868baed054c1200))

VULN-2460

### Features

- **database**: Add local db init script
  ([`a2f7c8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2f7c8ee01c01c5b58d08054c2453e6c0dc89a7f))

VULN-2460

- **database**: Switch to PG15.2
  ([`44b463b`](https://github.com/RedHatInsights/vulnerability-engine/commit/44b463b0a70d24214edabf52aa9188146566abe4))

VULN-2460

- **database**: Wait for db on upgrade
  ([`ad533ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad533ad5a71790da4fab338745defa9b1e02a0ab))

VULN-2460

### Refactoring

- Switch from POSTGRESQL naming to POSTGRES
  ([`0012adc`](https://github.com/RedHatInsights/vulnerability-engine/commit/0012adc3a328e2fa964e6b8b5c95d99f30827e4b))

VULN-2460

- **clowdapp**: Change from POSTGRESQL naming to POSTGRES
  ([`90bd2d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/90bd2d4f7b804a759eb214da231d670d9850f85c))

VULN-2460


## v2.2.4 (2023-07-11)

### Bug Fixes

- **cves_without_errata**: Use toggle_cves_without_errata permission
  ([`bae376e`](https://github.com/RedHatInsights/vulnerability-engine/commit/bae376e3ce0da4071945495f90fe38ee9d3f3b1e))

RHINENG-1160

### Chores

- Add import sort to precommit
  ([`2c7f4ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7f4acc3bafdc461aece1794fa606305e8c2bdf))

VULN-2714

- De-duplicate CVES_WITHOUT_ERRATA
  ([`9c7b522`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c7b52227b8ab850d3243cc2eced02f48c8813d9))

- Enable CVES_WITHOUT_ERRATA in local docker-compose
  ([`27968ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/27968ffe326e2bacf99efaa4f8f85ec008907657))

### Refactoring

- Run import sort on all
  ([`c64f716`](https://github.com/RedHatInsights/vulnerability-engine/commit/c64f716fd48517b5a59309edd772c133df252955))

- **cluster**: Run black
  ([`16eda90`](https://github.com/RedHatInsights/vulnerability-engine/commit/16eda9028c30439b6240c465f0e76c336f56dc96))

VULN-2714

- **common**: Run black
  ([`cf3f467`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf3f467565673ef7e2dc9a9c696bf56afa7bdac0))

VULN-2714

- **database**: Run black
  ([`5bd530a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5bd530a8dcce4bbfc6c36792d93979ad11204386))

VULN-2714

- **exploit_sync**: Run black
  ([`0538f38`](https://github.com/RedHatInsights/vulnerability-engine/commit/0538f388bba14f1a9dd9c5cdeb52c94052ff0bd0))

VULN-2714

- **notificator**: Run black
  ([`7a9a42e`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a9a42ed903a58f840ec6f478cb786a2840f795e))

VULN-2714

- **scripts**: Run black
  ([`f7cdd8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7cdd8fd147384de18572419d0af928ac2091e08))

VULN-2714

- **scripts**: Run black
  ([`484e3d5`](https://github.com/RedHatInsights/vulnerability-engine/commit/484e3d57ac166b1c5ffb776244f4e4b64809a89b))

VULN-2714

- **taskomatic**: Run black
  ([`7207147`](https://github.com/RedHatInsights/vulnerability-engine/commit/72071479367f1400355cc4ac7ca6da3e755ad986))

VULN-2714

- **tests**: Run black
  ([`0a2cd5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a2cd5f45d30caa8eb5ac9835859c664a940b153))

VULN-2714

- **vmaas_sync**: Run black
  ([`a9ac827`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9ac82731ef30ae903babe10743118308c1855b4))

VULN-2714


## v2.2.3 (2023-07-03)

### Bug Fixes

- **evaluator**: Allocate separate connection for transaction instead of nested transaction (doesn't
  work)
  ([`4149ff5`](https://github.com/RedHatInsights/vulnerability-engine/commit/4149ff5e8f5ad1cca7f385dcfc251b3ce5a2f3e7))

- **evaluator**: Prevent deadlock
  ([`6a3f81c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6a3f81c52b0ca5ba0618ad91b3d618dbcb31507f))

### Chores

- Add apiPath to bind API to correct path
  ([`e5487e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5487e52a63fdf66ff90fd15e94c96811c2b3f70))

VULN-2478


## v2.2.2 (2023-07-03)

### Bug Fixes

- **listener**: Use releasever in vmaas_req
  ([`f3b59f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3b59f559baba4f4e819af9502e058a4983891a3))

Utilize relelasever from a system profile if RHSM version isn't set. This should improve reporting
  from RHUI systems.

VULN-2716

### Chores

- Rename '-new' service names in dashboard
  ([`680f67f`](https://github.com/RedHatInsights/vulnerability-engine/commit/680f67fad78879a2675efdbcdb224b3cfb7fda09))


## v2.2.1 (2023-06-28)

### Bug Fixes

- **taskomatic**: Add missing comma
  ([`1a5943e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a5943ecbf2921122b315def61cb333bb437671e))

### Chores

- **platform_mock**: Bump kafka
  ([`50e8865`](https://github.com/RedHatInsights/vulnerability-engine/commit/50e886588015f92a44f3d712771677dd984f0161))


## v2.2.0 (2023-06-27)

### Chores

- Fix the entrypoint and container name
  ([`4638a7b`](https://github.com/RedHatInsights/vulnerability-engine/commit/4638a7b8442595c6f85bce662aefe425c38a8d98))

### Features

- Add advisory_available column to CVE account cache
  ([`bef386a`](https://github.com/RedHatInsights/vulnerability-engine/commit/bef386ab5ca899467ac3dc7a8c8cc3528b358b58))

- **manager**: Return advisory_available from /vulnerabilities/cves API
  ([`d436790`](https://github.com/RedHatInsights/vulnerability-engine/commit/d43679079e320395b2a94d44ddd8b9c45a4f7180))


## v2.1.0 (2023-06-27)

### Chores

- Add github actions pre-commit hook
  ([`4643572`](https://github.com/RedHatInsights/vulnerability-engine/commit/464357276554934f04ad215189ed56a429adfba1))

VULN-2714

- Drop pylint and flake8 from run tests
  ([`82915f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/82915f19fd4f60c46f4cae556929d983969ac9d7))

VULN-2714

- Install pre-commit and add readme
  ([`2138fa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2138fa306540b0a4de7fb4f87c14d453a0e63bbb))

VULN-2714

- Migrate to pyproject.toml
  ([`1768388`](https://github.com/RedHatInsights/vulnerability-engine/commit/176838818056a636425bab94b248ccadc5d9a9cf))

VULN-2714

### Features

- Add pre commit config
  ([`1c48b2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c48b2eebaa1bb985200a5d326eaf7bca3494feb))

VULN-2714

### Refactoring

- Run pre-commit for all
  ([`459ae55`](https://github.com/RedHatInsights/vulnerability-engine/commit/459ae55b1987375695fb8709a3248520f231fb2c))

VULN-2714

- **evaluator**: Run black
  ([`15a5c3e`](https://github.com/RedHatInsights/vulnerability-engine/commit/15a5c3e95336d835dfb00705e4615289f5d4127a))

VULN-2714

- **grouper**: Run black
  ([`71d036d`](https://github.com/RedHatInsights/vulnerability-engine/commit/71d036d43f81f5a02da607b048d0cd75deaa3e95))

VULN-2714

- **listener**: Run black
  ([`419c4aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/419c4aade1871c586900be5d7faeab98f21b4835))

VULN-2714


## v2.0.0 (2023-06-27)

### Chores

- Rename _new services
  ([`e06cc3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/e06cc3de6ba374c1efcfd23148e41fb7e580a98d))

VULN-2709

BREAKING CHANGE: bump app version

- **evaluator**: Remove old evaluator code
  ([`f2bda57`](https://github.com/RedHatInsights/vulnerability-engine/commit/f2bda57404ad6ddbd8003b76dd2daeb9642b217e))

VULN-2709 BREAKING CHANGE: old evaluator code can't be used anymore

- **listener**: Remove old listener code
  ([`bc42969`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc42969bb906714158719eeea7729722838d148b))

VULN-2709 BREAKING CHANGE: old listener code can't be used anymore

### BREAKING CHANGES

- Bump app version


## v1.227.5 (2023-06-26)

### Bug Fixes

- **vmaas-sync**: Check presence of cve in vulnerable_package_cve table before deletion
  ([`158abf7`](https://github.com/RedHatInsights/vulnerability-engine/commit/158abf716aa8cfb0da1adbd87fa1195dc0573822))

### Chores

- **pipenv**: Ignore another vulnerability
  ([`6abd4e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/6abd4e7c90bb8ff5700eac7653a01cc51cfb6130))


## v1.227.4 (2023-06-22)

### Bug Fixes

- **evaluator**: Force extended output during recalc of old systems
  ([`7093f27`](https://github.com/RedHatInsights/vulnerability-engine/commit/7093f27672f84d565c9c60e8e5b51d15dd9a1279))

extended could be now removed from system profile JSON as well

### Refactoring

- **listener**: Improve skipping of msgs from excluded reporters
  ([`64ae3cf`](https://github.com/RedHatInsights/vulnerability-engine/commit/64ae3cf7e6daac1b2facc630792132cd84cbd22d))

VULN-2707


## v1.227.3 (2023-06-21)

### Bug Fixes

- **evaluator**: Re-enable checking vulnerable state to fill missing DB values
  ([`c93409a`](https://github.com/RedHatInsights/vulnerability-engine/commit/c93409a1849172b5a18c4f07c24e226d7312228b))

prod DB is less busy now and it should be fine

### Chores

- Add traceback counter
  ([`6755011`](https://github.com/RedHatInsights/vulnerability-engine/commit/6755011bbcbf961c50f57dfb92e2beb7aa4efd1b))

- Disable evaluation of unfixed CVEs if needed
  ([`2a0c75e`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a0c75e9d1509b348791215ef74fc66af7885714))

- **clowder**: Support configuring logging level per service
  ([`74266e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/74266e500ee6945b01fef040317c758ee6d42667))

- **evaluator**: Debug log number of changed rows
  ([`19504a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/19504a1ae19a00919f57b46fb1b159d34538ee8c))


## v1.227.2 (2023-06-15)

### Bug Fixes

- **rhsm**: Don't expect platform_metadata, remove b64_identity
  ([`04ddac9`](https://github.com/RedHatInsights/vulnerability-engine/commit/04ddac918c9336286a22726a20e3248c5c14a6d8))

VULN-2694


## v1.227.1 (2023-06-15)

### Bug Fixes

- **evaluator**: Make sure DB state is saved before adding item to cache
  ([`fecb307`](https://github.com/RedHatInsights/vulnerability-engine/commit/fecb307222369f2fc82dd13b1fa5f0438f9434d5))


## v1.227.0 (2023-06-14)

### Chores

- Use vmaas-go by default
  ([`f11ac8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/f11ac8ed75c857cfdf4d66f3e08dbb4d3ea3b6c2))

python version doesn't return all necessary unfixed CVEs data

### Features

- **evaluator**: Populate package_name, cpe, vulnerable_package tables
  ([`2277c72`](https://github.com/RedHatInsights/vulnerability-engine/commit/2277c723b55a0f793eb7deebb7e9858a5d0f7a51))

VULN-2518

- **evaluator**: Populate system_vulnerable_package table
  ([`0672d97`](https://github.com/RedHatInsights/vulnerability-engine/commit/0672d973edf0362223be9bd649ad7131fddfa995))

VULN-2518

- **evaluator**: Populate vulnerable_package_cve table
  ([`e4b6c53`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4b6c533d66bde8a6d10eecd093ec952f81f5246))

VULN-2518

### Performance Improvements

- **evaluator**: Load impact cache once
  ([`8fcfc92`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fcfc92cf913d446f8accad77cfdb8d45e7b6c1e))

### Refactoring

- Rename classes and variables to allow adding unpatched parts
  ([`9325300`](https://github.com/RedHatInsights/vulnerability-engine/commit/9325300d11cbf3c14a6795bc410fe4c26b9f541c))


## v1.226.3 (2023-06-14)

### Bug Fixes

- Advisory is available with manually fixable cve
  ([`865b07b`](https://github.com/RedHatInsights/vulnerability-engine/commit/865b07bd53cddadf526227fe8a2dad5092f80574))


## v1.226.2 (2023-06-08)

### Bug Fixes

- **rhsm**: Don't check insights entitlement
  ([`1e30939`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e309391b83def6b934e3eab6878cf83ca46b1f3))

VULN-2694

### Chores

- Expect 200 in entitlements tests
  ([`aadaf94`](https://github.com/RedHatInsights/vulnerability-engine/commit/aadaf948102fc8476cc848f824c6df2cda2be61b))


## v1.226.1 (2023-06-08)

### Bug Fixes

- Unknown groups resource
  ([`de9ee3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/de9ee3cd787fd09601c2e7e74dc31f587c85eb26))

RHINENG-606

### Chores

- Disable auto topic creation to ensure they are created by platform mock with correct number of
  partitions
  ([`2ef1e68`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ef1e68b0e150888ba42e48376bf54d10ad74a42))

- Fix grouper topic creation and create only 3 partitions for each
  ([`5d38cd5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d38cd55629a570cff4377462f8d5d2f09430a22))

- Generate random rule hits/passes for uploaded archive
  ([`bcb5d59`](https://github.com/RedHatInsights/vulnerability-engine/commit/bcb5d59fe210eb267d15c9d57b52005e9f61842c))


## v1.226.0 (2023-06-05)

### Bug Fixes

- Brackets
  ([`65cda54`](https://github.com/RedHatInsights/vulnerability-engine/commit/65cda54cbeebe1608d1d966470a26cbfe10491b3))

### Chores

- Rename handler, permissions, and fix vmaas_sync test
  ([`da87600`](https://github.com/RedHatInsights/vulnerability-engine/commit/da8760097d18e600ed0333f5dc8140a14a702d91))

- Update openapi spec to include cves_without_errata meta
  ([`d50e032`](https://github.com/RedHatInsights/vulnerability-engine/commit/d50e032842e923e365a537e634b2586fce9f4b35))

VULN-2668

- Update tests for cves_without_errata
  ([`1c704f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c704f1d2291e711a7cf4ad9c6f63bb43871050c))

### Features

- Add cves_without_errata db feature flag
  ([`e28c8e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/e28c8e31fee9c8aed6755b398104173e2ee51449))

VULN-2668

- Add cves_without_errata patch endpoint
  ([`6db5a87`](https://github.com/RedHatInsights/vulnerability-engine/commit/6db5a871b80c51fe41b28a1ecacde5a04b2f2cf1))

VULN-2668

- Check customer feature flag in api
  ([`5050224`](https://github.com/RedHatInsights/vulnerability-engine/commit/5050224f3f123d33a70194b1f02c8191b29b0571))

VULN-2668


## v1.225.5 (2023-06-05)

### Bug Fixes

- Payload tracker processing
  ([`d1b5c4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1b5c4b0b5e83566971d8b69d1f2e49b41ec8f3a))

- don't sent tracebacks from listener - be less verbose in grouper, sent notification when passing
  to evaluator - set more appropriate statuses - requested_id is invalid

### Chores

- Count exceptions in asyncio tasks
  ([`4320d36`](https://github.com/RedHatInsights/vulnerability-engine/commit/4320d36403ea7ca34f77844fa3fea16a6f283c4d))

- Temporarily ignore 55261 to build an image
  ([`e8d904b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8d904bdd0defb4b01bb2408806c57c6a4fc9fa1))


## v1.225.4 (2023-05-31)

### Bug Fixes

- **listener**: Repo should be upserted to avoid UniqueViolation
  ([`0a243a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a243a118755f84c7c257530a04a38cf080e1728))


## v1.225.3 (2023-05-31)

### Bug Fixes

- **evaluator**: Do not force updating each row because of the state column
  ([`f66f259`](https://github.com/RedHatInsights/vulnerability-engine/commit/f66f259ba166eac3868c7d59ad98b2d8e6e0aa01))

### Chores

- Improve grafana dashboard
  ([`9de81d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/9de81d15c88677418fa1e720560477c1b27e32d6))

- Temporarily disable test_invalid_rpm_list, due to increased grouper timeout system isn't marked as
  evaluated in time
  ([`723e117`](https://github.com/RedHatInsights/vulnerability-engine/commit/723e117a3c23936916cae6c7a289019d4d19a223))


## v1.225.2 (2023-05-31)

### Bug Fixes

- **grouper**: Double the timeout, should help to pair more messages during peaks
  ([`c1cc246`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1cc24650d5e708a03e08ed487487a3fdc7a587b))

- **listener**: Case when platform_metadata is None
  ([`a4e7323`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4e73238488b37dbcef9fc179815bf1509ed42ed))

### Chores

- Improve grafana dashboard
  ([`443b300`](https://github.com/RedHatInsights/vulnerability-engine/commit/443b300e58b81e440b6778e59d14e7f5cc3ac225))

- **grouper**: Add additional counter to count changed systems sent to evaluator
  ([`c4bd4d6`](https://github.com/RedHatInsights/vulnerability-engine/commit/c4bd4d643c76b36b67773f18f6c06854dd48d59f))

- **listener**: Count allowed reporters in prometheus too
  ([`3329ff7`](https://github.com/RedHatInsights/vulnerability-engine/commit/3329ff7907472c9f5039e8660745c5f9f3e20954))

- **listener**: Log reporter and request_id of processed messages
  ([`dd11218`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd1121831106ecb20ed6ff70e7858982f18a6e06))


## v1.225.1 (2023-05-30)

### Bug Fixes

- New listener attempts to send payload tracker status for msgs without platform_metadata
  ([`53d0dea`](https://github.com/RedHatInsights/vulnerability-engine/commit/53d0deaae8df64c35e84814943cd181355099bae))

'NoneType' object has no attribute 'get''Traceback (most recent call last):...

### Chores

- Add more counters to the new listener
  ([`55450a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/55450a93f121127e73f1e97bd1b64b83ca33532b))

one of them moved to grouper


## v1.225.0 (2023-05-30)

### Chores

- Add missing kafka consumer groups and fix taskomatic restart counter
  ([`acce5c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/acce5c565260b578c7d0465d0106d2d955d7025d))

- Check if podman/docker is usable
  ([`00d1dc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/00d1dc6a3863d0de1d0d36a84a8263bfcd9d3d89))

- Enable USE_VMAAS_GO by default and use also from vmaas-sync
  ([`21270df`](https://github.com/RedHatInsights/vulnerability-engine/commit/21270dfd06bdefbb04bd222d8e1ea6ed2f0837d0))

- None driver doesn't work as expected, use non-default profile
  ([`a4ff732`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4ff73239ab4f73113cf44f82465043c094bf830))

- Use networks in docker-compose to connect to vmaas
  ([`34f2360`](https://github.com/RedHatInsights/vulnerability-engine/commit/34f2360aedc8f34d37a98fc66f51159017527b65))

instead of same compose name env variable

### Features

- Remove unused Slack notifiacions & replace with exception counter
  ([`40ba205`](https://github.com/RedHatInsights/vulnerability-engine/commit/40ba20576e8d321cf818db160c70fd9a8410db6b))

VULN-2686


## v1.224.0 (2023-05-24)

### Chores

- **evaluator**: Use only system_vulnerabilities_active partition
  ([`54e6ccf`](https://github.com/RedHatInsights/vulnerability-engine/commit/54e6ccffc3c85ec28170a0918bfbe67fe5ab00f0))

- **listener**: Do not upsert existing system
  ([`8663391`](https://github.com/RedHatInsights/vulnerability-engine/commit/8663391e6e56469907f233b522c18c69a387212a))

VULN-2681

### Features

- **manager_admin**: Add truncation endpoint for sv_inactive
  ([`e7933ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7933ef6031b05d83e0ed8983923f72316154fa5))


## v1.223.0 (2023-05-22)

### Features

- **database**: Add tables to store unfixed vulnerabilities
  ([`ff6dfd6`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff6dfd6e3298a11de1c5f7af05bbdba3582f335f))


## v1.222.0 (2023-05-22)

### Bug Fixes

- Never show unfixed in report,dashboard,dashbar
  ([`51ccada`](https://github.com/RedHatInsights/vulnerability-engine/commit/51ccada8505d4f7c9d0958df4523398c118a8e32))

- No need to re-fetch rules CVEs without errata any more
  ([`a796065`](https://github.com/RedHatInsights/vulnerability-engine/commit/a796065e715c13c94688499d12c8dad642e0076a))

### Chores

- **evaluator**: Correctly new cves to notificator
  ([`ea32a4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea32a4f51d27d46fb14bf09bb08f3770a74230fd))

VULN-2679

- **flake8**: Fix indentation
  ([`50b56f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/50b56f2f24a5676a98b9ee95c0065b15a3e73ea2))

- **tests**: Advisories_list empty value is [] not NULL
  ([`eeebcae`](https://github.com/RedHatInsights/vulnerability-engine/commit/eeebcae0dcfdadb1f446ae7c96e3223f6b234043))

- **tests**: Disable tests expecting different counts due to CVEs w/o errata
  ([`dd4d562`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd4d5626b903671454c3f683bba53784369fcf1b))

- **tests**: Update expected counts - don't count CVEs without errata
  ([`18b5299`](https://github.com/RedHatInsights/vulnerability-engine/commit/18b5299804f1d090ff90c555277d7a7c28774792))

### Features

- Don't expose unfixed cves in apis
  ([`1ade571`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ade5718879239cd35d42dff81affac892abddd8))

- Sync all cves
  ([`a9cc919`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9cc919095bb021c8c7201ee4ac9d34e0ad8aec1))


## v1.221.1 (2023-05-18)

### Bug Fixes

- Require package epoch
  ([`c761564`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7615642ae5c24d79007184f421378b33a8eae95))

we should not evaluate packages without epoch, it happens when inventory sends an incorrect
  package_list and we then show incorrect CVEs because vmaas assumes that epoch=0 if it is not
  provided

now, vmaas returns 400 if epoch is not present for a package and epoch_required=true and evaluation
  of a system is skipped

RHINENG-390

### Chores

- **grafana**: Add new metrics for grouper and listener
  ([`863dc1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/863dc1feba3e27d38d456780d793e01e2cb7102b))


## v1.221.0 (2023-05-04)

### Chores

- **grouper**: Count hit and miss rate for message pairs
  ([`2dd0c46`](https://github.com/RedHatInsights/vulnerability-engine/commit/2dd0c46fdf995e0ce9dfd3a43b098d103dba6583))

### Features

- Remove account number remains in listener
  ([`ec9ddad`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec9ddad72c35ca618239ef28b0b8847b494691b9))

VULN-2373


## v1.220.1 (2023-05-04)

### Bug Fixes

- **rhsm**: Use list of allowed reporters instead of checking insights_id
  ([`5066fdb`](https://github.com/RedHatInsights/vulnerability-engine/commit/5066fdb37081df83cddf77f2a2359b7d88bf8e5e))

VULN-2483

### Chores

- Prometheus counter for skipped reporter
  ([`81ad443`](https://github.com/RedHatInsights/vulnerability-engine/commit/81ad44323f7dced74d753c30882f8fd4ce4a7111))

- **listener**: Do not log invalid schema messages
  ([`2c2d17c`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c2d17c0aac76827837456e4f9abffa3ace910c9))


## v1.220.0 (2023-05-02)

### Chores

- **deploy**: Setup deployment for new components
  ([`e5b1614`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5b16142d5939185e882ca63242ec1c74a1496e4))

VULN-2627

- **evaluator**: Store advisories for manually fixable CVEs
  ([`ac41037`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac41037c918cbe022945c64266f4937b34851af1))

chore(evaluator): store advisories for manually fixable CVEs

- **tests**: Remove redis dependency
  ([`7a24c2f`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a24c2ffb88592f040d738985bc06fdb441b9f73))

### Features

- **evaluator**: Consume messages from grouper queue
  ([`ea495a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea495a834ce73ecab47f4cb952a96e2dd729be5c))

VULN-2627

- **grouper**: Transform grouper into queue
  ([`abaef46`](https://github.com/RedHatInsights/vulnerability-engine/commit/abaef4644f030881c5fc08d43207486ca8544e94))

VULN-2627

- **listener**: Make listener not use queue
  ([`3acf5f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3acf5f1188dc4de9339271249774c8feb879346e))

VULN-2627


## v1.219.2 (2023-04-19)

### Bug Fixes

- **listener**: Unlock on message errors
  ([`35c901b`](https://github.com/RedHatInsights/vulnerability-engine/commit/35c901b2eb35dae9dee05b3edd36e7964d41f6bf))


## v1.219.1 (2023-04-19)

### Bug Fixes

- **listener**: Limit number of queue messages
  ([`e9d8be4`](https://github.com/RedHatInsights/vulnerability-engine/commit/e9d8be409113ff274025f5e9945112eb8a462400))

### Chores

- **config**: Add vars for limiting listener and change evaluator
  ([`18305f4`](https://github.com/RedHatInsights/vulnerability-engine/commit/18305f45f9d50c71a7d56ff9c2be9df499e83076))

- **evaluator**: Limit number of concurrent processed messages
  ([`5b9f0be`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b9f0bee408939ce6680cbbe40990e4077f17acb))

- **evaluator**: Load rule cache from reserved connection
  ([`a3afcde`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3afcded7df574d8473fafe60d564225b73830a9))


## v1.219.0 (2023-04-18)

### Features

- **listener**: Move asyncpg to psycopg
  ([`cd8a20e`](https://github.com/RedHatInsights/vulnerability-engine/commit/cd8a20e88dfbdb0d6afb5f094e855cf1376e00d9))

- **manager**: Remove rule_mitigated_systems endpoint
  ([`a089d42`](https://github.com/RedHatInsights/vulnerability-engine/commit/a089d42fb348aa9e4dbdd93cd4d068458285a838))

VULN-2618


## v1.218.1 (2023-04-14)

### Bug Fixes

- **listener**: Correctly check for returned values from delete/update
  ([`e140152`](https://github.com/RedHatInsights/vulnerability-engine/commit/e14015262b389cffa13e5bca54230c2b0d6dab5e))

- **listener**: Correctly check inventory_msg type
  ([`efc6077`](https://github.com/RedHatInsights/vulnerability-engine/commit/efc6077c8685ecbe3c57cf8e4ad9dda56620a315))

- **listener**: No need to do unnest for deleting repos
  ([`29e3ef9`](https://github.com/RedHatInsights/vulnerability-engine/commit/29e3ef983f45006c259990a7f878e01948be6228))

### Chores

- Move build to service in default pipeline
  ([`f91c46d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f91c46d663fcff91c96198801bc8e20dbe8731e0))

- **deploy**: Set log level info to new pipeline
  ([`621f729`](https://github.com/RedHatInsights/vulnerability-engine/commit/621f729d953d72a67baf5d35677b5c949f48f47f))

- **listener**: Add signal handlers
  ([`4e7d31a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e7d31a1ff4dd769f65788bc29a09f5f234b621b))

- **listener**: Also log advisor arrived messages
  ([`fea1b49`](https://github.com/RedHatInsights/vulnerability-engine/commit/fea1b49146f42268b8189807d4c071eaf08c69d6))

- **listener**: Improve logging
  ([`bfe7d5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/bfe7d5f5ee1f48438157dc0864b7fadf9bd4a456))


## v1.218.0 (2023-04-13)

### Chores

- **github-actions**: Use current version of codecov
  ([`597ffae`](https://github.com/RedHatInsights/vulnerability-engine/commit/597ffaec3a47a1fa508adbe90d9b31c63c95d9e6))

### Features

- Add resolution_type for playbooks
  ([`ef95317`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef953170420735e4c129778fd6d587ae243652b4))

REMEDY-294


## v1.217.1 (2023-04-11)

### Bug Fixes

- **listener**: Compare msgs checksums only when specific msg arrives
  ([`33a1bce`](https://github.com/RedHatInsights/vulnerability-engine/commit/33a1bce28fec37a7826cd7bad9e72d936f2ff7b7))

### Chores

- Deprecate old pipeline in docker-compose
  ([`51776af`](https://github.com/RedHatInsights/vulnerability-engine/commit/51776af141a1e77da2f0874d748eb8ec417a323b))

### Refactoring

- **listener**: Log unchanged systems, refactor inventory_id
  ([`acff504`](https://github.com/RedHatInsights/vulnerability-engine/commit/acff5049a060d93082ba4e95cdd827c6f6b8fd6a))


## v1.217.0 (2023-04-06)

### Chores

- **grafana**: Adjust grafana graphs for new listener and evaluator
  ([`23e5de0`](https://github.com/RedHatInsights/vulnerability-engine/commit/23e5de0233b33806e88f21d91de33da4715d8120))

VULN-2608

- **manager**: Remove remains of account number
  ([`9ddc842`](https://github.com/RedHatInsights/vulnerability-engine/commit/9ddc842ae152298152bd90eebcc03fce6f2f2763))

VULN-2606

### Features

- **stale_systems**: Delete systems which should be culled
  ([`e7b2b78`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7b2b78099ae775ab4ad746f6acb23be2905760a))

VULN-2594


## v1.216.1 (2023-04-03)

### Bug Fixes

- **config**: Kafka ssl should be chosen by clowder
  ([`4199ce0`](https://github.com/RedHatInsights/vulnerability-engine/commit/4199ce02268df459e9cbe9f655ea0dbb548dc37b))


## v1.216.0 (2023-03-31)

### Bug Fixes

- **listener**: Listener should update display_name
  ([`9502393`](https://github.com/RedHatInsights/vulnerability-engine/commit/950239304d2a496a6170a8cc9dbfdaa780396687))

### Chores

- **notificator**: Do not rely on account number anymore
  ([`e1c8cc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/e1c8cc00066bfd57b60720eaa60598e5c0869bf8))

### Features

- **database**: Add state field for cve-system row
  ([`397875d`](https://github.com/RedHatInsights/vulnerability-engine/commit/397875d47848e6313086702ea6ea3a88e45103fe))

VULN-2536

- **database**: Implement new psycopg async pool
  ([`ade62c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ade62c0f4a4def797ab41e8f2dd488983e4d7687))

VULN-2537

- **evaluator**: Deploy new evaluator
  ([`8f6b35c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f6b35ca4be8d8b959577e3b735597bcd48a585e))

VULN-2536

- **evaluator**: Deploy new evaluator locally
  ([`7daaa18`](https://github.com/RedHatInsights/vulnerability-engine/commit/7daaa18ff15165c4bff6eea108a19c94b6b3fb35))

VULN-2536

- **evaluator**: Implement evaluator logic part
  ([`2456d78`](https://github.com/RedHatInsights/vulnerability-engine/commit/2456d7880c245772e6cdc560c26db9d01d588c9b))

VULN-2536

- **evaluator**: Implement evaluator service
  ([`3d8e7b1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d8e7b1dba428671d7538e2065ecd0fed20c92e2))

VULN-2537

- **listener**: Add rule pass info to the rule_results json
  ([`8268b8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8268b8a83a9b49d1ca512dde19320443499d6ab4))

VULN-2536


## v1.215.1 (2023-03-30)

### Bug Fixes

- **clowder**: Kafka_ssl_enabled default should be true
  ([`b7d3048`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7d3048f81f34b32aa0f3bb680f57a24a5a05012))

### Chores

- Vulnerability_env is now copy of ENV_NAME
  ([`4b74d79`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b74d799a1cef088ae2d2e659485c891bd810aa1))


## v1.215.0 (2023-03-30)

### Chores

- Simplify ssl usage in aiohttp
  ([`8484376`](https://github.com/RedHatInsights/vulnerability-engine/commit/84843760a84c020d8dc439b16412e5c318b1fef4))

- Update clowdapp params to new defaults
  ([`139d3ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/139d3eeb1c95f9d55f98f26a104af655ac643de8))

- **grouper**: Log incoming message acc numbers
  ([`9af31a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/9af31a7fdf88caae935ac3675d37da11199209c3))

- **grouper**: Rename acc_num to org_id
  ([`e69f71d`](https://github.com/RedHatInsights/vulnerability-engine/commit/e69f71d5de6dcaec25a006476528007c318398e5))

### Features

- **grouper**: Calculate partition based on org_id hash
  ([`6227906`](https://github.com/RedHatInsights/vulnerability-engine/commit/62279061f17843f560bc639626df9cc2f732496b))

VULN-2600


## v1.214.0 (2023-03-28)

### Features

- **cluster**: Use pg_repack and reindex
  ([`df2f47a`](https://github.com/RedHatInsights/vulnerability-engine/commit/df2f47a2cb40869c64c81e489eb3dd2a63f89f6f))


## v1.213.2 (2023-03-27)

### Bug Fixes

- **manager**: Filtering by rh_account_id shouldn't be optional
  ([`ed6178f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed6178fe61af122f55dd8cb509ba21e2e858d4a4))

fixing issue when account doesn't exist in DB and attributes in identity are:

org_id is not None and org_id != "" account_number is not None and account_number == ""

selected rh_account_id is None in this case, filter is not used and all records are returned

- **manager**: Prevent selecting incorrect id when org_id is not found and account_number is None
  ([`d908777`](https://github.com/RedHatInsights/vulnerability-engine/commit/d908777f595908558c35d49b6e8be64acf41fa83))

the select will select rh_account_id of first account which has NULL account_number in DB

this can expose unwanted data

### Chores

- Backoffice proxy is not used anymore
  ([`55672d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/55672d9b78d7c385b1b461ff76361d4f4ec2f940))

- Build static data into the image
  ([`5d69b1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d69b1f0387bb322e71b580342a61a63eae36817))

- Use static content if needed
  ([`215b069`](https://github.com/RedHatInsights/vulnerability-engine/commit/215b0693ea8d9d61369bb041380d1b53d84e747a))

- **deploy**: Dont join inventory.hosts on floorist
  ([`f704d76`](https://github.com/RedHatInsights/vulnerability-engine/commit/f704d76227b78d9ee9a7a2e3936b407dc91fbd57))

- **manager**: Still log account number until it's removed from code
  ([`859eb80`](https://github.com/RedHatInsights/vulnerability-engine/commit/859eb8019c0fe225ac86b045c20886cc30cec9d9))


## v1.213.1 (2023-03-22)

### Bug Fixes

- **deploy**: Admin is mounted by default
  ([`efda68d`](https://github.com/RedHatInsights/vulnerability-engine/commit/efda68d2e414f599b7621351730b735e603b80cf))

### Chores

- Optimize and update floorist query
  ([`d35c2ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/d35c2baff4a5b8f5f992242eb1058f969d425b3f))

- Try use index on floorist query
  ([`6505a85`](https://github.com/RedHatInsights/vulnerability-engine/commit/6505a859b5338d87dd762fe1350bb4a36b089930))


## v1.213.0 (2023-03-21)

### Features

- Implement clustering on system_platform and system_vulnerabilities
  ([`2678e16`](https://github.com/RedHatInsights/vulnerability-engine/commit/2678e1684d3f59f531913b59ceddf7d26b0ea001))

VULN-2567


## v1.212.1 (2023-03-15)

### Bug Fixes

- 'vmaas' should be in API path by default now
  ([`38b5eb0`](https://github.com/RedHatInsights/vulnerability-engine/commit/38b5eb0459f844e72c6c80012eeb2ae2b169a835))

this allows to call public VMaaS instance

- **evaluator**: Session close not awaited
  ([`1c22ec6`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c22ec6a3cc315b9534a5002680a7ed42229873b))

vulnerability-engine-evaluator-upload | /engine/common/vmaas_client.py:51: RuntimeWarning: coroutine
  'ClientSession.close' was never awaited vulnerability-engine-evaluator-upload | session.close()
  vulnerability-engine-evaluator-upload | RuntimeWarning: Enable tracemalloc to get the object
  allocation traceback vulnerability-engine-evaluator-upload | 4f2e5f8d30b0 2023-03-15
  20:10:31,624:ERROR:asyncio:Unclosed client session vulnerability-engine-evaluator-upload |
  client_session: <aiohttp.client.ClientSession object at 0x7f17b8adcdc0>
  vulnerability-engine-evaluator-upload | 4f2e5f8d30b0 2023-03-15
  20:10:31,624:ERROR:asyncio:Unclosed connector vulnerability-engine-evaluator-upload | connections:
  ['[(<aiohttp.client_proto.ResponseHandler object at 0x7f17b8a95f40>, 26201.659092141)]']
  vulnerability-engine-evaluator-upload | connector: <aiohttp.connector.TCPConnector object at
  0x7f17b8adce80>

- **local**: Restart services if they crash
  ([`0e8719d`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e8719d609b5212d198c5bb386e140eff28dcc52))

- **local**: Set ve_db_user_notificator password
  ([`fec078e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fec078ecd463e7de0b1f6ae925b6ea9192151417))

### Chores

- Store manually fixable CVEs by default (also in local env)
  ([`611a3c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/611a3c68bfd6a9f2bcab91d749c77b40312e62ef))


## v1.212.0 (2023-03-13)

### Chores

- Build psycopg2 because of fips
  ([`4bd3f6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4bd3f6db5b251156f3ff848539eee11a1eb510e8))

- Update app-common-python
  ([`b7183b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7183b24691b7b1e3eb43ec0d57e213a1f9583dd))

### Features

- **fedramp**: Use tls for outgoing connections
  ([`f895660`](https://github.com/RedHatInsights/vulnerability-engine/commit/f8956602c433f48d4ab2a1642a97c962bd401124))

RHINENG-95


## v1.211.0 (2023-03-06)

### Bug Fixes

- **manager**: Fix advisories empty vals in test DB
  ([`81b8491`](https://github.com/RedHatInsights/vulnerability-engine/commit/81b84915a1dc63a4558842d34e454990e4e1708f))

### Chores

- **manager**: Remove exploits without advisories feature flag
  ([`e64f6f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/e64f6f8477ded29ac9222d6493ab9b6d12a5a587))

- **manager**: Remove Patch API requests
  ([`839ce2a`](https://github.com/RedHatInsights/vulnerability-engine/commit/839ce2ad7cb447b45e205f369a6e66ed83248855))

VULN-2533

### Features

- **manager**: Show known exploit for CVEs with advisories only
  ([`a48280c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a48280c738c8be824cbaea97ace827ff440870ac))

- **notificator**: Hide exploits without advisories
  ([`7b353ce`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b353ce99269e2575fd824242501a4d8462ed3a1))

### Testing

- **manager**: Add exploits with advisories tests
  ([`25adc9b`](https://github.com/RedHatInsights/vulnerability-engine/commit/25adc9b4f020c3ea3d558ee2a7e236bf15f8d0c1))


## v1.210.0 (2023-02-23)

### Chores

- **evaluator**: Remove dead branch
  ([`993d64b`](https://github.com/RedHatInsights/vulnerability-engine/commit/993d64bf538a180f2c084061ca21b12d4059be17))

### Features

- Change conditions for non-edge systems
  ([`c733a73`](https://github.com/RedHatInsights/vulnerability-engine/commit/c733a7309c064eeef8e089da2d4696a84b85e852))

VULN-2561


## v1.209.2 (2023-02-21)

### Performance Improvements

- Add indexes to system_platform table
  ([`0a20afd`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a20afded6f236ab99b895511af61f135aa314ff))

VULN-2556

- System_vulnerabilities_indexes
  ([`f4691e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4691e8b0fac24b82b80d609aa85da900e67e620))

VULN-2558


## v1.209.1 (2023-02-16)

### Bug Fixes

- **evaluator**: Update remediation type and advisory
  ([`4d9b1f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d9b1f99daa2357a9c20292a6f1eb70b2f872cc8))

when CVE became reported in `cves` from vmaas - set advisories and remediation_type_id=2 when
  reported in `manually_fixable_cves` - set advisories=None, remediation_type_id=1

VULN-2515


## v1.209.0 (2023-02-16)

### Chores

- Drop distutils.strtobool
  ([`3730cd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3730cd1303f3b5675f883a8049b6f82a226a7bc5))

- **deploy**: Disable old listener
  ([`ebbcf8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ebbcf8e066b1ca5e87dad565b9c6cd2745d78bc9))

VULN-2536

- **listener**: Split common stuff from upload_listener
  ([`3ec658c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ec658c5607e42332c22d819e312fb31f48cdea1))

VULN-2536

- **tests**: Implement unit tests for new listener
  ([`0cf42b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/0cf42b08f1507238f43eb20ce43e1d944048c222))

VULN-2536

### Features

- **listener**: Deploy new listener
  ([`9d404cb`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d404cb1757868dbc3632dbcd2b71407e7a229e2))

VULN-2536

- **listener**: Deploy new listener in local dev
  ([`ef28274`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef282740d715f5f2c7621731308a07a7ed391816))

VULN-2536

- **listener**: Implement listener queue processing component
  ([`01d4d57`](https://github.com/RedHatInsights/vulnerability-engine/commit/01d4d5737bfabaab279b10ad06fd38e527029f5e))

VULN-2536

- **listener**: Implement listener waiting queue
  ([`031eb16`](https://github.com/RedHatInsights/vulnerability-engine/commit/031eb1688b444edbe8cc5659555bbce3f1d6c62f))

VULN-2536

- **listener**: Reimplement listener
  ([`6fe1d15`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fe1d15d09dd5e8ac2f0f28a5138c04ca4b47b7f))

VULN-2536

- **listener**: Send messages to evaluator from new listener
  ([`a4c3734`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4c3734a73d6d22e9de42008ae33cff3d8deabdf))

VULN-2536


## v1.208.5 (2023-02-13)

### Bug Fixes

- **manager**: Db_read_replica connection should be closed during initialization
  ([`e701245`](https://github.com/RedHatInsights/vulnerability-engine/commit/e701245a8010b41979a99f18209980a7e217d5e2))


## v1.208.4 (2023-02-13)

### Bug Fixes

- **manager**: Actually use read replica
  ([`e6ec106`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6ec106e7dee8a9df2474b6bf9ed6f6fc5136f0b))

### Chores

- Change taskomatic jobs schedule
  ([`5b5b2f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b5b2f584d3a4596d8b90e95a5c277c1c83d43c2))

don't run status metrics run db metrics less often

- Truncate inactive partition to improve evaluation performance
  ([`b878ba0`](https://github.com/RedHatInsights/vulnerability-engine/commit/b878ba0291057b3622099e27bd1a6ef4edfb6cfa))


## v1.208.3 (2023-02-10)

### Bug Fixes

- Always make vmaas request with extended: true
  ([`a815dba`](https://github.com/RedHatInsights/vulnerability-engine/commit/a815dbaf6320154466f3f25d630839c98c8ae1c5))

### Chores

- Remove failed cache
  ([`6422570`](https://github.com/RedHatInsights/vulnerability-engine/commit/6422570b5426e6a20c28eb5c414b26974c0d73a1))


## v1.208.2 (2023-02-07)

### Bug Fixes

- Strtobool returns int
  ([`fa6e481`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa6e481b22db7b7b6baf19e6bd95ab24aa03c3d1))


## v1.208.1 (2023-02-07)

### Bug Fixes

- Set patch_access=true with advisories feature flag
  ([`a77aafd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a77aafd95975adb5d0dafe189e3fc5ad8f905040))

VULN-2515

### Testing

- Update test container to UBI 8
  ([`7ce6622`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ce662231857f41efc5ebdc485ab4ad5674f4110))


## v1.208.0 (2023-02-07)

### Bug Fixes

- Remove unused show_advisories_details and patch_access in /cves/<id>
  ([`0abee4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0abee4fcae161317d4c1a7f911490e66bbf60a5a))

VULN-2515

### Features

- **api**: Use system_vulnerabilities advisories
  ([`5822d19`](https://github.com/RedHatInsights/vulnerability-engine/commit/5822d19d43e5fdebf4c025d855ee5f0b4d444e34))

VULN-2515


## v1.207.0 (2023-02-06)

### Chores

- **clowdapp**: Add crc-pdf-generator to as optional dependency
  ([`01182c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/01182c60edc8945ca5831e759b8582b90b028177))

### Features

- **evaluator**: Store advisories to system_vulnerabilities
  ([`900e531`](https://github.com/RedHatInsights/vulnerability-engine/commit/900e53171ca60988deb5bd78edd78198bf25ff0e))

VULN-2514


## v1.206.0 (2023-01-30)

### Documentation

- Document running unit tests locally
  ([`13a1f47`](https://github.com/RedHatInsights/vulnerability-engine/commit/13a1f47381ed06ca9df131c05d4680e42b69a2b5))

### Features

- **database**: Add advisories column to system_vulnerabilities
  ([`43feb45`](https://github.com/RedHatInsights/vulnerability-engine/commit/43feb457d807938f00b85a0476d6df59589e47c6))

VULN-2513


## v1.205.0 (2023-01-26)

### Features

- /systems/{inv_id}/cves generate_autoplaybook field
  ([`a6c4be8`](https://github.com/RedHatInsights/vulnerability-engine/commit/a6c4be8e990c06870de0a986f30173c885524cf8))

VULN-2467


## v1.204.0 (2023-01-24)

### Chores

- Deploy grouper
  ([`f632d63`](https://github.com/RedHatInsights/vulnerability-engine/commit/f632d63b8b294f0495980bc9e5ecf7bd82f9c7b6))

VULN-2476

### Features

- Implement initial kafka message grouper
  ([`69104a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/69104a788eb3c247cfd4a5437c01d0f8fc0b2cd5))

VULN-2476


## v1.203.0 (2023-01-19)

### Bug Fixes

- No need to re-fetch rules CVEs without errata any more
  ([`3728c24`](https://github.com/RedHatInsights/vulnerability-engine/commit/3728c24bcf675973b3af6312f6451c22fd9220ee))

### Chores

- Ability to switch to vmaas-go
  ([`79c4931`](https://github.com/RedHatInsights/vulnerability-engine/commit/79c4931d0ad11df0b6efd6ecb531e5cf4a9828b3))

- Add also detailed structure to docs
  ([`efb8213`](https://github.com/RedHatInsights/vulnerability-engine/commit/efb821331395490dcf0bc2a23952e0172c63dfc0))

VULN-2490

- Replace deprecated set-output command
  ([`7f5d39a`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f5d39a41da4c2a6ea99e73b8fe5f13cf4023268))

VULN-2485

- Update certifi and gitpython
  ([`6ad374c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ad374ca45bf5607f261ef5a9d16a3fac2a24fca))

- **advisor-listener**: Add readme doc
  ([`03189c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/03189c582eed28b9b5cedfd80f697acc7afe8263))

VULN-2490

- **common**: Allow common conditions to be modular
  ([`1c5a57e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c5a57e5def860cbd8660a40fb1da20a291d46a2))

VULN-2464

- **evaluator**: Add readme doc
  ([`c9f8ebf`](https://github.com/RedHatInsights/vulnerability-engine/commit/c9f8ebf6d2419442f2f812f60c9ddc3d4a5f307f))

VULN-2490

- **listener**: Add readme doc
  ([`0486208`](https://github.com/RedHatInsights/vulnerability-engine/commit/0486208a1ad0e30314c90de9bfd3b24bc16cc700))

VULN-2490

- **manager**: Change to double-tick strings
  ([`1f1c1fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f1c1fed20c890ccc249c9b4380477afa53b6502))

VULN-2464

- **manager**: Cves endpoints common queries
  ([`d66e651`](https://github.com/RedHatInsights/vulnerability-engine/commit/d66e651fe065ae42d3240fc40e8be7f762775747))

VULN-2464

- **manager**: Dashbar common query update
  ([`801d156`](https://github.com/RedHatInsights/vulnerability-engine/commit/801d1569a3288a3de5f261d9acd66504170b06a7))

VULN-2464

- **manager**: Dashboard common query update
  ([`c2bf61f`](https://github.com/RedHatInsights/vulnerability-engine/commit/c2bf61fe66efb0ba51d060653c8a4c5d734bdb09))

VULN-2464

- **manager**: Report endpoint common queries
  ([`6e4328f`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e4328fa6dc533fcc58587b46de704efc25e96a5))

VULN-2464

- **manager**: Systems endpoint common conditions
  ([`cca3fea`](https://github.com/RedHatInsights/vulnerability-engine/commit/cca3fea2ab3ce60f198595367745747df449f546))

VULN-2464

- **manager**: Vulnerabilities endpoint common conditions
  ([`03a84d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/03a84d424deb4b90c3151f7c1f2d1b6c76068d7b))

VULN-2464

- **notificator**: Add docs
  ([`7ef3bf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ef3bf51b2a5b27a1ba52c98771538e5120d1baf))

VULN-2490

- **vmaas-sync**: Add readme doc
  ([`ca4a305`](https://github.com/RedHatInsights/vulnerability-engine/commit/ca4a305f0f500e1c2304587268c7d1ad8f6f275d))

VULN-2490

### Documentation

- Engine schema
  ([`965ea68`](https://github.com/RedHatInsights/vulnerability-engine/commit/965ea68912edf2c34076656b9e0f76f36eb5d293))

### Features

- Sync all CVEs
  ([`2c7e5f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7e5f0a8573e05d6f57a84af7bbbf127b29f89a))

VULN-2486

- Update vmaas api links
  ([`336d0bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/336d0bfd12c17724be6d48e9c48a4dd76eebb37f))


## v1.202.0 (2022-12-12)

### Features

- Process automatic playbook rule
  ([`07cbd91`](https://github.com/RedHatInsights/vulnerability-engine/commit/07cbd91ff1ac5b4442294528e99a18ed2f07e98f))

VULN-2467

### Refactoring

- **manager**: Add common peewee conditions
  ([`53d55c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/53d55c6cf890d42dca52b1f3f3e1bd76973fbd21))

VULN-2464

- **manager**: Dashbar common conditions
  ([`4d0b782`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d0b782fba1a6115cbf96eab923817818a95402a))

VULN-2464

- **manager**: Dashboard common conditions
  ([`2b56b92`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b56b92532a513744e9a42515d148d5c0f8e02b5))

VULN-2464


## v1.201.0 (2022-12-08)

### Features

- **listener**: Extend vmaas_request with repository_paths
  ([`72f8b84`](https://github.com/RedHatInsights/vulnerability-engine/commit/72f8b8462cec74047508f3b984adbc590f3be082))

Add parsed repository paths (from RHUI machines) into `vmaas_request`.

VULN-2442

- **listener**: Parse and format repo paths
  ([`d70a4f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/d70a4f37e511e1a9e02f0979c71428fe8c768299))

Parse repository paths out of yum_repos[].mirrorlist taking only a known `/content/dist` paths for
  RHUI repositories.

VULN-2442

### Refactoring

- **listener**: Get_repo_list out of yum_repos
  ([`1792768`](https://github.com/RedHatInsights/vulnerability-engine/commit/17927684c6b6e250b14fedf95ca13dfeca4a45ce))

VULN-2442

- **listener**: Use basearch when available
  ([`fa7e400`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa7e400de4901e02ef46e8c8fcefb57e90ff46fa))

VULN-2442


## v1.200.0 (2022-12-08)

### Features

- Store all playbooks & insights need reboot fact
  ([`95d5575`](https://github.com/RedHatInsights/vulnerability-engine/commit/95d557508f6b14129a4219542460ea2552d13085))

VULN-2471


## v1.199.0 (2022-12-07)

### Bug Fixes

- Remove old way of syncing exploit data
  ([`0c06446`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c064462916c8f4d699d6d4f63abb00bd779d97d))

VULN-2470

### Chores

- Use postgres14 in unit tests
  ([`87cca4e`](https://github.com/RedHatInsights/vulnerability-engine/commit/87cca4e5d0d9b2b2a3cf369fc3567c5d51821baa))

- **grafana**: Fix vmaas-sync restart counter and add floorist counter
  ([`7554966`](https://github.com/RedHatInsights/vulnerability-engine/commit/7554966e1e067f4e9d5be963f1e165c6abf33855))

### Features

- Sync exploit data from new PS endpoit
  ([`4b9e3e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b9e3e815ab5d8a953c7b384c1e69cfb2e2e20e3))

VULN-2470

- **manager**: Use new exploit data
  ([`f3983ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3983abd62634a22ffd71467a8f58b4a16228f91))

VULN-2470


## v1.198.2 (2022-11-16)

### Bug Fixes

- **manager**: Cve rule filter should filter between abnv and hits
  ([`8d224c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d224c492fd89aec347e4b79ddceea381b5d4a4d))


## v1.198.1 (2022-11-15)

### Bug Fixes

- **manager**: Include rule hits without mitigation_reason
  ([`ef87d43`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef87d43c2b4fae709fab33bb3dde3015a16accce))


## v1.198.0 (2022-11-10)

### Documentation

- **advisor_listener**: Document RV of parse_inventory_data
  ([`7e20b56`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e20b56782579bc0efd0d036925f773e589fe7e0))

### Features

- **cacheman**: Include ABNV CVE-system pairs
  ([`f4a5bdc`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4a5bdc1fefb52998a2c614d6360148e639554aa))

VULN-2396

### Refactoring

- **base**: Get_rules_for_cves query refactoring
  ([`1f9d0d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f9d0d0d2e8500ce6e7cf187b83cfed4592c74f5))


## v1.197.1 (2022-11-08)

### Bug Fixes

- **advisor_listener**: Count cve when rule is not active
  ([`bbd9bfb`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbd9bfb2c6f78109f94492716735e7a8b69cb777))

VULN-2449


## v1.197.0 (2022-11-08)

### Features

- **advisor_listener**: Add abnv counts to system cve cache
  ([`32dfd78`](https://github.com/RedHatInsights/vulnerability-engine/commit/32dfd78cdee77af781c319f16c1517f915b19aa2))

VULN-2449


## v1.196.1 (2022-11-08)

### Bug Fixes

- **evaluator**: Dont count partial rule passes as hit
  ([`db45741`](https://github.com/RedHatInsights/vulnerability-engine/commit/db45741a37bcfb9b8345f4370bf0f5b74dceecd5))

VULN-2448


## v1.196.0 (2022-11-04)

### Features

- **dashboard**: Dont count parial rule passes as hit
  ([`18a1f62`](https://github.com/RedHatInsights/vulnerability-engine/commit/18a1f62e3a8757c16469bd89f5f67565ee772c6d))


## v1.195.2 (2022-11-04)

### Bug Fixes

- **cve_handler**: Dont count partial rule passes as hit
  ([`a1d0003`](https://github.com/RedHatInsights/vulnerability-engine/commit/a1d0003ddf7a2bda7fe55aebe8014b9bb4fb83c1))


## v1.195.1 (2022-11-04)

### Bug Fixes

- **report_handler**: Corrected abnv query
  ([`311b423`](https://github.com/RedHatInsights/vulnerability-engine/commit/311b4232490fb61ca96561421681c6c4c9b9163f))


## v1.195.0 (2022-11-04)

### Features

- **dashbar**: Dont count partial rule passes as hit
  ([`5b3a448`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b3a4487775466d2a96bce942f38aa378c9ab9ec))


## v1.194.3 (2022-11-04)

### Bug Fixes

- **vuln_handler**: Dont count partial rule passes as hit
  ([`3104a66`](https://github.com/RedHatInsights/vulnerability-engine/commit/3104a664d25ec1de000f0888963eccb84e5330f0))


## v1.194.2 (2022-11-04)

### Bug Fixes

- **system_handler**: Dont count partial rule passes as hit
  ([`39629f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/39629f28bcea73f8d735c148d328a8e91fa49e81))


## v1.194.1 (2022-11-04)

### Bug Fixes

- **status_handler**: Dont count partial rule passes as hit
  ([`06ed1f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/06ed1f73e27ce1fc4db87e10fe173c58ffea2738))


## v1.194.0 (2022-11-03)

### Features

- Add remediation field to .../ids endpoints
  ([`5f85410`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f8541011d0d56a3e53cf210f1fd0b524fc2519c))

VULN-2439

- **notificator**: Send notifications for abnv systems
  ([`b0cc9a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b0cc9a4e525cf5f800b20465f668690819f82c5b))


## v1.193.0 (2022-11-01)

### Chores

- Skip test package vulnerability 51457
  ([`d3091ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3091ed1329c00203ada51d399f23d41f5663836))

- **platform_mock**: Add org_id to platform mock
  ([`9464948`](https://github.com/RedHatInsights/vulnerability-engine/commit/94649485597be8fee4da6cafec212ed45e90e3ee))

### Features

- **evaluator**: Add abnv counts to system cve cache
  ([`25c0599`](https://github.com/RedHatInsights/vulnerability-engine/commit/25c0599a152565f41c08f5947cbc1a430b55af0a))

VULN-2448


## v1.192.2 (2022-10-25)

### Performance Improvements

- **dashboard**: Reuse affected cves from overall cves query
  ([`716b3ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/716b3aeb469aba139b88f718cf3944af38829024))


## v1.192.1 (2022-10-21)

### Bug Fixes

- **evaluator**: Skip advisor-only systems when it's scheduled for re-evaluation
  ([`49e1ff2`](https://github.com/RedHatInsights/vulnerability-engine/commit/49e1ff2ad025cee7dbbab1fc14ad1c9dd234bf41))


## v1.192.0 (2022-10-21)

### Features

- **playbook**: Add reboot_required for playbooks
  ([`cab9a7a`](https://github.com/RedHatInsights/vulnerability-engine/commit/cab9a7af0d2edf4e7f0b12eb7a7b3427c1aeb192))

VULN-2438


## v1.191.0 (2022-10-18)

### Features

- Include affected but not vulnerable CVEs in /vulnerabilities/systems API
  ([`023c590`](https://github.com/RedHatInsights/vulnerability-engine/commit/023c5904574a737e8d5ae64795e23d3af238485c))

VULN-2406


## v1.190.1 (2022-10-18)

### Bug Fixes

- **taskomatic**: Disable cache for an account also when there are no cached data
  ([`8d9368a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d9368a0ebc3b3ee96e7856e1d47dfa9ef4f5afe))

VULN-2432

### Refactoring

- **vmaas-sync**: Change to cronjob
  ([`657c3a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/657c3a5de641492abcc8ff48c7c4824c4adfb604))

VULN-2431


## v1.190.0 (2022-10-13)

### Features

- **base**: Include rules for affected but not vulnerable CVEs in base.py
  ([`343c8e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/343c8e2115ddefdc56a4ab582295646d6f4c1686))

VULN-2424


## v1.189.0 (2022-10-11)

### Features

- **report_handler**: Include affected but not vulnerable CVEs
  ([`65fa4ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/65fa4ca3b49316f04559725cef2d37a0bd875ea7))

VULN-2415


## v1.188.0 (2022-10-11)

### Features

- **dashbar**: Include affected but not vulnerable CVEs in /vulnerabilities/dashbar API
  ([`488995f`](https://github.com/RedHatInsights/vulnerability-engine/commit/488995f38ea2aea8daa6ec6bdf5ed77d549f527b))

VULN-2409


## v1.187.0 (2022-10-07)

### Features

- **dashboard**: Include affected but not vulnerable CVEs in /vulnerabilities/dashboard API
  ([`078538b`](https://github.com/RedHatInsights/vulnerability-engine/commit/078538b0e0b938b6ef95ec2e75bd96ff9ef6285b))

VULN-2414


## v1.186.0 (2022-10-06)

### Chores

- Update Kafka version in platform_mock
  ([`51a601b`](https://github.com/RedHatInsights/vulnerability-engine/commit/51a601b5cd63a55b25c765043b77231c2bb5f092))

### Features

- Include affected but not vulnerable CVEs in /vulnerabilities/cves API
  ([`6c77753`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c77753bbf27835f638735245ea480c116fb9ad0))

VULN-2395


## v1.185.1 (2022-09-30)

### Bug Fixes

- **manager**: Fix abnv count in /cve/{cve_id} endpoint
  ([`6c63f03`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c63f032133158579ad14260fe96ac9214aed9c8))


## v1.185.0 (2022-09-29)

### Features

- Include affected but not vulnerable CVEs in /vulnerabilities/status API
  ([`872f006`](https://github.com/RedHatInsights/vulnerability-engine/commit/872f00606fc764de66e865974785c82a78288a79))

VULN-2412


## v1.184.1 (2022-09-27)

### Bug Fixes

- Increase floorist chunksize
  ([`7eeacc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7eeacc6bf88155c8f85374ae8bf3d85d13303cea))

VULN-2411


## v1.184.0 (2022-09-27)

### Features

- **listener**: Add basearch to vmaas json
  ([`80e6215`](https://github.com/RedHatInsights/vulnerability-engine/commit/80e62155048a83e3c061070281f020e46b0118a0))

VULN-2394


## v1.183.5 (2022-09-26)

### Bug Fixes

- Half floorist chunksize
  ([`72f6331`](https://github.com/RedHatInsights/vulnerability-engine/commit/72f6331b0ba69d53305a167eb79dac17a29aacdb))

VULN-2411


## v1.183.4 (2022-09-23)

### Bug Fixes

- Half chunksize for floorist
  ([`bc9dbc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc9dbc67eac0d7d1bd99d18f3c15de9048948288))

VULN-2411


## v1.183.3 (2022-09-22)

### Bug Fixes

- Add custom chunksize for floorplan
  ([`bf3a3dd`](https://github.com/RedHatInsights/vulnerability-engine/commit/bf3a3dd10f77bb00209678053750359ae1cfe864))

VULN-2411


## v1.183.2 (2022-09-20)

### Bug Fixes

- **vmaas_sync**: Fix semaphore init
  ([`fae502b`](https://github.com/RedHatInsights/vulnerability-engine/commit/fae502b5ccc51aea1984b4eee087aee175f228d0))

VULN-2393


## v1.183.1 (2022-09-16)

### Bug Fixes

- **manager**: Increase header size to 65535 bytes
  ([`842498c`](https://github.com/RedHatInsights/vulnerability-engine/commit/842498c7dba6986b0f59c76dc71f9dab8e08b16c))

VULN-2398


## v1.183.0 (2022-09-15)

### Features

- Include affected but not vulnerable CVEs in/cves/{cve_id} API
  ([`eb49cb9`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb49cb94ac6422301d363020ffd03519c43afa41))

VULN-2397


## v1.182.2 (2022-09-07)

### Bug Fixes

- **config**: Don't dump certs into file if they're empty string
  ([`db449a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/db449a7fa050f6ab5a69d653af9f76d5a705e317))

- **kafka**: Support PLAIN sasl mechanism
  ([`72e79bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/72e79bd2f83b25010bba28f53651dd8824c1561c))

### Chores

- **utils**: Provide info about reporter when message validation fails
  ([`82ae7ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/82ae7ae1fef97061e8a12e5b75befe62dc70654d))

VULN-2392


## v1.182.1 (2022-09-05)

### Bug Fixes

- Allow empty account_number
  ([`e5cfc6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5cfc6b9b7d104802b182888ac25b0490147db15))


## v1.182.0 (2022-09-05)

### Features

- /cves affected_but_not_vulnerable count
  ([`d9359b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9359b3b0ee7ee11c9ae1786033689f1c8e0c0fd))

VULN-2299

- Affected_but_not_vulnerable in /cve/{CVE_ID}/affected_systems
  ([`c03d6d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/c03d6d278187a9c74461f70fd16e04ede70f7618))

VULN-2300


## v1.181.0 (2022-08-26)

### Features

- **notificator**: Add display name and inventory id to msg
  ([`9b1ca2d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b1ca2db84b691f45faf7f6e8d5ab952b540d248))

VULN-2369


## v1.180.0 (2022-08-24)

### Features

- **grafana**: Show sent notifications count
  ([`b462d63`](https://github.com/RedHatInsights/vulnerability-engine/commit/b462d631ac585f26eea2ebe14866a84e786b04cd))

VULN-2355


## v1.179.0 (2022-08-11)

### Chores

- **notificator**: Add metric for # of sent notifications
  ([`befe002`](https://github.com/RedHatInsights/vulnerability-engine/commit/befe002ca1ce3b68a277223f7c4e8eedc1b1c49c))

VULN-2355

### Features

- Additional parameters to /ids endpoints
  ([`ea33242`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea3324250f10c65fb9bc9cf9788b5483cb2790f9))

VULN-2363


## v1.178.0 (2022-08-09)

### Chores

- Migrate floorist to FloorPlan CR
  ([`6e0f89e`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e0f89e56c4d79169c2a5c2eac8ac4e98458c769))

VULN-2366

- Remove obsolete file
  ([`937dd53`](https://github.com/RedHatInsights/vulnerability-engine/commit/937dd53b8f0b6a710cb99f131d0dcfb2cd78ca90))

- **manager**: Better catch and log waiting for cyndi
  ([`893a74b`](https://github.com/RedHatInsights/vulnerability-engine/commit/893a74b0655d52c7f4440e8354670af8840c4217))

### Features

- Filter for "affected but not vulnerable" systems in /cves/{cve_id}/affected_systems
  ([`8e47281`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e472819be6d526c7d94285f8768a28d3736ff76))

VULN-2301


## v1.177.1 (2022-08-03)

### Bug Fixes

- 200 code when no announcement is set
  ([`3732735`](https://github.com/RedHatInsights/vulnerability-engine/commit/3732735014ef79b5a96314b2b958584a5bad4586))

VULN-2269


## v1.177.0 (2022-08-02)

### Chores

- Add managed kafka more sasl mechanism support
  ([`afadc6e`](https://github.com/RedHatInsights/vulnerability-engine/commit/afadc6e9d2d15f0571de190501cd76186b42a452))

VULN-2332

- Prevent RBAC resources from being removed
  ([`988173d`](https://github.com/RedHatInsights/vulnerability-engine/commit/988173d1ca82a8dfd367a7a8a4104cbfb0d6b5eb))

### Features

- **manager**: Enable PostgreSQL read replica if available
  ([`03d74fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/03d74fb7c98799d921f6fa7c85d39eaa9d4bcceb))

VULN-2353


## v1.176.1 (2022-07-22)

### Bug Fixes

- **manager-admin**: Accept data_format parameter (it's in links)
  ([`7ab65d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ab65d3022037efd40b7f04e84a4beb45f446263))

VULN-2342


## v1.176.0 (2022-07-19)

### Features

- **manager-admin**: Del notifs endpoint should work with org_id
  ([`bc8ec80`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc8ec8091087753027e5f67feb5c3bfff9b5888c))

VULN-2329

- **manager-admin**: Restart notificator cache on notifications delete
  ([`650ff9f`](https://github.com/RedHatInsights/vulnerability-engine/commit/650ff9f84c30624231f373533ae5c129787db640))

VULN-2329

- **notificator**: Add api to flush cache
  ([`a96badd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a96badd7bfc744cd90d7a45c2f39d3bff49b7c45))

VULN-2329


## v1.175.4 (2022-07-19)

### Bug Fixes

- **manager-admin**: Check for NULL value before doing json.loads
  ([`5d37c3a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d37c3a6edf0d0ce7d9e9cce6e04955c67e32160))

VULN-2337


## v1.175.3 (2022-07-14)

### Performance Improvements

- Add index for rule_id on system_vulnerabilities
  ([`85f45ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/85f45ec5d744c3a0a1fe96814f8372b7c98bcf99))

VULN-2328


## v1.175.2 (2022-07-14)

### Bug Fixes

- Revert "perf(manager): change page and limit size to max 100"
  ([`069f76f`](https://github.com/RedHatInsights/vulnerability-engine/commit/069f76fd061a409f267b50b148f9fdca004c0060))

This reverts commit 4d1bef94b4f87b2241848b3d26e56a116f8b4966.

unable to use currently because of select all feature in frontend


## v1.175.1 (2022-07-14)

### Bug Fixes

- No ssl legacy option for clowder
  ([`ffd9783`](https://github.com/RedHatInsights/vulnerability-engine/commit/ffd9783cf1081c0fc0747f895bb04c8d09e1126b))

Traceback (most recent call last): File /usr/lib64/python3.8/runpy.py, line 194, in
  _run_module_as_main return _run_code(code, main_globals, None, File /usr/lib64/python3.8/runpy.py,
  line 87, in _run_code exec(code, run_globals) File /engine/advisor_listener/advisor_listener.py,
  line 14, in <module> from common import mqueue File /engine/common/mqueue.py, line 10, in <module>
  from common.logging import get_logger File /engine/common/logging.py, line 13, in <module> CFG =
  Config() File /engine/common/config.py, line 20, in __call__ cls._instances[cls] =
  super(Singleton, cls).__call__(*args, **kwargs) File /engine/common/config.py, line 154, in
  __init__ self.clowder() File /engine/common/config.py, line 227, in clowder
  self._set_kafka_ssl_legacy() File /engine/common/config.py, line 161, in _set_kafka_ssl_legacy
  self.ssl_context = create_ssl_context( File
  /usr/local/lib64/python3.8/site-packages/aiokafka/helpers.py, line 53, in create_ssl_context
  context = create_default_context( File /usr/lib64/python3.8/ssl.py, line 745, in
  create_default_context context.load_verify_locations(cafile, capath, cadata) FileNotFoundError:
  [Errno 2] No such file or directory

### Refactoring

- Don't pass same argument twice
  ([`36b1c8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/36b1c8e1b3a01de95db130ba84b2f290ab3b0d78))


## v1.175.0 (2022-07-13)

### Features

- **manager-admin**: Add internal API for usage by Content Preview app
  ([`d6ad07c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6ad07c2429060460a46e5b506c169930b4cdeb4))

VULN-2328


## v1.174.1 (2022-07-13)

### Chores

- Update Grafana board to include new metrics
  ([`3b33c14`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b33c146a9879e31351009ee75429087a3e8f8b9))

### Performance Improvements

- **manager**: Change page and limit size to max 100
  ([`4d1bef9`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d1bef94b4f87b2241848b3d26e56a116f8b4966))

VULN-2327


## v1.174.0 (2022-07-12)

### Chores

- Add latency histogram per endpoint
  ([`86234f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/86234f6a33d27bee39f3a678672d2fa03d94aed1))

VULN-2323

- Define buckets and fix time measurement
  ([`e8c755a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8c755accbf2293e3b25778d615b612958ca3a17))

- Re-structure panels, add new metrics, fix invalid values
  ([`11600bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/11600bf4ee790546edd1e35af7412c2c2ffce9a9))

- Simplify kafka lag graph
  ([`f217c11`](https://github.com/RedHatInsights/vulnerability-engine/commit/f217c1194ded1a99586dc50db79d95e361aeb93f))

### Features

- **advisor_listener**: Send org_id to notificator
  ([`ad2aec5`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad2aec53dbb0302f32a14839a52c2903657a5b4f))

VULN-2315

- **evaluator**: Send org_id to notificator
  ([`a193701`](https://github.com/RedHatInsights/vulnerability-engine/commit/a193701088b8ab4277717d90308843c55f435fc9))

VULN-2315

- **notificator**: Send org_id in notification payload
  ([`22f40b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/22f40b6af71650a2c02cda7886fe2b85ac5c6363))

VULN-2315


## v1.173.4 (2022-07-07)

### Performance Improvements

- Fetch all rows at once instead of using cursor
  ([`7574662`](https://github.com/RedHatInsights/vulnerability-engine/commit/757466277999600074c7e72cbea9fb026c8d96ef))

default prefetch is 50, resulting in multiple queries


## v1.173.3 (2022-07-07)

### Chores

- Fix the latency uptime singlestat
  ([`e6b8790`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6b8790b6d8299cf18cde42619e30c11f9b8f5a7))

- Monitor vulnerability.evaluator.results kafka lag
  ([`1513d09`](https://github.com/RedHatInsights/vulnerability-engine/commit/1513d09e3ad5dcb7412c9b70c0915a7ba6e20f4e))

- Sort keys in json string
  ([`06fc6f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/06fc6f652082848d67575af8ef795e20d591cb0c))

check if this improves the unchanged system ratio

### Performance Improvements

- **evaluator**: Perform update/insert only once per system
  ([`74d8c1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/74d8c1f887693bde3c52a9727d43e4bdf500bfc0))


## v1.173.2 (2022-07-07)

### Performance Improvements

- **advisor_listener**: Get sys_vulns ids from original select
  ([`2b53543`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b53543b0f7725c089d4261518c18447cb6e1b36))


## v1.173.1 (2022-07-07)

### Chores

- Add more advisor listener stats and notificator restart counter
  ([`8f810f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f810f9d09098bc4ef48c49a2de00732f67e8f26))

- Make WORKER_THREADS and MAX_QUEUE_SIZE configurable
  ([`90f16b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/90f16b6ce64e106c63727a062237b12b2f0009c6))

- Update aiokafka
  ([`3265869`](https://github.com/RedHatInsights/vulnerability-engine/commit/32658699bd4daa04bfa14c153442f30b4e9e00b1))

- Use logging level from variable
  ([`c19cf52`](https://github.com/RedHatInsights/vulnerability-engine/commit/c19cf52957ef6d9abb3dcb93a86f2ac641b9bea7))

- **notificator**: Log sent/repeated notifications
  ([`7ced6c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ced6c1a6f49c48fcd5dbe0cb7341dc37c88dc02))

- **notificator**: Log skipped potential notification
  ([`573badb`](https://github.com/RedHatInsights/vulnerability-engine/commit/573badb121b84755f052cf97d7d4167e67efe62e))

### Performance Improvements

- **evaluator**: Get sys_vulns ids from cache for updates
  ([`c04f360`](https://github.com/RedHatInsights/vulnerability-engine/commit/c04f36074c1ce1de10487137478f408b55989cf4))


## v1.173.0 (2022-06-20)

### Features

- Send org_id to payload tracker
  ([`89c8f2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/89c8f2e630e29cf1129e0e022e26b07c438566cf))

VULN-2275

- **advisor-listener**: Populate org_id
  ([`50bf4bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/50bf4bbc6d9bff022cb85b6fe01c20a4b2e9fca8))

VULN-2290

- **listener**: Populate org_id
  ([`87ddf36`](https://github.com/RedHatInsights/vulnerability-engine/commit/87ddf36aa498b84baba7e1122dfa7380cf1ffca4))

VULN-2290

- **vmaas-sync**: Send org_id to evaluator
  ([`3d24365`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d243656b5db83d6ce98141371ee0f868c765d39))


## v1.172.0 (2022-06-17)

### Features

- **notificator**: Add more cve metadata to notifications payload
  ([`ff05c24`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff05c245ff05d76ac8145df8e05fd4697f45efc8))

VULN-2280


## v1.171.0 (2022-06-15)

### Chores

- **database**: Add notified accounts index
  ([`d083c5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d083c5a2369a458e84767eda2c27aa02ef12f6b4))

### Features

- **taskomatic**: Add old notifications cleanup job
  ([`56d47e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/56d47e31c8368ce897005311ff460405839fc9e9))

VULN-2281


## v1.170.0 (2022-06-13)

### Chores

- Always export artifacts_dir
  ([`c0811e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0811e9f0a51e0dbf8c44fdef6a0e87d63f25f28))

- Fix grafana API latency singlestat
  ([`c466950`](https://github.com/RedHatInsights/vulnerability-engine/commit/c466950ceca4d97859c877d141e60cab7b47c463))

### Features

- **manager**: Add API request duration histogram
  ([`3a70320`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a70320bcfd3f7d42fd68999fbfeb59c58bf23d7))

VULN-2305


## v1.169.2 (2022-06-09)

### Bug Fixes

- **platform-mock**: Add asyncpg to platform mock
  ([`de0a325`](https://github.com/RedHatInsights/vulnerability-engine/commit/de0a325578590bdafc2f173166b4da6ea4ca6902))


## v1.169.1 (2022-06-06)

### Bug Fixes

- **evaluator**: Check if account number is in message
  ([`4050a0a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4050a0a455a6460bceb8b83f7f8b7930bc25cfea))

VULN-2294


## v1.169.0 (2022-06-06)

### Bug Fixes

- **vmaas-sync**: Send account number in recalculation messages
  ([`78ae4c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/78ae4c58dae925986ece87995531db64249449a4))

VULN-2294

### Chores

- Update 3scale-mock
  ([`eebd531`](https://github.com/RedHatInsights/vulnerability-engine/commit/eebd5318f96821878e1e90e5877668a6ce900247))

- Use org_id in manager logs
  ([`70e9b3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/70e9b3cb2f19ffca917020986ee5952c195726d8))

without account_number, this is coming from identity header, we can switch to org_id without
  transition period

### Features

- **manager**: Try to use org_id if available
  ([`9afb0c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/9afb0c917bda4ead82a8aee896474165498ff312))

VULN-2274


## v1.168.1 (2022-05-31)

### Bug Fixes

- **notificator**: Advisor evaluation should have first priority
  ([`0107532`](https://github.com/RedHatInsights/vulnerability-engine/commit/0107532c9375ee15b0a563bc753a249cbc384c67))

### Chores

- Skip test package vulnerability 45185
  ([`937fd01`](https://github.com/RedHatInsights/vulnerability-engine/commit/937fd01a4ae3b22764c8de1e29443f2210678838))

- **notificator**: Add timestamp to the messages
  ([`e66ec6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/e66ec6d29a654b7b20c76d5c006e694888316587))


## v1.168.0 (2022-05-26)

### Features

- Add org_id to the schema and rename name column account_number
  ([`ec494ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec494efc51b6222e4982bc00a8af4bc7b800eefe))

VULN-2273


## v1.167.0 (2022-05-26)

### Bug Fixes

- **common**: Dont send empty results to notificator
  ([`e41ad71`](https://github.com/RedHatInsights/vulnerability-engine/commit/e41ad71bbebcc6c60afbe01dbd116b523e4cf517))

### Features

- **adivsor_listener**: Start sending tuples to notificator
  ([`784a316`](https://github.com/RedHatInsights/vulnerability-engine/commit/784a3166267e1ca357c3ed86ed62be1ac3c6fc64))

VULN-2276


## v1.166.0 (2022-05-26)

### Chores

- **clowder**: Deploy notificator service
  ([`c0f499d`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0f499d09c198cb0e9f05f7a1a3a991371b566fc))

VULN-2277

- **database**: Init notificator db account on new instances
  ([`1e2bef3`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e2bef3b39e4bc188891e0195d2919bd948ae156))

VULN-2277

- **notificator**: Move notificator context to events section
  ([`091bacc`](https://github.com/RedHatInsights/vulnerability-engine/commit/091bacce5cc6d85cbd143f6f600e5164d697359e))

### Features

- **manager-admin**: Add endpoint for deleting notified tuples
  ([`9d05aae`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d05aae2b8cb3042db67f1cdbc397062a97948d2))


## v1.165.0 (2022-05-23)

### Chores

- Move async db pool creation to common
  ([`d1cddf8`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1cddf8d72877184a115ea55a5c0e63a6dfe6a75))

VULN-2172

- **evaluator**: Save returned sys_vuln ids and send them to
  ([`4fd3d6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/4fd3d6b83ac496c736e761817dabdc160406ea6e))

- **notificator**: Add notificator unit tests
  ([`77d8b1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/77d8b1abb73f0fa7d4a72aa647eba2b76e034c6c))

VULN-2172

- **notificator**: Start notificator in compose
  ([`27e236d`](https://github.com/RedHatInsights/vulnerability-engine/commit/27e236d9ebf6ed1297790fc456fad8f5ddf7452e))

VULN-2172

- **taskomatic**: Use asyncio scheduler in taskomatic
  ([`569eb2a`](https://github.com/RedHatInsights/vulnerability-engine/commit/569eb2aabd7966c395a1856e0523f1f9656f0830))

### Features

- **database**: Add notificator tables and user
  ([`5a089eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a089ebf85a8eff8990f0fa1d9bc54b705259857))

VULN-2172

- **notificator**: Add notifications queue processor
  ([`21d8740`](https://github.com/RedHatInsights/vulnerability-engine/commit/21d87407ecf89368eb2c8b33d58f7a412b3b150b))

VULN-2172

- **notificator**: Add notificator service
  ([`b83b433`](https://github.com/RedHatInsights/vulnerability-engine/commit/b83b433db8035bc4dacbbd2abb3e66acf557f886))

VULN-2172


## v1.164.6 (2022-05-19)

### Bug Fixes

- Sorting in executive_report top_cves
  ([`12726fd`](https://github.com/RedHatInsights/vulnerability-engine/commit/12726fd656d1a0fc910fa46e1379f801ae17f475))

VULN-2241

### Chores

- **clowder**: Translate EVALUATOR_TOPIC using Clowder dict
  ([`f7c3c6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7c3c6b31fa169f10f1ca8f4dd49d39aaadb493c))

VULN-2267


## v1.164.5 (2022-05-09)

### Bug Fixes

- **manager**: Filter out edge systems when changing CVE status
  ([`a4be0c8`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4be0c89aca1aba91bc86eef6b92551a691e7de8))


## v1.164.4 (2022-05-04)

### Bug Fixes

- Cve_rule_mapping self repair
  ([`68b51bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/68b51bd6e94f455eb9aa0bc52104852f5c7efd00))

VULN-2162

- Cve_rule_mapping self repair
  ([`31ec7a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/31ec7a1484fcb877822bf7101b494db5e455f4bb))

VULN-2162

### Chores

- Bump floorist memory request
  ([`41ed463`](https://github.com/RedHatInsights/vulnerability-engine/commit/41ed463f0e0aed497e133a615828b5d293966b80))

VULN-2251

- **pr_check**: Don't run tests which need patch app
  ([`d9588cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9588cd338be9befeef3104d1c05ef3465a4010d))


## v1.164.3 (2022-04-12)

### Bug Fixes

- **platform_mock**: Create symlink to python
  ([`4ea5fac`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ea5fac2770a7d71e1718e2b21737e0836a288ec))


## v1.164.2 (2022-04-06)

### Bug Fixes

- **dashbar**: Dashbar should respect mitigation reason
  ([`66ee1c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/66ee1c01159b90e80a59d27378e2016bea1b96d0))


## v1.164.1 (2022-03-30)

### Performance Improvements

- **manager**: Use cached rules in exec report
  ([`4205c1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4205c1c27eeaff5a5afd450db5431d4e7cbf5d4d))

VULN-2231


## v1.164.0 (2022-03-24)

### Bug Fixes

- **manager**: Dashbar important cve has id 5
  ([`5b16d78`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b16d7835ebe5f4a6be912239c0f510f6abe4490))

### Features

- **manager**: Add dashbar global filters and specify query
  ([`bc81a50`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc81a502faabc7633baea751da06b50ec89d0f3c))

VULN-2221

- **manager**: Use cache in dashbar api
  ([`e4fbf16`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4fbf1674f3bd012f421eb9de5a8417dc3a8e959))

VULN-2218


## v1.163.1 (2022-03-23)

### Bug Fixes

- **cacheman**: Dont use alias in cache update
  ([`57ca233`](https://github.com/RedHatInsights/vulnerability-engine/commit/57ca23326f6cc702a724a3627bdd8700584ebc5d))

### Chores

- Bump minimal schema in image
  ([`4d85f1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d85f1c1f9427f71ce94f977433628845b8f36fb))


## v1.163.0 (2022-03-23)

### Features

- **taskomatic**: Add rule caching
  ([`2c9b9b4`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c9b9b4857deed667f36217fcec67c7465d46aa6))

VULN-2217 VULN-2158

### Performance Improvements

- **manager**: Start using cached rule counts in dashboard
  ([`39822fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/39822fe5b3ca53dc4495b909cebfe430d2abfdb5))

VULN-2158


## v1.162.1 (2022-03-22)

### Bug Fixes

- Announcement deletion
  ([`67e60b1`](https://github.com/RedHatInsights/vulnerability-engine/commit/67e60b12ed754949974bc729558d9ae2871f882a))

VULN-2182

### Chores

- Rebasing on top of base branch is now natively available from github UI
  ([`653b9eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/653b9ebb19afd7a014f8a35b89231ff485af542b))

- **clowdapp**: Make insights-engine optional
  ([`76b8d17`](https://github.com/RedHatInsights/vulnerability-engine/commit/76b8d17a240db4f71bf0e1314c74fae3af62fc79))

IQE-1363

- **platform-mock**: Fix system profile parsing
  ([`67b46d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/67b46d0c495c5feccde0d431c60865a4cc757cb6))


## v1.162.0 (2022-03-07)

### Features

- **manager**: Add dashbar endpoint
  ([`e3aa6cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/e3aa6cd9fb3c13b8a612a5c61dda4aefb499e19d))

VULN-2180


## v1.161.0 (2022-02-22)

### Features

- Apis for setting, deleting & getting announcements
  ([`33c668b`](https://github.com/RedHatInsights/vulnerability-engine/commit/33c668b87f075474e049c339153d1ab5bdf3d55f))

VULN-2182 VULN-2181


## v1.160.3 (2022-02-22)

### Bug Fixes

- Grafana usage metrics dashboard
  ([`2769de8`](https://github.com/RedHatInsights/vulnerability-engine/commit/2769de8a978cb0d19a567bddd596e51b1b65fb7a))


## v1.160.2 (2022-02-22)

### Bug Fixes

- 500 POST /vulnerabilities/cves, cve_list == \x00
  ([`3af5004`](https://github.com/RedHatInsights/vulnerability-engine/commit/3af500478d051b2eca02fa1e0ed52e279ffe5d2d))

VULN-2184

### Chores

- **pr_check**: Run all smoke tests
  ([`661c508`](https://github.com/RedHatInsights/vulnerability-engine/commit/661c5081259fa6d68100e9afd5f69a3830586a05))


## v1.160.1 (2022-02-17)

### Bug Fixes

- **manager**: Calling Request.handle_errors(...) will lost '_endpoint_name'
  ([`0bb2cca`](https://github.com/RedHatInsights/vulnerability-engine/commit/0bb2cca73bff2125a12f4413d52316de74bb58cc))

VULN-2185

### Chores

- **prcheck**: Run tests only for 'core' requirements
  ([`21da1d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/21da1d736c2d3ec3c5c72a22dbcb063d1a4f1082))


## v1.160.0 (2022-02-10)

### Bug Fixes

- Update tests to support edge systems
  ([`8f5bfc3`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f5bfc304a22607e4e7e36fec29aa97966fdafb9))

### Features

- Add edge systems support
  ([`2e4691f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e4691fcd09825ecb0391349380713bba3698d9c))

- Add HostType enum class
  ([`ecde88a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ecde88af1299085266e4880ac7012e51c430a339))

- **manager**: Add edge systems support
  ([`a1f4f4a`](https://github.com/RedHatInsights/vulnerability-engine/commit/a1f4f4a58bc53750289204799fe15c13e9c7a73c))

- **manager**: Skip EDGE systems in vulnerabilities API
  ([`307dc8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/307dc8ff4117dd4f28b51cf19623ffa3d9a26364))

- **taskomatic**: Skip edge systems in systems_affected cache
  ([`f4d4e5b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4d4e5b1c131010d70eda388f82ee10ad463f630))

VULN-2153


## v1.159.0 (2022-02-09)

### Features

- Add 'Critical' option for business risk
  ([`eb161a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb161a3c78b96724343ed29298b9e2724916985b))

VULN-2166


## v1.158.5 (2022-02-07)

### Bug Fixes

- Update URLs for resources of platform-mock.
  ([`6fb2790`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fb2790e8bd6108a81f6cb0e994778d057c06e61))


## v1.158.4 (2022-02-07)

### Bug Fixes

- **taskomatic**: Provide default name for playbook
  ([`6775017`](https://github.com/RedHatInsights/vulnerability-engine/commit/6775017ad79a5ab6ac8b9608f4ad35ed03528e01))

VULN-2177


## v1.158.3 (2022-02-03)

### Bug Fixes

- Bump resources section in deployment for floorist job
  ([`7d3fc36`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d3fc3688879f727be68fa2b7b1b51badb55119e))

VULN-2098


## v1.158.2 (2022-02-03)

### Chores

- Used CentOS 8 Stream in Dockerfile (Centos 8 EOL)
  ([`406459c`](https://github.com/RedHatInsights/vulnerability-engine/commit/406459c5c051d0a0e30fb21f0f66a2d8e2672b79))

### Performance Improvements

- **advisor-listener**: Reduce number of updated unchanged rows
  ([`4217161`](https://github.com/RedHatInsights/vulnerability-engine/commit/42171612aafbf627f6b763ec3e520c6214593e40))

VULN-2163


## v1.158.1 (2022-01-21)

### Bug Fixes

- **manager**: Fix csv support for ids endpoint
  ([`64bd057`](https://github.com/RedHatInsights/vulnerability-engine/commit/64bd057efa6ac1c451b16f83d8ba91bfdd23d3dc))

VULN-2147

### Chores

- Disable autostart of grafana and prometheus
  ([`ae19016`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae1901681fb7e97687456d4b7006c49cc27df8b7))

- Don't set empty secret in ephemeral env
  ([`ae2d6ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae2d6ac741b1a4f471781add42d86d4a5a6599e3))

VULN-1974 VULN-1994

- Reduce the size of floorist dump
  ([`6b40d31`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b40d31f49fd382ae45fabc6b2b4f0d9bfa49cd6))

VULN-2099

- Update deps to fix vulnerabilities
  ([`946de4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/946de4fc409f358d6ab20f2cc30b59d27dbce4a3))

- **manager**: Remove deprecated opt_out PATCH endpoint
  ([`13cdb14`](https://github.com/RedHatInsights/vulnerability-engine/commit/13cdb149bd024fe94ba8c2fd8d7c2032399a7d16))

VULN-2070


## v1.158.0 (2022-01-04)

### Features

- **metrics**: Add floorist export metrics job
  ([`909d78e`](https://github.com/RedHatInsights/vulnerability-engine/commit/909d78e01d697c5d6d91f2229314764cbfcdbf70))

VULN-2098


## v1.157.0 (2022-01-03)

### Chores

- Update labels processing in pr_check
  ([`b8bf04b`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8bf04b5f3622209cab39d80a358e5d2a388daed))

- **manager**: Add rbac error schema to api spec
  ([`82f69c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/82f69c60157ddbcac7cfe1cdc582fc4c67b31ce2))

VULN-2125

- **manager**: Optimize status update query
  ([`639e61c`](https://github.com/RedHatInsights/vulnerability-engine/commit/639e61cdecad9aef0fcec04865c94355c392f03e))

VULN-2076

### Features

- **manager**: Add rbac filters for default behaviour of endpoint
  ([`7ffa1ce`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ffa1ce0b74c64fe362f24ed4da28fda0e130cfe))

VULN-2124


## v1.156.7 (2021-12-16)

### Bug Fixes

- **manager**: Always sort by default key when available
  ([`346e557`](https://github.com/RedHatInsights/vulnerability-engine/commit/346e557599c9fa53c11daa35d48a5dd84d5bc7f2))

VULN-2081


## v1.156.6 (2021-12-16)

### Bug Fixes

- **advisor-listener**: Create asyncpg function for checking existing system
  ([`c61ff0c`](https://github.com/RedHatInsights/vulnerability-engine/commit/c61ff0cb8aa2685787783e825d56dead27d0f15b))

VULN-2089

### Chores

- Build vulnerability-engine-app once
  ([`b47fad9`](https://github.com/RedHatInsights/vulnerability-engine/commit/b47fad9cbdad703e8e007ddb61658de652149df7))

- Increase timeout
  ([`25d9dbe`](https://github.com/RedHatInsights/vulnerability-engine/commit/25d9dbe36474885dad25eb7bd3c778e6683f6539))

- Use podman to build image from master
  ([`2f1c20f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f1c20f8f712ceafd2b03f5110ec7e07dcd93f5d))

- Use postgresql pkg from RHEL/CentOS
  ([`35283ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/35283ed6d3da8c69b5729922fdaa24bd2c2cc848))


## v1.156.5 (2021-12-09)

### Bug Fixes

- **manager**: Set default sort key for status and business_risk
  ([`b949af6`](https://github.com/RedHatInsights/vulnerability-engine/commit/b949af6bf1fac4734846ab4998736f61995ad13e))

VULN-2081


## v1.156.4 (2021-12-08)

### Bug Fixes

- **clowdapp**: Use the actual values
  ([`2e3b829`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e3b829ab74e0a73d2956d177ca3821fdda4ee67))


## v1.156.3 (2021-12-03)

### Bug Fixes

- **manager**: Request only opt_out:read on systems endpoint
  ([`2f028ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f028ab018631ad5947bd2bdf639ce1ac4267e27))

VULN-2062

### Chores

- Run more tests in ephemeral
  ([`408251d`](https://github.com/RedHatInsights/vulnerability-engine/commit/408251d1e0f8c4fd3ef4437b6567929dfded2054))

- Temporarily disable vulnerability 42692 check
  ([`6d0f259`](https://github.com/RedHatInsights/vulnerability-engine/commit/6d0f259f93ce0ddddc2673d87a22df8e27607a0a))

- Update pull request template
  ([`1b1e804`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b1e80427031ec8be591c938982ddafbb564635f))

### Refactoring

- **common**: Simplify db variables
  ([`9e52045`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e520452ab1cd359044cfc2582a5282e1bc8fe66))


## v1.156.2 (2021-11-25)

### Bug Fixes

- **common**: Use db variables from deployment if available
  ([`2530634`](https://github.com/RedHatInsights/vulnerability-engine/commit/25306342bfe5e56d837fb5936d84284a5b3f964f))

VULN-2061


## v1.156.1 (2021-11-24)

### Bug Fixes

- **listener**: Using more DB connections than available in pool, moving check to worker
  ([`ac56c61`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac56c61154a2085b5767871c19e3ce21275d612a))

VULN-2075

the check makes sense only for upload type messages anyway


## v1.156.0 (2021-11-23)

### Features

- **vmaas_sync**: Introduce flag for disabling sync on start
  ([`e090a51`](https://github.com/RedHatInsights/vulnerability-engine/commit/e090a51c2cf907d612e05b40194c80a47a23b876))

VULN-2022


## v1.155.6 (2021-11-23)

### Bug Fixes

- **manager**: Better check for non-existing account
  ([`e4bb92f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4bb92fa2bd109d63d46e68b7f13c9fe00f74b09))

VULN-1993


## v1.155.5 (2021-11-23)

### Bug Fixes

- **manager**: Be less verbose in some cases when showing exception
  ([`090bec5`](https://github.com/RedHatInsights/vulnerability-engine/commit/090bec5b46940e6b0ebb3acd2b3f9152f5a60d7a))

VULN-2003


## v1.155.4 (2021-11-16)

### Bug Fixes

- Use backoffice production env for /exploits for stage env
  ([`ad558fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad558fee41beda67e03e020e079fe1ec8acb2b45))

### Chores

- Bump version of development grafana
  ([`ebdf7ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/ebdf7abb52644653910ff165ac15bf8ef8eb95f1))

- Keep pr_check namespace with label
  ([`a0b5b33`](https://github.com/RedHatInsights/vulnerability-engine/commit/a0b5b332ebb2bfcda016749fd55186d6c4abdd63))


## v1.155.3 (2021-11-12)

### Bug Fixes

- **tests**: Fix advisor-listener tests
  ([`243e127`](https://github.com/RedHatInsights/vulnerability-engine/commit/243e12711c2f666e8ca7ba4ad9882005e72d54c6))

### Performance Improvements

- Make advisor-listener async
  ([`67cb3f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/67cb3f5e4302b5da2413ce1a0de8e7907ba78a6a))


## v1.155.2 (2021-11-12)

### Bug Fixes

- **advisor-listener**: Don't cache rules playbook count
  ([`798b470`](https://github.com/RedHatInsights/vulnerability-engine/commit/798b470b259265b8d18f426046535aa8670c93a2))

VULN-2060

- **advisor-listener**: Fix duplicate insert
  ([`39ac212`](https://github.com/RedHatInsights/vulnerability-engine/commit/39ac212406addaeb787e386c997a0254345fdaed))

VULN-2060

### Chores

- Increase deploy timeout
  ([`c50e485`](https://github.com/RedHatInsights/vulnerability-engine/commit/c50e4855e7b01d56744809a523c5176708db11ee))

- Increase timeout for cji
  ([`3b5c392`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b5c3924334da880e295c62624b3dbb80d3b8471))


## v1.155.1 (2021-11-10)

### Bug Fixes

- **manager**: Make rbac filter values dict deep copied
  ([`e9756d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/e9756d2736d869e49750e47ca399d41d958fcc38))


## v1.155.0 (2021-11-10)

### Chores

- Fix github labels in pr_check
  ([`8560bcc`](https://github.com/RedHatInsights/vulnerability-engine/commit/8560bcc728c63e50725c3ec5d7de7004bd19848f))

### Features

- Enable cache generation only for active accounts
  ([`aa0e743`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa0e743775bb8eb8c2998ef30c822f8b3708cd70))

VULN-2050


## v1.154.0 (2021-11-08)

### Features

- **manager**: Add flag for report generation permission check
  ([`4313f3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4313f3de1ef5bdacafc77c11adcb8611ee31d5f5))

VULN-1995

- **manager**: Request permissions for csv data format
  ([`fcaaa9f`](https://github.com/RedHatInsights/vulnerability-engine/commit/fcaaa9f2fc4394ed0c7df003de10e0eb39ef8ff1))

VULN-1995


## v1.153.0 (2021-11-08)

### Features

- **evaluator**: Limit maximum messages which are being processed
  ([`6e09ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e09ba970a98768ce8b4279ecefb2bc81130a270))

VULN-2054


## v1.152.1 (2021-11-08)

### Bug Fixes

- **manager**: Handle when opt_out call does not have valid rhaccount
  ([`5242de6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5242de611eea3c43b4eebd7c005ffaf0765bf552))

VULN-1992


## v1.152.0 (2021-11-08)

### Chores

- Fix build on aarch64
  ([`fbb5b74`](https://github.com/RedHatInsights/vulnerability-engine/commit/fbb5b74516c72b5a9858500ad6ce4b7cc3e70056))

- Fix locking script on aarch64 (/tmp unresolvable symlink and need to build psycopg2-binary)
  ([`1cab9ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cab9ab5cfff18cb5c6982fe6b2fc419185a7d8f))

### Features

- **manager**: Request permissions for /dashboard
  ([`49eef24`](https://github.com/RedHatInsights/vulnerability-engine/commit/49eef2405ca04891846568d4560656b6b3b2f5c3))

VULN-2005

- **manager**: Request remediations read perm for playbooks
  ([`371b9e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/371b9e65c6706358f712cead7e434c45c546db1b))

VULN-2007


## v1.151.2 (2021-11-02)

### Bug Fixes

- **advisor-listener**: Missing casts traceback
  ([`6b9c3fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b9c3fe1f986601ba951764172bbab0a2668ac90))

hotfix

### Build System

- Add backoffice secret to clowdapp.yaml
  ([`3c11948`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c11948c6ab4fbf1d7a811e43bcb2bc250499360))


## v1.151.1 (2021-11-01)

### Bug Fixes

- **vmaas-sync**: Add missing permission to delete CVE cache table
  ([`289560c`](https://github.com/RedHatInsights/vulnerability-engine/commit/289560cbbd20702abc3685f463484d64c105fc56))

### Chores

- Temporarily disable vulnerability 42050 check
  ([`6af0f1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/6af0f1a6b105b9da4d87fe92aaf2cc537b99d392))


## v1.151.0 (2021-11-01)

### Features

- **manager**: Introduce granular rbac feature-flag
  ([`ae628c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae628c0a9a203875012eb7913c46a3fde265bcb2))

VULN-2027


## v1.150.4 (2021-10-29)

### Bug Fixes

- **manager**: Request only opt_out:read on excluded parameter
  ([`06f7826`](https://github.com/RedHatInsights/vulnerability-engine/commit/06f78268a3f284c82d7448e3d64b9c73b716280e))

VULN-2006

### Chores

- Skip patch_access and e2e tests
  ([`64d1618`](https://github.com/RedHatInsights/vulnerability-engine/commit/64d1618e51013ae13a33495d704a5a94992dc68f))


## v1.150.3 (2021-10-29)

### Bug Fixes

- **manager**: Add missing advisory_available and remediation params to the spec
  ([`e7cd532`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7cd5326c327e28756d76485078879536f3c8a3f))

- **manager**: Add missing advisory_available and remediation parsing
  ([`96f09d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/96f09d3f756f5ce7f9e014986aaa7c49a8dc8871))


## v1.150.2 (2021-10-27)

### Bug Fixes

- **manager**: /vulnerabilities/cves should have rhel_version filter too
  ([`bbe424d`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbe424dfdb44a470e2481c15e9f2f9d5bd8aa5cf))

### Chores

- Workaround inventory issue
  ([`4b165e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b165e1ea8c539c425111589ae8fd2e6f045437e))

try to workaround missing xjoin until
  https://github.com/RedHatInsights/insights-host-inventory/pull/1021 is emrged


## v1.150.1 (2021-10-21)

### Bug Fixes

- **vmaas_sync**: Delete from cve_account_cache when deleting CVE
  ([`8a18531`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a185313d824a69b462bd4b1cae8527d9a364d7b))


## v1.150.0 (2021-10-19)

### Chores

- **evaluator**: Change log messages to contain counts of playbook/manual CVEs
  ([`86a0012`](https://github.com/RedHatInsights/vulnerability-engine/commit/86a0012d2e96836f09b16dc703ac15189cd675ac))

- **vmaas_sync**: Set heartbeat rate for vmaas_sync ws
  ([`7c0ea11`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c0ea110f1cd0c5944c54314287b04fb2d15c7d7))

VMAAS-1388

### Features

- **evaluator**: Store manually fixable CVEs (feature-flag)
  ([`79a8631`](https://github.com/RedHatInsights/vulnerability-engine/commit/79a8631a33f70ca7bb147cf3721dd5a19636fa70))

VULN-1997

OVAL params to VMaaS are deprecated

### Testing

- **evaluator**: Add test for manually fixable CVEs
  ([`a7b4c8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/a7b4c8feb7eab028f2eb200e223d8fa9ce4bc5fd))


## v1.149.0 (2021-10-18)

### Features

- Store advisory_available and remediation_type_id
  ([`3bd7319`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bd731974fa468e5fc00b6e2e4a8cb5a429d7f33))

VULN-1931

- **database**: Add advisory_available and remediation_type_id columns
  ([`4cb0a47`](https://github.com/RedHatInsights/vulnerability-engine/commit/4cb0a471be2d68c39e560ae5202169e3941c9867))

VULN-1931

- **manager**: Display advisory_available and remediation DB values
  ([`e1176b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/e1176b710879e8d8dd3e7b73abf73f96132f0df1))

VULN-1931 VULN-1985


## v1.148.0 (2021-10-15)

### Features

- **manager**: Wait for cyndi on startup
  ([`4761a35`](https://github.com/RedHatInsights/vulnerability-engine/commit/4761a35db47b355e39f4581f6a67b5031a944325))

VULN-1939


## v1.147.6 (2021-10-14)

### Bug Fixes

- **manager**: Return system culling timestamps for /affected_systems
  ([`9893de7`](https://github.com/RedHatInsights/vulnerability-engine/commit/9893de7eeaae09d6560fa482ee1cf9b9af37a4e9))

VULN-1989

### Chores

- Delete trailing spaces in apidoc
  ([`42a9446`](https://github.com/RedHatInsights/vulnerability-engine/commit/42a94469e7960e266a23a2b596bb1fc46a36ce5e))


## v1.147.5 (2021-10-14)

### Bug Fixes

- **manager**: Always return permissions to not break schema
  ([`17e04f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/17e04f646bd24f5bcbad7c5514f4d97a5fa36b13))

- **manager**: Use rbac variables from Config
  ([`0b46757`](https://github.com/RedHatInsights/vulnerability-engine/commit/0b467574424da0af885c75faaf27afd06dd868a9))

### Chores

- **manager**: Drop usage of AND/OR operators, use one-of
  ([`0546d7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/0546d7cfb620dcb86665834204fc8fbf89495d7b))

VULN-1988


## v1.147.4 (2021-10-12)

### Bug Fixes

- **manager**: Fix timestamp update
  ([`7def779`](https://github.com/RedHatInsights/vulnerability-engine/commit/7def77938dabfa0ee7062688e4ebd2ce0a2a438f))

VULN-1896

### Chores

- **manager**: Add attribute rule_presence to executive report
  ([`41fc9d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/41fc9d9eb32fe94629e2d86a077e6b0b6ac0ada5))

VULN-1972


## v1.147.3 (2021-10-11)

### Bug Fixes

- **usage_metrics**: Fix tuple cast in sql
  ([`da45ccf`](https://github.com/RedHatInsights/vulnerability-engine/commit/da45ccfafe4cc67dbb6115ac6474ebd5fdec9cc5))


## v1.147.2 (2021-10-11)

### Bug Fixes

- Add evaluator_recalc_topic to legacy deployment config
  ([`b941e9f`](https://github.com/RedHatInsights/vulnerability-engine/commit/b941e9f1d1b8da6f74d64b22218ba3fa55c32e4b))


## v1.147.1 (2021-10-08)

### Bug Fixes

- **monitoring**: Fix avg age metrics dashboard
  ([`feca66f`](https://github.com/RedHatInsights/vulnerability-engine/commit/feca66f69ed8b6f2195c08deaf1dbed556baffde))

### Chores

- Use PG 12 in tests
  ([`3b4b61a`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b4b61aaeb351a7dd5eb4c66ece8327b91ed4829))


## v1.147.0 (2021-10-06)

### Bug Fixes

- Trigger cache re-count on CVE status change
  ([`d7f588f`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7f588f468697b2cd6164f142128905ebb61658e))

VULN-1896

### Chores

- Remove metrics panel
  ([`eef232a`](https://github.com/RedHatInsights/vulnerability-engine/commit/eef232af7006c1ce605e2b2d6624ce3504141b81))

### Features

- **listener**: Store empty system repos in vmaas_json
  ([`b5cd424`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5cd42430c32df60cf61715dd30cb3569c1e2ffe))

VULN-1947


## v1.146.0 (2021-10-05)

### Chores

- Udpate postgresql dependencies
  ([`a8d19a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/a8d19a1a4f28ae4bed7f24ddc25a9bd0504e2ec5))

VULN-1715

- **manager**: Reverse the way of checking rbac permissions
  ([`fece7b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/fece7b3d8a270706fdc547ff36c0947def519071))

VULN-1916

### Features

- **manager**: Implement comparison of ANY/* permissions
  ([`8783eef`](https://github.com/RedHatInsights/vulnerability-engine/commit/8783eefe85025715fb63e9921c98580fb6ec304b))

VULN-1916

- **manager**: Request inventory:read permission for rbac-ed each request
  ([`3d996eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d996ebd5a176df5f35f2f818a4f4f507b810b4a))

VULN-1916


## v1.145.0 (2021-09-29)

### Chores

- Ignore failure when processing requirements
  ([`bbac5f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbac5f004c414c5333d164fcd1554afc711f1a5f))

### Features

- **manager**: Add permission demand on cves endpoints
  ([`d64dbfd`](https://github.com/RedHatInsights/vulnerability-engine/commit/d64dbfdfdebb9c000935a7e52f74b039fe9f1ee1))

VULN-1930

- **manager**: Add permission demand on report endpoints
  ([`50c2181`](https://github.com/RedHatInsights/vulnerability-engine/commit/50c2181c5333c40a08a0b925eb2dbcbb032ef1de))

VULN-1930

- **manager**: Add permission demand on status endpoints
  ([`5a7fd1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a7fd1d3aa004600242d554e7e664ff95074edb8))

VULN-1930

- **manager**: Add permission demand on system endpoints
  ([`0d24133`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d2413392c337f4cf54f5377b346c6e4a0c5293a))

VULN-1930

- **manager**: Add permission demand on vulnerabilities endpoint
  ([`bd441bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd441bf8ffef5fa8717c2d43c07bc799a7946cca))

VULN-1930

- **manager**: Implement rbac manager for fetching and working with
  ([`34b25a0`](https://github.com/RedHatInsights/vulnerability-engine/commit/34b25a0cf1369bec9eada85a8ae0d89d046a8fce))

- **manager**: Return permissions in 403 err messsages
  ([`152bb1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/152bb1cc93d1d63944a785223861ad46c5b61001))

VULN-1930

- **manager**: Return user rbac permissions in rbac protected endpoints
  ([`6c0c6e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c0c6e64c54bc12877adf98ff7eedf25985482ca))

VULN-1930


## v1.144.1 (2021-09-24)

### Bug Fixes

- Vmaas_sync should write to evaluator_recalc_topic
  ([`50381a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/50381a2e6ad3051803485d9dec53856cb51c7281))

### Chores

- Use boproxy token from ephemeral-base
  ([`de15b26`](https://github.com/RedHatInsights/vulnerability-engine/commit/de15b265478fa5e520beffbbf0707a9acf7bbba6))

- Use labels in pr_check
  ([`bce6ad7`](https://github.com/RedHatInsights/vulnerability-engine/commit/bce6ad732a68d3e4386ef71e050c7130c22dd011))

VULN-1948


## v1.144.0 (2021-09-23)

### Features

- **advisor_listener**: Check if system exists in inventory
  ([`82e405d`](https://github.com/RedHatInsights/vulnerability-engine/commit/82e405de20c4cce1c2cea4e835f63387316f05cd))

VULN-1898

- **listener**: Check if system exists in inventory
  ([`981e7a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/981e7a14d2cf45fe69c697093a5dfbcf9f316d08))

VULN-1898


## v1.143.0 (2021-09-21)

### Features

- **manager, manager_admin**: Move system deletion endpoint from manager
  ([`b5f8821`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5f8821f3777192ed6d467e80518d273d025aa86))


## v1.142.0 (2021-09-21)

### Bug Fixes

- **listener**: Fix type anotation
  ([`7ba98cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ba98cc7849f566b55019fadf5a8037eeaed270b))

VULN-1946 Tuple expression not allowed in type annotation   Use Tuple[T1, ..., Tn] to indicate a
  tuple type or Union[T1, T2] to indicate a union type

### Features

- **database**: Add host_type field
  ([`18c6786`](https://github.com/RedHatInsights/vulnerability-engine/commit/18c67861dd0782e8a4ca59f67be4506ec8431b04))

VULN-1946

- **listener**: Store system host_type in database
  ([`4b32aa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b32aa33a71e011dff0a199cf64eba47947e378d))

VULN-1946


## v1.141.4 (2021-09-21)

### Bug Fixes

- Use simplier upsert and insert in same order to avoid deadlocks
  ([`f4cff19`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4cff1964f173cf456dbdb2040564e167b81c895))

VULN-1871

### Chores

- Add avg age grafana dashboard
  ([`16b6e3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/16b6e3d56669b9c02e48cecd2dff30fe430a2459))

- Update grafana with ratio of API requests
  ([`81c797b`](https://github.com/RedHatInsights/vulnerability-engine/commit/81c797bdd424645c2136fad32003240b716f5c18))


## v1.141.3 (2021-09-14)

### Bug Fixes

- /healthz shouldn't be in non-public services
  ([`a1a9faf`](https://github.com/RedHatInsights/vulnerability-engine/commit/a1a9fafc0b2a312ddaac7c972b1b2c3b762bd368))

- **manager**: Expose manager on metrics port as well
  ([`3cfccf9`](https://github.com/RedHatInsights/vulnerability-engine/commit/3cfccf90d519b4e90605a4c502b415384780fd03))

### Chores

- Delete proxy
  ([`6521595`](https://github.com/RedHatInsights/vulnerability-engine/commit/65215950118701097f53e6f30a1ee1ccd874d105))

- Remove PATCH_HOST workaround
  ([`ecf353e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ecf353e77a7a04f23f58153165fa0f67a9bffceb))

- Service names in grafana dashboard
  ([`1de2952`](https://github.com/RedHatInsights/vulnerability-engine/commit/1de2952f2705fd65405eccd44fe582a8073ce309))


## v1.141.2 (2021-09-09)

### Bug Fixes

- **clowder**: Replicas spec, turn on proxy
  ([`cad5793`](https://github.com/RedHatInsights/vulnerability-engine/commit/cad5793e3d18c5d7d4f26b377647c5d996431e14))


## v1.141.1 (2021-09-09)

### Bug Fixes

- **clowder**: Names have to be different
  ([`ab8c702`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab8c702ee499827337a3062b8b7009b7be8f1700))

### Chores

- Temporarily remove proxy
  ([`ffc6582`](https://github.com/RedHatInsights/vulnerability-engine/commit/ffc65821423654036fc8a58e6b5ffe3bd4f6cc97))

so it won't override old service during migration


## v1.141.0 (2021-09-09)

### Features

- **manager**: Add advisory_available and remediation flags
  ([`d893c86`](https://github.com/RedHatInsights/vulnerability-engine/commit/d893c86fdb88f66ecd322be845087314dc25d6f3))

VMAAS-1374


## v1.140.0 (2021-09-08)

### Features

- **taskomatic**: Add avg age metrics
  ([`e0a54e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/e0a54e70f21b771691342a6c642eb468a3235e38))


## v1.139.1 (2021-09-08)

### Bug Fixes

- **manager**: Tie referer label with account so we can filter out RH accounts
  ([`67e4ce9`](https://github.com/RedHatInsights/vulnerability-engine/commit/67e4ce968ab7ee2b1ee25bf49e00c88db4eea193))

VULN-1926

### Chores

- Add usage metrics to dashboard
  ([`7727fd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7727fd1458e833f20de07f98e4411d9bf29705fc))

- Run advisories tests in pr_check
  ([`da80433`](https://github.com/RedHatInsights/vulnerability-engine/commit/da80433d63f43fb6af8aaceb4f2fee6d63bab040))


## v1.139.0 (2021-09-07)

### Chores

- **clowder**: Add legacy port for manager
  ([`ef9ec34`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef9ec34288724ba02e43d4f6f290ea88c0ef2c10))

VULN-1909

### Features

- **config**: Take SSL kafka parameters from clowder
  ([`a49f0e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/a49f0e2d318bb38950370027d21e39317bf693ea))

VULN-1884


## v1.138.1 (2021-09-02)

### Bug Fixes

- **manager**: Cve identifier differs for /ids API
  ([`ab637c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab637c73acafad9995f0b2118887ed894eddde89))

VULN-1912


## v1.138.0 (2021-09-01)

### Features

- **advisor_listener**: Try to request vmaas for unknown cve data
  ([`b5efcdc`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5efcdc52d66134f66ca1fa7b628731ccbff26ce))

VULN-1858


## v1.137.6 (2021-08-31)

### Bug Fixes

- **clowder**: Add missing env vars to clowdapp
  ([`d4991e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/d4991e94df793693162477ccfc029606a2f2253c))


## v1.137.5 (2021-08-30)

### Bug Fixes

- Remove email metrics
  ([`2377c09`](https://github.com/RedHatInsights/vulnerability-engine/commit/2377c099da06d92294e621968cda966ad565c7b9))

### Chores

- Drop CYNDI_ENABLED support
  ([`9eeecff`](https://github.com/RedHatInsights/vulnerability-engine/commit/9eeecffd1a2a1e68d61d919d4f08aa548dc7724f))

VULN-1897


## v1.137.4 (2021-08-30)

### Bug Fixes

- **deploy**: Evalutor Kafka topics are derived from env config
  ([`9b8282c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b8282c88022d09492d92cc6c7dc5798d9775c30))

VULN-1872


## v1.137.3 (2021-08-30)

### Bug Fixes

- **deploy**: Remove extra env variables for upload listener
  ([`acec572`](https://github.com/RedHatInsights/vulnerability-engine/commit/acec5728e54218a001364e7775159cd9c68010c7))


## v1.137.2 (2021-08-27)

### Bug Fixes

- **manager**: Console.redhat.com is new UI referer
  ([`bb41eab`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb41eab546cd02bc0088036f5d491142dba8705f))

VULN-1901

### Chores

- **pr_check**: Don't run advisories tests
  ([`484f0b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/484f0b0bed25cfe75bfd32c65241ec61f69effbe))

skip advisories until issues with advisories tests with oval are resolved


## v1.137.1 (2021-08-24)

### Bug Fixes

- **taskomatic**: Join with inventory schema to ensure active systems
  ([`2924ace`](https://github.com/RedHatInsights/vulnerability-engine/commit/2924ace8c7fcf18068594b2bf2b15af620d6f03e))

VULN-1895 VULN-1896


## v1.137.0 (2021-08-24)

### Bug Fixes

- **manager**: Fix endpoint URLs
  ([`ac8a1de`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac8a1dea210bbf49286267288dae23c3a41c72b2))

### Features

- **manager**: Extend /systems/{system_id}/cves/ids with additional data
  ([`68fb606`](https://github.com/RedHatInsights/vulnerability-engine/commit/68fb606cd3fe54ba3969b6f2e806c5915a385dd0))

VULN-1880

- **manager**: Extend affected_systems/ids with additional information
  ([`27688e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/27688e536188d9cb858039cd2eea06e55a641dd9))

VULN-1880

- **manager**: Extend minimal information in vulnerabilities/cves/ides
  ([`4849ed5`](https://github.com/RedHatInsights/vulnerability-engine/commit/4849ed5309a2d61656975eb08adbc1d4c34b3503))

VULN-1880

- **manager**: Extend rule_mitigated_systems/ids endpoint
  ([`131a8fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/131a8fa826004300f71a4e5f9c187390f10be6a7))

VULN-1880

- **manager**: Provide rule_id for {cve_id}/rule_mitigated_systems
  ([`7f038ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f038ec88d088f5559a37abc6f346b73f324e2b2))


## v1.136.2 (2021-08-20)

### Bug Fixes

- **taskomatic**: Deleted system should trigger cache refresh
  ([`53720d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/53720d3158d67a7b08861dc7b1bc34aaa91263cd))

VULN-1864


## v1.136.1 (2021-08-20)

### Bug Fixes

- **taskomatic**: Fix error when more than one cve_id is deleted
  ([`e8c4ea2`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8c4ea21a73917e1016418b049763181de425562))

VULN-1864


## v1.136.0 (2021-08-19)

### Bug Fixes

- **taskomatic**: Run caching job on startup
  ([`4918d1e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4918d1ef4fece7b01f89c779b8e44eb2cb83872f))

### Features

- **manager**: Use CVE caches if available
  ([`70b098f`](https://github.com/RedHatInsights/vulnerability-engine/commit/70b098f2412d8dd1ae0bdd6756e8bc2480e7b387))

VULN-1864


## v1.135.0 (2021-08-19)

### Features

- **upload_listener**: Add release version lock filtering
  ([`88e4568`](https://github.com/RedHatInsights/vulnerability-engine/commit/88e45687814676a5d83f7ed49019c786f00d4f45))

### Testing

- Enable asynchronous tests
  ([`472e084`](https://github.com/RedHatInsights/vulnerability-engine/commit/472e084e46d3ed8aebe47e97deef073345dfdd10))

VULN-1839

- **common**: Test schema version from db
  ([`941697d`](https://github.com/RedHatInsights/vulnerability-engine/commit/941697dae1f7d0a099af987c3996f2a66d22a58f))

- **taskomatic**: Rewrite taskomatic tests to tornado pytest
  ([`0266a88`](https://github.com/RedHatInsights/vulnerability-engine/commit/0266a88eeeea94fc945ad7b88c227c7f6b53f451))

VULN-1839


## v1.134.0 (2021-08-18)

### Features

- **taskomatic**: Generate account-CVE cache periodically
  ([`ea6d1eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea6d1eb4159ea8743b832c01ca05f37502877b96))

VULN-1864


## v1.133.1 (2021-08-18)

### Bug Fixes

- **taskomatic**: Catch collision with advisor_listener
  ([`bd05fe4`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd05fe4fada363363065a5a6e2dcd9ecce07bdad))

VULN-1873

### Chores

- **database**: Add gpg signature of pg_repack
  ([`78a986d`](https://github.com/RedHatInsights/vulnerability-engine/commit/78a986daee4a4781ed20547d041a1d8b109edd05))

- **manager**: Fix description for new rule filter
  ([`45e4e84`](https://github.com/RedHatInsights/vulnerability-engine/commit/45e4e84a8469fc8521a2127719f99fac86cb91ee))

VULN-1863


## v1.133.0 (2021-08-16)

### Features

- **manager**: Enable cached cve counts
  ([`0450c9a`](https://github.com/RedHatInsights/vulnerability-engine/commit/0450c9aa435fca129e09b578294f75a9bed706e3))

VULN-1864


## v1.132.8 (2021-08-16)

### Bug Fixes

- **clowder**: Remove metrics kubernetes job
  ([`4c5c38d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4c5c38d2e5d3989510e61fecc41dcd480b8182f3))

VULN-1878


## v1.132.7 (2021-08-16)

### Bug Fixes

- **clowder**: Use PATCH_HOST for patch url
  ([`b7be045`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7be0455aac32a0cb1859cfe19c587feb480314f))

workaround till patch is deployed by clowder - VULN-1870

### Chores

- **manager**: Change rule filter non-rule value to false
  ([`28313ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/28313ef2792af66fcf3582f2d4439745fecc9f9b))

VULN-1863

### Testing

- Add more evaluator tests
  ([`6fda383`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fda3830e60edadbda52178983ce55cf474f129c))

VULN-1839

- Add more taskomatic tests
  ([`ccb6344`](https://github.com/RedHatInsights/vulnerability-engine/commit/ccb63446c03c8dabe2b48eee85459e291f6eb32d))

VULN-1839

- Add taskomatic usage metrics tests
  ([`5cf51dd`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cf51dde3fea03ae30986ba5ace4737076c86199))


## v1.132.6 (2021-08-12)

### Bug Fixes

- **evaluator**: Ssl params in asyncpg 0.24.0 work only using DSN
  ([`db90b74`](https://github.com/RedHatInsights/vulnerability-engine/commit/db90b74ea0bfb093016c662d7b87b931aa4c7113))


## v1.132.5 (2021-08-11)

### Bug Fixes

- **clowder**: Rbac_disable should be in base class
  ([`591cef3`](https://github.com/RedHatInsights/vulnerability-engine/commit/591cef3063e4d2d4bd767f92bbca49dcafd7c4d0))

### Chores

- Asyncpg 0.24.0 has required SSL parameter functionality
  ([`8169779`](https://github.com/RedHatInsights/vulnerability-engine/commit/81697792e4e8fe174cc6ee5b58f760638a3d4f9d))

- **clowder**: Possibility to disable RBAC
  ([`1266d90`](https://github.com/RedHatInsights/vulnerability-engine/commit/1266d90890003671b86b1e9d1dc6157bfbce400c))

### Testing

- Add more listener tests
  ([`b4be132`](https://github.com/RedHatInsights/vulnerability-engine/commit/b4be1327089ef9c68daf48b3d5f02df4eb3388f5))

VULN-1839


## v1.132.4 (2021-08-10)

### Bug Fixes

- **clowder**: Cyndi pipeline name
  ([`d77403b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d77403b855d4f6cb601b1411da1265dd94cd3071))

### Chores

- Remove old account labels when order changes
  ([`a567c63`](https://github.com/RedHatInsights/vulnerability-engine/commit/a567c6323fc41f68727cb7a450e8d880623731e4))


## v1.132.3 (2021-08-10)

### Bug Fixes

- **clowder**: Add patchman as optional dependency and workaround patch url
  ([`991c757`](https://github.com/RedHatInsights/vulnerability-engine/commit/991c757c700aa6965c40e1ecc9b0df25e55a22b2))

VULN-1870

### Build System

- Add missing clowdapp configurations
  ([`cac7b34`](https://github.com/RedHatInsights/vulnerability-engine/commit/cac7b348d9b3b534bafb23737d5968002fdff2ef))

### Chores

- Add number of missing systems in inventory to graph
  ([`0528b1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/0528b1ab646bfce63aad7001f26774de40217d11))

### Testing

- Add more metrics tests
  ([`09a8191`](https://github.com/RedHatInsights/vulnerability-engine/commit/09a8191c623b7948d1cf22a5364370d2e7ac2561))

VULN-1839


## v1.132.2 (2021-08-10)

### Bug Fixes

- **manager**: Rbac should be disabed intentionally, not by not providing URL
  ([`f44bc8b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f44bc8b72d6b77cee6305e27cb66f07ca2bb5e5a))

VULN-1868


## v1.132.1 (2021-08-10)

### Bug Fixes

- **clowder**: Add rbac as dependency
  ([`44d3f3a`](https://github.com/RedHatInsights/vulnerability-engine/commit/44d3f3a61956cbbc7e8b43edb2a82725139f0463))

We cannot access rbac url if it is not set as dependency. It results in running app without querying
  RBAC.

VULN-1866

### Chores

- Send slack notification in case of error in rules_git_sync
  ([`066b821`](https://github.com/RedHatInsights/vulnerability-engine/commit/066b82170acbe42f20d136f4d61ffdd6e4360d6a))


## v1.132.0 (2021-08-09)

### Features

- Store cached counts for systems
  ([`df15393`](https://github.com/RedHatInsights/vulnerability-engine/commit/df15393d974538c4200d59d8d92a27385819ea93))

VULN-1864

### Testing

- Add new advisor listener unit tests
  ([`e2f3c57`](https://github.com/RedHatInsights/vulnerability-engine/commit/e2f3c57c7315e11125c2aef7539bde15cfe6db1a))


## v1.131.1 (2021-08-09)

### Bug Fixes

- **clowder**: Manager admin is using default user from env
  ([`197fed6`](https://github.com/RedHatInsights/vulnerability-engine/commit/197fed69fd5484383cf0732cc3113cee1e08d9e9))

### Testing

- Add tests for rules_git_sync taskomatic job
  ([`a6009a0`](https://github.com/RedHatInsights/vulnerability-engine/commit/a6009a0955e678b3be7f085fccc664e1086b7035))


## v1.131.0 (2021-08-09)

### Chores

- Add useful metrics for monitoring account sizes
  ([`d180903`](https://github.com/RedHatInsights/vulnerability-engine/commit/d180903023bd539a3bca5c672a3be2d8b055bda1))

- Set missing datasource variable
  ([`f72a4de`](https://github.com/RedHatInsights/vulnerability-engine/commit/f72a4de00c57401c2dce7c56f39205c8f00d05c5))

- Use sum() to not create duplicate label in graph when taskomatic restarts
  ([`dc5651f`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc5651f375f683cec0e5121f93f13ef0d5168f17))

### Features

- **taskomatic**: Support running job on startup (useful for db_metrics job)
  ([`55b3d16`](https://github.com/RedHatInsights/vulnerability-engine/commit/55b3d167e4ff8eba9c7e064d2b7a35c6907aa645))

### Testing

- Add tests for common module
  ([`d9eb8e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9eb8e2b810b49d28330aa15b83c8857319e87f0))

- Add tests for db_metrics taskomatic job
  ([`e161b79`](https://github.com/RedHatInsights/vulnerability-engine/commit/e161b795c9daea7239808c2435c523ee7531f0c4))

- Ignore common/config.py from code coverage
  ([`879f6a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/879f6a26efb85f76b58fba9d80c42f8b79b9552e))

- **manager_admin**: Add tests for manager admin
  ([`4551858`](https://github.com/RedHatInsights/vulnerability-engine/commit/455185839425bfc4a67669e4fd4cbf7808bd13b0))


## v1.130.6 (2021-08-03)

### Bug Fixes

- **upload_listener**: Get default event type
  ([`301de11`](https://github.com/RedHatInsights/vulnerability-engine/commit/301de1118641201bea8192131b66d4fb4193ffb7))

### Build System

- Ignore 41002 vulnerability
  ([`d9ddeec`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9ddeeca991820792a4605393b846beecce82c5f))


## v1.130.5 (2021-07-30)

### Bug Fixes

- **advisor-listener**: Fix upload_data parsing for logger in parse_inventory_data()
  ([`6c0793d`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c0793de9b95e63c500ed03daac9e819cd9efb27))


## v1.130.4 (2021-07-30)

### Bug Fixes

- **advisor-listener**: Safely retrieve dict items
  ([`584be2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/584be2e9384415bb72d81082f7bbb697b77be2ab))

### Refactoring

- Move obtaining a connection to shared place
  ([`b8cb88e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8cb88ef9207e7a6942a455eb2525eca9b6d7c77))

### Testing

- Add tests for taskomatic component
  ([`59fb16b`](https://github.com/RedHatInsights/vulnerability-engine/commit/59fb16bff5c8b3e471dd05bd1ecf8b0050ae27dd))


## v1.130.3 (2021-07-30)

### Bug Fixes

- Is_initialized query
  ([`8dbb572`](https://github.com/RedHatInsights/vulnerability-engine/commit/8dbb572cf99f2a556dd8280d2630d8794fcb62bb))

### Chores

- Add build cache from latest image
  ([`aacbe45`](https://github.com/RedHatInsights/vulnerability-engine/commit/aacbe453823cdb9ee4d5cba394d9b42cda15bab9))

- Enable cyndi in ephemeral env
  ([`00687f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/00687f840644087a0bf0909ae092b0842605025f))

- Improve image build
  ([`4ad04e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ad04e40be193e5d4951821b6bdf01ea6f76dd40))

VULN-1824


## v1.130.2 (2021-07-29)

### Bug Fixes

- **clowder**: Db name needs to match name of secret in stage env
  ([`5e2a074`](https://github.com/RedHatInsights/vulnerability-engine/commit/5e2a0743bac6a499f7ee169dd32300900744f369))


## v1.130.1 (2021-07-29)

### Bug Fixes

- Return common/ folder to dockerfile
  ([`61892f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/61892f041e271e1d73d77cdfce88644ebd2650e0))


## v1.130.0 (2021-07-29)

### Build System

- Remove generate_manifest.sh and deps
  ([`0dcf4df`](https://github.com/RedHatInsights/vulnerability-engine/commit/0dcf4dff7935279937928973329db4f0bab6d2c2))

### Features

- **taskomatic**: Add uasage_metrics taskomatic job
  ([`ae0e383`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae0e38366cb3420d52246adddef99c33a622a32a))

### Refactoring

- Move env to config, fix names and docstrings
  ([`cc27d32`](https://github.com/RedHatInsights/vulnerability-engine/commit/cc27d32a08f842e0ee15e0ca5db706bbecdbf1b4))


## v1.129.5 (2021-07-29)

### Performance Improvements

- **manager**: Select total_count together with data in single query
  ([`09cf73d`](https://github.com/RedHatInsights/vulnerability-engine/commit/09cf73dd29269982247a0e2b100547f237c9531b))

VULN-1846


## v1.129.4 (2021-07-28)

### Bug Fixes

- **manager**: Add second sort key for systems_affected
  ([`7f54622`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f546227d6f10aa35efea96a578d255aca9b2f08))


## v1.129.3 (2021-07-28)

### Bug Fixes

- **clowder**: Use rds ca path
  ([`1fc11d5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1fc11d55b69f5b89e8840f0aafeb3cbc19d6705c))


## v1.129.2 (2021-07-27)

### Bug Fixes

- **advisor_listener**: Log skipped inventory ids
  ([`4203d48`](https://github.com/RedHatInsights/vulnerability-engine/commit/4203d4859a81b9da304ad21d4b448cda8e5c2802))


## v1.129.1 (2021-07-27)

### Bug Fixes

- **vmaas_sync**: Make every sync threaded
  ([`5b9fdf6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b9fdf654ed2d1a4682fb3bff249a3e67594b966))

### Chores

- Disable smoke tests when merging to stable branch
  ([`b7ab5b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7ab5b0ce0137a623a0d53ca79e73faf86f94ccc))

- Run smoke tests using cji
  ([`86c8e14`](https://github.com/RedHatInsights/vulnerability-engine/commit/86c8e14e6dc913037c4d8580a9a68f7ac8d8d967))

VULN-1742


## v1.129.0 (2021-07-26)

### Features

- **manager**: Unify rule_presence and rule_key for affected/mitigated
  ([`918948e`](https://github.com/RedHatInsights/vulnerability-engine/commit/918948ecaf9e29fd4ca3003ae17338f55756b737))


## v1.128.1 (2021-07-22)

### Bug Fixes

- **common**: Cast rbac_timeout env var to int
  ([`32698b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/32698b6834c5f6004c101a2b713a586b268ddd78))

### Chores

- **metrics**: Drop s3 from clowder
  ([`98a8918`](https://github.com/RedHatInsights/vulnerability-engine/commit/98a8918b593c4c5036dba5b75807459f8a2d8a26))


## v1.128.0 (2021-07-22)

### Chores

- Don't override secret from ephemeral-base
  ([`c125ee0`](https://github.com/RedHatInsights/vulnerability-engine/commit/c125ee025757c52e670279c8a2b847daa362d602))

- Don't run cyndi tests in pr check
  ([`c5730aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5730aa8196c55b218fe08720973025fe061a883))

- Fix insights-engine dependency name
  ([`1235f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/1235f097071f5cec5a5ac0d748e2885acd903721))

- Retag image built from master as latest
  ([`73887fd`](https://github.com/RedHatInsights/vulnerability-engine/commit/73887fda06088d6834072d3cc9efd83c1c6db87a))

- Run smoke tests in ephemeral env
  ([`dc6ca4c`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc6ca4c44f407d3e90c2357d2067956579382da3))

- **clowder**: Respect vmaas resources in ephemeral
  ([`bb15cbf`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb15cbfc6a417db44f8b78f41aaea7000f4d333f))

### Features

- **manager**: Set timeout limit to rbac request
  ([`02c39fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/02c39fc8daeed11c0e24f8c574e5e9169801ef40))


## v1.127.1 (2021-07-16)

### Bug Fixes

- Image name to build
  ([`9d93297`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d93297446a1ab0578212908c275f9add76d9ce6))


## v1.127.0 (2021-07-15)

### Features

- **database**: Install pg_repack into db
  ([`6e2a8a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e2a8a86275ab487a51ad487f3b000533160922c))

- **manager_admin**: Add bloat handlers
  ([`1a66f88`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a66f88114cfeda50d10a53dc7c8cf280fbb20cd))

- **manager_admin**: Add db vacuum handlers 
  ([`d55985b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d55985b1eedaf825e69e3844be49bd30850fdfca))

- **manager_admin**: Add handler for query maintenance
  ([`60f0f01`](https://github.com/RedHatInsights/vulnerability-engine/commit/60f0f01104df5f59390b787ab2e3d53b175975a7))


## v1.126.0 (2021-07-14)

### Bug Fixes

- **advisor_listener**: Change unchanged_system counter description
  ([`da997c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/da997c16dff7ab8fa86912640255afd3dc48237b))

### Features

- **advisor_listener**: Add skipping unchanged system results
  ([`e02709c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e02709caef6e8c10dfe4f9d8890519ed98320551))

### Refactoring

- **vmaas_sync**: Reevaluate systems by rh_account_id
  ([`493ebc2`](https://github.com/RedHatInsights/vulnerability-engine/commit/493ebc2980c345a28bf334c23ad979b5b7ea51ac))


## v1.125.1 (2021-07-13)

### Bug Fixes

- **database**: Fix default name in ve_dv_dev_cyndi.sql
  ([`cb2a66e`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb2a66e129cd9da32a7fb15061f3e8ca048aea7b))


## v1.125.0 (2021-07-12)

### Features

- **manager**: Add culled_timestamp to /systems and /affected_systems endpoints
  ([`eb008b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb008b7f72913d65230ca18e9cff61d6e364d589))


## v1.124.1 (2021-07-12)

### Bug Fixes

- **manager**: Fix default os value
  ([`c0a1c6f`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0a1c6fdd14e3a91714776fe163ed0580626b3df))


## v1.124.0 (2021-07-02)

### Features

- **manager**: Add filtering + sorting to first_reported field
  ([`c927daa`](https://github.com/RedHatInsights/vulnerability-engine/commit/c927daab84abe3ed13bfa2a3300b1940efb2b6a6))

VULN-1798


## v1.123.1 (2021-07-02)

### Bug Fixes

- **database**: Can't commit inside one migration
  ([`9ed974b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9ed974bb7557fd97e74ad133e48fb68d84fd1007))

- **database**: Run migrations as single transactions and detect errors better
  ([`6c4263b`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c4263b8adf752c1c3733f8ee60861a8cb359e12))


## v1.123.0 (2021-07-01)

### Features

- **database**: Bump database to rhel8/centos8
  ([`907655b`](https://github.com/RedHatInsights/vulnerability-engine/commit/907655b744b3d760d0f1fdcb98c4a97dea7b4c5c))


## v1.122.2 (2021-06-30)

### Bug Fixes

- **vmaas_sync**: Delete rule mappings for deleted cve
  ([`1777774`](https://github.com/RedHatInsights/vulnerability-engine/commit/1777774e59cade24cce7a9bdf27b7c5bd4b48fb3))

- **vmaas_sync**: Get cve from path in cve deletion endpoint
  ([`282a82d`](https://github.com/RedHatInsights/vulnerability-engine/commit/282a82d83b4213ed86f10372f388cc230f7d0c4c))

### Chores

- Add auto rebase workflow
  ([`243a954`](https://github.com/RedHatInsights/vulnerability-engine/commit/243a9542f79a37b86b7a30e2bed48d2928b43295))

- Deploy insigths-engine as dependency
  ([`37e443e`](https://github.com/RedHatInsights/vulnerability-engine/commit/37e443ed3184564f77b930f7b336dd53f4054dd4))


## v1.122.1 (2021-06-28)

### Bug Fixes

- **database**: Fix migration number
  ([`35c826a`](https://github.com/RedHatInsights/vulnerability-engine/commit/35c826a7a5f0b6ff5ce3e5e67740bdbeb9c27a83))


## v1.122.0 (2021-06-28)

### Bug Fixes

- **vmaas_sync**: Close sessions in tests
  ([`5326f20`](https://github.com/RedHatInsights/vulnerability-engine/commit/5326f20c00e253bccc8031845c8f0f90b9cc9935))

### Features

- **metrics**: Migrate metrics from s3 to db
  ([`29c05a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/29c05a7b801b0f9061327d640e3ff79944f6bfce))


## v1.121.2 (2021-06-24)

### Bug Fixes

- **clowder**: Taskomatic and vmaas_sync are private endpoints
  ([`23c138e`](https://github.com/RedHatInsights/vulnerability-engine/commit/23c138e9d1e334c93a44381c9d4ae2031a49166f))


## v1.121.1 (2021-06-24)

### Bug Fixes

- **database**: Init cyndi on fresh db creation (non-container db)
  ([`6b4872b`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b4872b09a0b2991e0c51458cc707fd25348b607))


## v1.121.0 (2021-06-23)

### Features

- **manager**: Return first reported information for CVEs
  ([`40ad1a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/40ad1a1ed6e8aba40635ff54bd64a9a20dcc8085))

VULN-1766


## v1.120.4 (2021-06-23)

### Bug Fixes

- **manager**: Sort OS major and minor versions numericaly
  ([`919911a`](https://github.com/RedHatInsights/vulnerability-engine/commit/919911ae8866844874c06ef6b752621de6ba7283))

fixes: VULN-1763


## v1.120.3 (2021-06-22)

### Bug Fixes

- **clowder**: Add real kafka values into clowder deployment
  ([`7de2816`](https://github.com/RedHatInsights/vulnerability-engine/commit/7de28165ef55591462cc38792caa347fd7d5e6c0))


## v1.120.2 (2021-06-22)

### Bug Fixes

- **evaluator**: Validate the CA cert before sending to asyncpg
  ([`26b43a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/26b43a6833a5636977d3af579384d1c7ce210e80))

the exception is not handled inside asyncpg currently in current PR state


## v1.120.1 (2021-06-17)

### Bug Fixes

- Don't deploy insights-engine and fix manager-admin port
  ([`f228d08`](https://github.com/RedHatInsights/vulnerability-engine/commit/f228d08b0795359c0eea67c79722684a8e18dd27))


## v1.120.0 (2021-06-16)

### Features

- **manager**: Return OS info on affected/mitigated systems
  ([`56f4d19`](https://github.com/RedHatInsights/vulnerability-engine/commit/56f4d1918bfdceccdca4c4db785a89beef06b9a4))

VULN-1752


## v1.119.0 (2021-06-15)

### Features

- **manager**: Return OS info in system details API
  ([`75c44e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/75c44e0accbce5524b8ece629d3dcfeb16d8c4e8))

VULN-1757


## v1.118.0 (2021-06-15)

### Features

- **manager**: Fix missing inconsistencies with cyndi
  ([`dbc66eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/dbc66eb5a9df43caf5e3d433c1838f157d12c8de))


## v1.117.0 (2021-06-15)

### Features

- **manager**: Return OS info in /systems + allow sorting
  ([`b1885fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1885fa0517a3f0bf5de5fef1cab7beddd24946e))

VULN-1752


## v1.116.1 (2021-06-15)

### Bug Fixes

- Small clowdapp issues
  ([`5bc2519`](https://github.com/RedHatInsights/vulnerability-engine/commit/5bc2519951b7f4da835b5e4b8cb44660e6e09364))

### Chores

- Add pr_check and build_deploy scripts
  ([`e8c234b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8c234b14dae940b3677da7ffcc5ab4641ed844a))


## v1.116.0 (2021-06-11)

### Features

- **manager**: Filter by RHEL version on affected/rule mitigated systems
  ([`3e9837c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e9837cb8cd6f5acb647cc68e174b1215cfe76d7))

VULN-1751


## v1.115.1 (2021-06-10)

### Bug Fixes

- **manager**: Format publish date to string
  ([`900e098`](https://github.com/RedHatInsights/vulnerability-engine/commit/900e09880bcedc5c1d51a1ab55035a2192b500c0))


## v1.115.0 (2021-06-10)

### Build System

- **deps**: Bump urllib3 to 1.26.5
  ([`5f4f5b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f4f5b3e3ae2c438773fab85dacc548917e46791))

### Features

- **manager**: Add RHEL version filter for /systems API
  ([`3a15b42`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a15b423ea7113bf8d25b99c6a1c1f818f2395b6))

VULN-1735


## v1.114.3 (2021-06-08)

### Bug Fixes

- **evaluator**: Use patched asyncpg version supporting sslrootcert until it's fixed upstream
  ([`b2784fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2784fb61bf3a094d37606cae47d06b0039622e6))


## v1.114.2 (2021-06-08)

### Bug Fixes

- Db ssl with clowder ([#968](https://github.com/RedHatInsights/vulnerability-engine/pull/968),
  [`1a29dfa`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a29dfae797d2fa174be690e2f5bb5a50e2a466b))


## v1.114.1 (2021-06-07)

### Bug Fixes

- Adapt platform mock to Clowder
  ([`368a751`](https://github.com/RedHatInsights/vulnerability-engine/commit/368a751104b4d5714d2a5d1b57a3a6f3001cd36f))


## v1.114.0 (2021-06-04)

### Features

- **clowder**: Initial clowder migration
  ([`101db2f`](https://github.com/RedHatInsights/vulnerability-engine/commit/101db2f2a71dfc26a345393f34e94dcc68c84f60))

* chore: add app-common-python and lock dependencies

* chore: log url of failing external service

* fix: update clowdapp according to e2e templates

* fix: missed CYNDI_ENABLED in cve_handler

* chore: lock dependencies with script

* chore: ignore pylint errors for peewee

* chore: script should lock all pipfiles

* fix: test for env vars and wrong vars

* chore: rebase rules_git_sync

* chore: sslmode and sslcert as class attributes

* fix: call Config once per identity module

* fix: remove unnecessary logging and bring back allowed methods


## v1.113.0 (2021-06-03)

### Chores

- Add script to easily re-generate Pipfile.lock
  ([`d3a6159`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3a61595e609b50c574100ddad8c54460ba4b6a7))

- Unrelated pylint issues caused by lib update
  ([`1d229a0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d229a016e7604176cc5fd4f1ef1a95eaa60943e))

### Features

- Set PostgreSQL SSL mode
  ([`99b045c`](https://github.com/RedHatInsights/vulnerability-engine/commit/99b045c410e70f77747386b7b13aa09fa216c9e3))


## v1.112.0 (2021-06-01)

### Documentation

- Add schema diagram
  ([`8153018`](https://github.com/RedHatInsights/vulnerability-engine/commit/815301864d6312e61b9539bf7372abe2edad40a7))

### Features

- **manager**: Add known_exploit_count to /executive
  ([`502fe71`](https://github.com/RedHatInsights/vulnerability-engine/commit/502fe710d301166b8c0c8e64e9416490e7b9d181))

### Refactoring

- **manager**: Unify multiple bools filter functionality
  ([`1d9babe`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d9babe45208a1af2512e376590a094c2dfe41c5))


## v1.111.0 (2021-05-27)

### Features

- Add kafka SSL support
  ([`f3eee99`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3eee99ee40e0965bac64116b3b9e5819593c018))


## v1.110.1 (2021-05-26)

### Bug Fixes

- **manager**: Do not fail on CVEs with no public date
  ([`f11b323`](https://github.com/RedHatInsights/vulnerability-engine/commit/f11b32328ea1f8314448ac40bb322d6fcf30c0ff))

fixes: VULN-1705


## v1.110.0 (2021-05-25)

### Chores

- Decrease threshold and run the system deletion job more often
  ([`c643f90`](https://github.com/RedHatInsights/vulnerability-engine/commit/c643f9025a1447a7bab948f31d2be267ee430073))

### Features

- **manager**: Add insights_id to system responses
  ([`196d9e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/196d9e8024c1fd44d5c33f38af2347818fe82b90))

### Refactoring

- **vmaas_sync**: Switch from tornado to aiohttp
  ([`88319b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/88319b3c7aecaff88955fb48677070ce191c56a4))


## v1.109.0 (2021-05-19)

### Build System

- Upgrade python to 3.8 and related dependancies
  ([`b16fba4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b16fba44971ae37d7f7ff342ae1ed869121ce815))

### Features

- **evaluator**: Oval evaluation feature flag
  ([`c7f712e`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7f712e86c872999e20d53fd1e1fab0f597a9868))

### Refactoring

- Update code to python 3.8
  ([`3215612`](https://github.com/RedHatInsights/vulnerability-engine/commit/3215612b19338c829add85d3a3ca436b24d74523))


## v1.108.0 (2021-05-06)

### Features

- **vmaas_sync**: Run /sync endpoint in async mode
  ([`66ab3fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/66ab3fb3d99b449729a5ad9a149e4e05c35dec4e))


## v1.107.1 (2021-05-06)

### Bug Fixes

- **manager**: Remove sort prefix
  ([`5ba85f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ba85f72c7538baa409f4bc55c350616688c541d))


## v1.107.0 (2021-05-06)

### Features

- **manager**: Rework sorting to let each column support second default sort column
  ([`8e50032`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e5003260b08d0ca23e9980450d11fa41658da18))


## v1.106.0 (2021-04-29)

### Chores

- Start using email service for metrics
  ([`37a612c`](https://github.com/RedHatInsights/vulnerability-engine/commit/37a612c66803e0fa4c09ea323f94ad33a7b1be8c))

### Features

- Implement email service using bop
  ([`a2e97fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2e97fceacb5be61f5c4094bf2c00b3a228363d1))


## v1.105.0 (2021-04-29)

### Chores

- **deps**: Update few dependencies to fix Github security alerts
  ([`7e1d9e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e1d9e2a926b36c98413a75303ae78df565a3e07))

### Features

- **manager**: Provide API for viewing passed rules results
  ([`881fbfc`](https://github.com/RedHatInsights/vulnerability-engine/commit/881fbfcad2c581f69decc213992cf2f1b7115ac8))


## v1.104.0 (2021-04-21)

### Features

- **manager**: Add publish date field for rules
  ([`11dae4c`](https://github.com/RedHatInsights/vulnerability-engine/commit/11dae4c7c17dc70799f171953f4878a7aea564ef))


## v1.103.8 (2021-04-21)

### Bug Fixes

- **manager**: Attributeerror: 'NoneType' object has no attribute 'find'
  ([`e0d24e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/e0d24e91251f2efbb33e5ce743eda93b1ccf3406))

caused by peewee update

- **manager**: Use materialized CTE to avoid PostgreSQL planner when filtering + filter in subquery
  ([`ef1a6cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef1a6cde705d854e95e9291f54fb4f22a8076a0d))

### Chores

- Update peewee (to support materialized CTE)
  ([`ba5d25f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba5d25f6b66a34acdc67cb963b2336f135ed1911))


## v1.103.7 (2021-04-20)

### Bug Fixes

- **taskomatic**: Store better description for playbooks
  ([`4a1f47d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4a1f47d6e282181e864c3a6d053df4ce71c720e4))

fixes: VULN-1642


## v1.103.6 (2021-04-20)

### Bug Fixes

- **manager**: Inner join should filter out null/zero rows directly
  ([`d418e29`](https://github.com/RedHatInsights/vulnerability-engine/commit/d418e2907629ae72397807e9cea4cc801e1a068a))

### Chores

- Update to current manifest format
  ([`9c0826b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c0826b942e13c674da665e4c41f9ef489ea4090))


## v1.103.5 (2021-04-20)

### Bug Fixes

- **manager**: Optimize query
  ([`4f3a436`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f3a4363be07b46be01437a23ea010e2f3981e45))


## v1.103.4 (2021-04-16)

### Bug Fixes

- **manager**: Return recent rules only if there's a system affected
  ([`8600ff1`](https://github.com/RedHatInsights/vulnerability-engine/commit/8600ff185bb789e5de785d08118c0f15e1417395))

### Chores

- Refactor query parameter examples
  ([`b1047d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1047d3694d9f8d734fc749992871402551ca590))


## v1.103.3 (2021-04-15)

### Bug Fixes

- **advisor_listener**: Use blacklist also for rule passes
  ([`5cf38dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cf38dccdcf7eab7d4ce29d91025657d5bd66984))


## v1.103.2 (2021-04-14)

### Bug Fixes

- **manager**: Add missing known_exploit parameter to /ids enpoints
  ([`5d14b71`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d14b7145e9013244308b2de4d21146351e0d5aa))

### Chores

- Bump required version for read-only during upgrade
  ([`d494e1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d494e1ce929420a741cb2fe27d7ccfb8b1ca818c))

- Change db checks to be asynchronous
  ([`4238c9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4238c9cbe6191d1d2f6b0d94bc13dec6f48305da))


## v1.103.1 (2021-04-12)

### Bug Fixes

- **manager**: Don't take mitigated CVEs into account on /dashboard
  ([`4f20e82`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f20e82e08698e244516ae0c5b3b8124b80ad136))


## v1.103.0 (2021-04-08)

### Features

- Add healthz endpoint for missing components
  ([`ada787e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ada787e63db7a66201dabb18ccfbc36fa537de9a))


## v1.102.0 (2021-04-08)

### Features

- **manager**: Provide breakdown of known exploits by cvss
  ([`f76b3ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/f76b3ba5d877b8c9117b5f9687f236f105763204))


## v1.101.1 (2021-04-07)

### Bug Fixes

- **manager**: Rework errata linking in system handler and cve handler due to pagination issue
  ([`61d8144`](https://github.com/RedHatInsights/vulnerability-engine/commit/61d81443098dec12b99225fc50fec493ab3af9ce))


## v1.101.0 (2021-04-07)

### Features

- **database**: Use bigserial instead of serial
  ([`907fa38`](https://github.com/RedHatInsights/vulnerability-engine/commit/907fa38440c3df966974c7e9c6e660973c0fd589))


## v1.100.6 (2021-04-07)

### Bug Fixes

- **manager**: Make known_exploit filter take array separated by comma
  ([`ea80b3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea80b3dfcdaded317080ef1b4042ac6f7b4c83dc))

### Chores

- Bump up gunicorn version
  ([`a87ff45`](https://github.com/RedHatInsights/vulnerability-engine/commit/a87ff45314da34d00ae974a5b9fc21bc93193c0d))


## v1.100.5 (2021-04-01)

### Bug Fixes

- **manager**: Display correct counts of rules cves on /dashboard
  ([`aa6b9ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa6b9ec3f4eced835147d769a3b37d8f6759bbef))


## v1.100.4 (2021-03-31)

### Bug Fixes

- **manager**: Fix CVEs with null publish date on /dashboard
  ([`06d1a62`](https://github.com/RedHatInsights/vulnerability-engine/commit/06d1a625923d5acee2fe30b51b0d066d441c4f5d))


## v1.100.3 (2021-03-25)

### Bug Fixes

- Add healthz specs to manager
  ([`74ddbb5`](https://github.com/RedHatInsights/vulnerability-engine/commit/74ddbb5e28f83c06ce1d3d5fce0b10439089ef09))


## v1.100.2 (2021-03-25)

### Bug Fixes

- **manager**: Return correct count of CVEs with rules on /dashboard
  ([`c164974`](https://github.com/RedHatInsights/vulnerability-engine/commit/c164974b1f3c6999c82220fd41bb34061c23375c))


## v1.100.1 (2021-03-25)

### Bug Fixes

- **manager**: Do not show rule_only CVEs
  ([`653f218`](https://github.com/RedHatInsights/vulnerability-engine/commit/653f218be3c4adbac75d847c9d608a9d7fe3975b))


## v1.100.0 (2021-03-24)

### Chores

- Change health check endpoints to healthz
  ([`5620449`](https://github.com/RedHatInsights/vulnerability-engine/commit/5620449809e75727f029fe655eacbf11d323f420))

- Get rid of obsolete insights-core dependency
  ([`8a76a50`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a76a50582c1c4b6e46c09464a9a1f3e91c89932))

### Features

- **manager**: Propagate known_exploit to api
  ([`d6a035b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6a035b305c80ee581092f220c4237d530eec20c))


## v1.99.0 (2021-03-22)

### Features

- **manager**: Make rules age on dashboard configurable
  ([`73d1c64`](https://github.com/RedHatInsights/vulnerability-engine/commit/73d1c6487c5166cc60f3d9561477a1286fbed3bf))


## v1.98.3 (2021-03-19)

### Bug Fixes

- **manager**: Dashboard should show number of CVEs with rules and not rules
  ([`6134b44`](https://github.com/RedHatInsights/vulnerability-engine/commit/6134b449e4c69813960024b7124c7b4933db8dbe))


## v1.98.2 (2021-03-18)

### Bug Fixes

- **advisor_listener**: Fix missing rules only flag
  ([`1d675e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d675e8ce78545b763ca203ef1af415a4c3aacdf))


## v1.98.1 (2021-03-17)

### Bug Fixes

- **taskomatic**: Correctly store all content_version data
  ([`60ae6a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/60ae6a45b2bf948b750e8d2a80f377d4c33885b2))


## v1.98.0 (2021-03-16)

### Features

- **manager**: Expose CVE celebrity names in the API
  ([`0ebd9f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0ebd9f100abfd6e2176dc42534642b81c94d92f3))

- **taskomatic**: Store celebrity CVE names
  ([`51c0b3f`](https://github.com/RedHatInsights/vulnerability-engine/commit/51c0b3f600ee479777273d0ed205539ca7641c55))


## v1.97.1 (2021-03-16)

### Bug Fixes

- **vmaas_sync**: Fix sync exploits bug
  ([`1235541`](https://github.com/RedHatInsights/vulnerability-engine/commit/1235541ab177b569a2d0f72fbf553bac5557153c))


## v1.97.0 (2021-03-16)

### Chores

- **grafana**: Add SLO metrics
  ([`43da3b9`](https://github.com/RedHatInsights/vulnerability-engine/commit/43da3b99e4594edd6d249cdfb74a09837ed6f84d))

- **grafana**: Convert requests by account graphs to stats and support selected time range
  ([`879268d`](https://github.com/RedHatInsights/vulnerability-engine/commit/879268da325623aeec187793abba7b465337bca4))

### Features

- **manager-admin**: Return content version information
  ([`10fd466`](https://github.com/RedHatInsights/vulnerability-engine/commit/10fd4661e8bd3bbcfb24298a289e20a585a45352))

- **taskomatic**: Store imported content versions
  ([`5087e00`](https://github.com/RedHatInsights/vulnerability-engine/commit/5087e00cde34e2dc957c11a4cbe692c86c5e899d))


## v1.96.2 (2021-03-15)

### Bug Fixes

- **taskomatic**: Associcated CVEs are now part of content
  ([`1f5949d`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f5949d294bec3ac3d6321405a87d02699d101e7))


## v1.96.1 (2021-03-15)

### Bug Fixes

- **taskomatic**: Rule description definition has been changed
  ([`6b2ef73`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b2ef739ccb7e1331d10ab9797db77cccecbaeac))

### Chores

- Add GH Actions badge
  ([`0559ffb`](https://github.com/RedHatInsights/vulnerability-engine/commit/0559ffb282e783ad3a4b653975312993f159180f))


## v1.96.0 (2021-03-12)

### Features

- **advisor_listener**: Store mitigation reason for passed rule checks
  ([`b9d4777`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9d47771fa16d9049944f23181f0948661b9b581))

- **manager**: Set manager to be working with error key rules only
  ([`36c6e76`](https://github.com/RedHatInsights/vulnerability-engine/commit/36c6e763e8057f623349a13f1d1780058a87b988))

- **taskomatic**: Sync rules without errkey into db
  ([`a94941b`](https://github.com/RedHatInsights/vulnerability-engine/commit/a94941b237ff69fff1bcfdce0d7163c212d92a2f))


## v1.95.2 (2021-03-11)

### Bug Fixes

- **manager**: Provide rule description in /report/executive
  ([`f15317f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f15317ffee98a9ca11635de0b5f1141bf36dfa19))

- **manager**: Rule description was missing from /dashboard API
  ([`5a9eae6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a9eae695a1ec19c879b6c670c1419a0df3eedec))


## v1.95.1 (2021-03-10)

### Bug Fixes

- **manager**: Remove unused generic field of rules
  ([`521c5e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/521c5e6539e16c82b6e90df13dd3d9a6a6400921))


## v1.95.0 (2021-03-10)

### Chores

- Add graph for requests taking less than 2s
  ([`b058ff3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b058ff30c6e8836a3840a5d600897f1084735f0b))

- Fix +Inf values in API latency histogram
  ([`7257e99`](https://github.com/RedHatInsights/vulnerability-engine/commit/7257e997f8372eb8fa57f1c879b61d8bd1bd0084))

- Sum all sys_vuln partitions in table size graph
  ([`33691c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/33691c5e1e84ed9af7c42ba138870d7754eb388a))

### Features

- **vmaas_sync**: Use internal ca cert for requesting known exploits
  ([`27648f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/27648f315d18986b4f18c3308e7746b3979d2803))


## v1.94.4 (2021-03-08)

### Bug Fixes

- **manager**: Fixing typo, rule vulnerabilities should be counted
  ([`df31056`](https://github.com/RedHatInsights/vulnerability-engine/commit/df310566b406bb272926bbccd9330d4e44369733))

### Chores

- Swap upgrade files in order as they are promoted to stable
  ([`54b85d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/54b85d898df40cf075f4cc7ddcc621d616d8cc35))


## v1.94.3 (2021-03-08)

### Bug Fixes

- **manager**: Correctly get sum of CVEs
  ([`9e188e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e188e6b84c99413541edcfb59fafa1cde5bc189))


## v1.94.2 (2021-03-08)

### Bug Fixes

- **database**: Re-add cve_id index on system_vulnerabilities
  ([`72477e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/72477e55251f6e1e6a38e3479eaa7a6d08643390))

- **manager**: Optimize count query
  ([`b873589`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8735894352f0a1e6539e47e6193929bbf298a19))

insights_rule join filter consumed most performance also hint the rh_account_id in more table joins

- **manager**: Optimize dashboard API
  ([`866e483`](https://github.com/RedHatInsights/vulnerability-engine/commit/866e4837f85b0df831569d8266da8ea090419561))

- **manager**: Partially optimize report API
  ([`7839abf`](https://github.com/RedHatInsights/vulnerability-engine/commit/7839abff14e7bf6ce020f4b6d1c244f414ea3d1b))


## v1.94.1 (2021-03-05)

### Bug Fixes

- **taskomatic**: Generic.md is no longer valid file in content
  ([`47b4b0c`](https://github.com/RedHatInsights/vulnerability-engine/commit/47b4b0c4226a7dbc80f95f37fdcfa4ff042795c6))


## v1.94.0 (2021-03-04)

### Chores

- Fix new pylint issues
  ([`713c5f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/713c5f3c12f8e83688b1c1457cfbf3f773752b6a))

- Pylint 2.7.0 includes a fix for vulnerable regular expressions in 'pyreverse'.
  ([`6fa48bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fa48bde4d8e535f82de4d8ca62621364349e199))

- Update aiohttp, pyyaml and jinja2 to fix CVE-2021-21330, CVE-2020-14343 and CVE-2020-28493
  ([`d7cffcf`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7cffcf94ee9cb9f0fa391b67dfdcffd952ab84f))

### Features

- **taskomatic**: Prepare for insights-content-vulnerability git structure
  ([`78280de`](https://github.com/RedHatInsights/vulnerability-engine/commit/78280dec94068da4d68e7e0b8179c36b04a4c3d5))

VULN-1541


## v1.93.0 (2021-03-02)

### Bug Fixes

- **manager**: Indicate security rules for top CVEs in executive report
  ([`cedac44`](https://github.com/RedHatInsights/vulnerability-engine/commit/cedac44380e12a366262c7f75ffed1acd9e8fb0c))

VULN-1536

### Features

- **vmaas_sync**: Consume and store known exploits data
  ([`4cbe0ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/4cbe0ae74be5f10044d2c4435dbec014fa49118b))


## v1.92.1 (2021-02-24)

### Bug Fixes

- Return rule name instead of error key
  ([`b23f092`](https://github.com/RedHatInsights/vulnerability-engine/commit/b23f0924c4d8dcd02ef1b7016a7270f3af69d150))


## v1.92.0 (2021-02-24)

### Features

- **manager**: Add cyndi join on request in /dashboard
  ([`56bbf94`](https://github.com/RedHatInsights/vulnerability-engine/commit/56bbf941d3d653272616a0d1474c4e4fc8ce23f7))

- **manager**: Add cyndi join on request in /vulnerabilities
  ([`ea7468f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea7468f1e99a2f3ceb010142302c8f349626af96))


## v1.91.9 (2021-02-23)

### Bug Fixes

- **manager**: Systems before deadline should be deleted, not on the contrary
  ([`70ec4d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/70ec4d8e58c039874d6ac705348bd1a3bea75d66))

### Refactoring

- **advisor_listener**: Split payload tracker for advisor and others
  ([`8d07f7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d07f7c236f86126f83e8e2fa51c3c854134d64a))


## v1.91.8 (2021-02-19)

### Bug Fixes

- **manager**: Return additional rule data for recent rules
  ([`70fc620`](https://github.com/RedHatInsights/vulnerability-engine/commit/70fc6205d443b388f8846a129f243a4a7da7acf2))


## v1.91.7 (2021-02-18)

### Bug Fixes

- **manager**: Fix patch endpoints
  ([`e7f5fab`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7f5fab50a61ef51b7aedc290ecc9451a5aa2b31))


## v1.91.6 (2021-02-17)

### Bug Fixes

- **manager**: Fix a bunch of errata linking bugs
  ([`bbaa440`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbaa440d23a197564586ec9a5d242ad581101a61))


## v1.91.5 (2021-02-17)

### Bug Fixes

- **manager**: Fix incorrect counts of systems_affected on dashboard
  ([`3a98568`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a98568fddc8c2ab985bacc9f886fb225a6fbaeb))

fixes: VULN-1490


## v1.91.4 (2021-02-16)

### Bug Fixes

- **advisor_listener**: Skip invalid msgs instantly
  ([`7b0115d`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b0115d2b9cb3d5486ea4a9e7dc3bd8c2a683972))


## v1.91.3 (2021-02-15)

### Bug Fixes

- **db**: Unbound variable in schema init
  ([`3954cff`](https://github.com/RedHatInsights/vulnerability-engine/commit/3954cffb1cb9273ce62f23d4275a6abc10ed1782))


## v1.91.2 (2021-02-11)

### Bug Fixes

- **manager**: Edit system handler to consume new api with advisories from patch
  ([`ed56e09`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed56e0973775f50b81efd02f8f1fddf817972155))

### Chores

- Add secure coding checklist
  ([`f58b18b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f58b18b03eff94a0422b8fad44d22d5cd95e2d1b))

### Refactoring

- Switch cyndi mock init to database container
  ([`1445885`](https://github.com/RedHatInsights/vulnerability-engine/commit/1445885eea1918cfac0db9840883a92a20c5f26a))


## v1.91.1 (2021-02-04)

### Bug Fixes

- **taskomatic**: Delete also indirectly imported modules
  ([`93c4fbc`](https://github.com/RedHatInsights/vulnerability-engine/commit/93c4fbc9d5b4419379510bca7368522af5beaf56))


## v1.91.0 (2021-02-03)

### Features

- **manager**: Log audit information ínto access log
  ([`a490d7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a490d7cf55ef33a0232b66d08778367aac9b8446))

VULN-1437


## v1.90.0 (2021-02-03)

### Features

- **manager**: Show updated field in /affected_systems
  ([`bee3aa0`](https://github.com/RedHatInsights/vulnerability-engine/commit/bee3aa08bb49654f9411e77d3f0919203a5c8885))


## v1.89.2 (2021-02-03)

### Bug Fixes

- **manager**: Add cyndi join to /report
  ([`4f13b32`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f13b328c9ea39c6152deb3042a3cb5b4d6944ad))


## v1.89.1 (2021-02-02)

### Bug Fixes

- **manager**: Return empty dict when filtering by advisory
  ([`7dd1f51`](https://github.com/RedHatInsights/vulnerability-engine/commit/7dd1f5191055f0fa48d48c4ff172e00a2f910e72))

### Chores

- Bump kafka version, previous returns 404
  ([`65a3b03`](https://github.com/RedHatInsights/vulnerability-engine/commit/65a3b03c6161d96e0528d9e4558b4067a765360a))

- There is no fix for tornado vulnerability yet, disable this one check
  ([`9bb0b1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9bb0b1ce21a6c93036f8d75acaee151b876bd790))

39462: tornado <=6.1 resolved (6.0.3 installed)!

All versions of package tornado are vulnerable to Web Cache Poisoning by using a vector called
  parameter cloaking. When the attacker can separate query parameters using a semicolon (;), they
  can cause a difference in the interpretation of the request between the proxy (running with
  default configuration) and the server. This can result in malicious requests being cached as
  completely safe ones, as the proxy would usually not see the semicolon as a separator, and
  therefore would not include it in a cache key of an unkeyed parameter. See CVE-2020-28476.

### Refactoring

- **manager**: Remove deprecated filters
  ([`725878c`](https://github.com/RedHatInsights/vulnerability-engine/commit/725878cd9eaa3ca89b6ded6b33d68c8b7a7f2005))


## v1.89.0 (2021-02-01)

### Chores

- Disable pipenv check
  ([`e13db5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e13db5ad28fe32e56622fb8144166ab50874227f))

### Features

- **manager**: Display rules on the dashboard
  ([`f8c686b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f8c686b733e7d3f56fc077e30154f786e4452b09))

VULN-1490


## v1.88.4 (2021-02-01)

### Bug Fixes

- **taskomatic**: Force Python to forget currently imported module path
  ([`25190f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/25190f5ab3c544334bd74be27cf7b8c09e0124bc))


## v1.88.3 (2021-02-01)

### Bug Fixes

- **manager**: Add optional join for cve_count system id sorting
  ([`6cb26bc`](https://github.com/RedHatInsights/vulnerability-engine/commit/6cb26bc2b01b9bd43c04c3650b5aff1f657f934f))


## v1.88.2 (2021-01-28)

### Bug Fixes

- **manager**: Fix incorrect system counts in executive report
  ([`b9825b1`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9825b1539c5c215e5bd5f5ac8928ec83d438afa))

- **manager**: Join cyndi everytime in /cves endpoint
  ([`c61a3a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/c61a3a2bf8aa36cc9df77cc41a8c9981a53eda4d))


## v1.88.1 (2021-01-27)

### Bug Fixes

- **manager**: Change working with dates in /dashboard
  ([`b96a441`](https://github.com/RedHatInsights/vulnerability-engine/commit/b96a441cdc2cb5e38a3bbc2ddb432579796476bb))


## v1.88.0 (2021-01-27)

### Features

- **taskomatic**: Store rule publish dates
  ([`66d17fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/66d17fe14321ffbc26ff4e011c7027289b0f3623))

VULN-1493


## v1.87.9 (2021-01-27)

### Bug Fixes

- **taskomatic**: Update insights-core dependency (and few others)
  ([`b7117e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7117e74887382c92e389b8f9cecad0e08dbf9fd))


## v1.87.8 (2021-01-26)

### Bug Fixes

- Do not retry request if external service provided and unavailable
  ([`5fa7b9a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5fa7b9af6009fe6186f58cee5ae94bfbe4f9f121))

### Chores

- Remove account cache maintenance
  ([`2a11df7`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a11df7245465b4e86702404efaf4bf4f575e8f6))


## v1.87.7 (2021-01-25)

### Bug Fixes

- **manager**: Leave opted-out systems at bottom of sort for /systems
  ([`7923b1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/7923b1a4afe5409a25cb778318d15b383b00c806))

### Documentation

- **manager**: Fix incorrect behavior in excluded param
  ([`0a6172f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a6172f1b6cb8ebe3953d5142013feeb4d45eb6e))


## v1.87.6 (2021-01-22)

### Bug Fixes

- **manager**: Switch to consuming new errata linking api from patch in cve_handler
  ([`42c6378`](https://github.com/RedHatInsights/vulnerability-engine/commit/42c6378792622c4ea5a6214428dae1602378f870))


## v1.87.5 (2021-01-21)

### Bug Fixes

- **manager**: Don't account stale/opt_out systems in rule breakdown
  ([`f219c00`](https://github.com/RedHatInsights/vulnerability-engine/commit/f219c00371cce60d9e493d2b02ad3c778615da1b))

fixes: VULN-1454


## v1.87.4 (2021-01-21)

### Bug Fixes

- **manager**: Don't count stale/opt_out systems in top rules
  ([`498e87c`](https://github.com/RedHatInsights/vulnerability-engine/commit/498e87c5cefc390803b680a9d6f180b1bdabcb75))

fixes: VULN-1463


## v1.87.3 (2021-01-21)

### Bug Fixes

- **evaluator**: Typeerror: Object of type 'UUID' is not JSON serializable
  ([`d0723a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0723a93bdbb9e06607a6d6cfb24f979a6eac570))


## v1.87.2 (2021-01-21)

### Bug Fixes

- **advisor-listener**: Use partitioning during update
  ([`354b974`](https://github.com/RedHatInsights/vulnerability-engine/commit/354b974daf4f1e628362923517ac3462392cd92a))

### Chores

- Bump required version
  ([`32b3720`](https://github.com/RedHatInsights/vulnerability-engine/commit/32b37206f23bb8ad0d90ca49209c9801cb0bcbbb))


## v1.87.1 (2021-01-19)

### Bug Fixes

- **manager**: Rules severity is in range 1-4 not 0-3
  ([`49284c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/49284c04c253e5c64c49a29a334a16541547ae6b))


## v1.87.0 (2021-01-18)

### Features

- **manager**: Add API for Patch -> Vulnerability integration
  ([`94a0ce2`](https://github.com/RedHatInsights/vulnerability-engine/commit/94a0ce2251943936ab58c865d2b2b11c61aaf86f))

VULN-1465


## v1.86.5 (2021-01-18)

### Bug Fixes

- Add missing show_advisories parameter to manager.spec.yaml
  ([`8144de6`](https://github.com/RedHatInsights/vulnerability-engine/commit/8144de6c2ce6240c74ac6919e8bfedf4a907d3cb))


## v1.86.4 (2021-01-18)

### Bug Fixes

- **manager**: Optimize partitioned select
  ([`c778904`](https://github.com/RedHatInsights/vulnerability-engine/commit/c77890458303b7da08ace38b65be60aaab46913d))

- **manager**: Remove usage of SystemPlatform.cve_count_cache
  ([`cae0c13`](https://github.com/RedHatInsights/vulnerability-engine/commit/cae0c137a3e9c6b1dab446e15fc7f6f0fca38923))

### Chores

- New stage prometheus
  ([`9dc9ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/9dc9ba9a2b8a974cfb58866b12d71857867982e5))


## v1.86.3 (2021-01-15)

### Bug Fixes

- **manager**: Add missing filters for systems/{inventory_id}/cves and .../ids and fix advisory
  filter for affected_systems/ids
  ([`4860c32`](https://github.com/RedHatInsights/vulnerability-engine/commit/4860c320364ae6bd09e34f0df972f4244ad0f6ba))


## v1.86.2 (2021-01-14)

### Bug Fixes

- **manager**: Remove usage of cached systems_status_divergent count
  ([`cab1edd`](https://github.com/RedHatInsights/vulnerability-engine/commit/cab1edde47588473e8e0e3fdaaf031af0df2f209))


## v1.86.1 (2021-01-14)

### Bug Fixes

- **manager**: Don't use caches in report handler
  ([`9c349f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c349f669c74207c8825fa3037568e5cfffb08d6))


## v1.86.0 (2021-01-14)

### Features

- **manager**: Add dashboard API with tag/workload support
  ([`88cf420`](https://github.com/RedHatInsights/vulnerability-engine/commit/88cf420c6f65e632faaa12f6db2fa8d620e3d9ad))

VULN-1455


## v1.85.1 (2021-01-12)

### Bug Fixes

- **manager**: Return 400 if advisory param passed without show_advisories parameter
  ([`ba2f5e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba2f5e1a01a79a15c1278dbb9176042f5d043852))


## v1.85.0 (2021-01-12)

### Features

- **manager**: Support tag/sap filtering in vulnerabilities API
  ([`4233efe`](https://github.com/RedHatInsights/vulnerability-engine/commit/4233efe7ca6ac5a0a3995fa5a75a2645fbdfe70e))


## v1.84.0 (2021-01-11)

### Features

- **manager**: Display live counts in /vulnerabilities/cves API
  ([`e237cdb`](https://github.com/RedHatInsights/vulnerability-engine/commit/e237cdbc12e1a7a66315df8a4bfcad3f381ab14b))

also changes:

* improving performance by avoiding calling distinct (required by CveRuleMapping join) * fixed bug
  when SQL query is executed twice * improved performance by splitting into subqueries and joining
  the result * remove show all filter function as it can be done only using left join now * removed
  separate _ids query as it was 90 % same as full one, extracting ids from full query now

### Testing

- **manager**: Fix tests
  ([`a914ffa`](https://github.com/RedHatInsights/vulnerability-engine/commit/a914ffa03f06c8bba15f2b7346739b02ee147b6d))


## v1.83.0 (2021-01-07)

### Features

- **manager**: Display rules in the executive report
  ([`831519d`](https://github.com/RedHatInsights/vulnerability-engine/commit/831519d12d98b4ada9fd1e8df4623d7f03c4f606))

VULN-1427


## v1.82.3 (2021-01-05)

### Bug Fixes

- **manager**: Display rules with 0 systems affected
  ([`f6933cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6933ccbc1e300404fa4371e6e33e63e3b8e0aea))

fixes: VULN-1416

### Chores

- Update pytest dependencies
  ([`8c713bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/8c713bfc92c9f25b3ecf0490d576e636df5330aa))

fixes: VULN-1425

### Documentation

- Change advisory parameter description
  ([`6e633e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e633e61a7b90b46b012b862f3ef6c6169c9b623))


## v1.82.2 (2020-12-18)

### Bug Fixes

- **manager**: Implicitly cast uuid to string
  ([`26d58a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/26d58a3f94cf6043bb1eab41b9e32a10c84acdb2))


## v1.82.1 (2020-12-17)

### Bug Fixes

- **manager**: Do not include stale systems in counts
  ([`25a2f6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/25a2f6ae46e43050523ca4b2b3746ac5c651b648))

relates: VULN-1416

- **manager**: Left outer join needed for 0 count rules
  ([`16048ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/16048ed46ad4120dd63e099cb82fa06f1cc3a440))

relates: VULN-1416


## v1.82.0 (2020-12-17)

### Features

- **manager**: Display number of systems affected for rules
  ([`5d05d8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d05d8fae2226a39605ef643eb1735e9c1bc876b))


## v1.81.0 (2020-12-16)

### Features

- **database**: Change inventory_id from text to uuid
  ([`aaee5e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/aaee5e0d4a9fb310e2186ac0603ae9a95814fdc1))

- **manager**: Remove casting inventory_id to uuid
  ([`b07eaba`](https://github.com/RedHatInsights/vulnerability-engine/commit/b07eaba524756dd540c36d39947613f81a5b640b))


## v1.80.0 (2020-12-15)

### Features

- **manager**: Add filter in rules titles for systems/{id}/cves endpoint
  ([`443b766`](https://github.com/RedHatInsights/vulnerability-engine/commit/443b7663a3d0c75ff4335e0d25f9672c71d84fb2))


## v1.79.1 (2020-12-10)

### Bug Fixes

- **manager**: Add join with rule table for id_query
  ([`1dae954`](https://github.com/RedHatInsights/vulnerability-engine/commit/1dae954ea80d16d1d3c11a21165a948de05e61cf))


## v1.79.0 (2020-12-07)

### Features

- **manager**: Add filter by security rules title
  ([`6fed16d`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fed16df12f265ece91b99e2f9fefc2362c2fca2))


## v1.78.0 (2020-12-07)

### Features

- **taskomatic**: Try to import other rules when one fails
  ([`2b7cb63`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b7cb632b58f9c034e0e053fd5a37ab25e716c68))

resolves: VULN-1400


## v1.77.1 (2020-12-03)

### Bug Fixes

- **taskomatic**: Bump insights-core version for rules import to work
  ([`928013a`](https://github.com/RedHatInsights/vulnerability-engine/commit/928013a417e85a0582dc6b6a27f3c7981be69461))

resolves: VULN-1398


## v1.77.0 (2020-12-02)

### Bug Fixes

- Use rh_account_id in system_vulnerabilities
  ([`5c829c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c829c6aa582be1c4ff60207f42179ddcde8fa6e))

### Features

- **database**: Split table with active vulnerabilities
  ([`573669a`](https://github.com/RedHatInsights/vulnerability-engine/commit/573669aeda4f066c27c09aca0878e9634f11b1c2))

VULN-1380

### Testing

- Use rh_account_id in system_vulnerabilities
  ([`968b3e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/968b3e6fa2f2cffad2eda1c49a690b630b72aa21))


## v1.76.0 (2020-12-02)

### Bug Fixes

- **manager**: Add rule impact to schema
  ([`ab7f77d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab7f77d477205838377ac7cc9b302101954a162a))

### Features

- **database**: Add rule_impact column
  ([`911268a`](https://github.com/RedHatInsights/vulnerability-engine/commit/911268ae5dc55ef638d2e311c25d4951eeba4f1b))


## v1.75.0 (2020-11-30)

### Chores

- Reload workers when code changes
  ([`0b47ce1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0b47ce117b4e214f9cd0569bc941d6999eb83885))

### Features

- Add opt_out info in systems/ids response
  ([`1deaf70`](https://github.com/RedHatInsights/vulnerability-engine/commit/1deaf701da56de5232fa908ecfb18472f3add523))


## v1.74.4 (2020-11-27)

### Bug Fixes

- **manager**: Add enforcing of endpoint identification for metrics
  ([`3f10c7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f10c7c82ea38b4c507844b45c73ef9eb8ba38b5))


## v1.74.3 (2020-11-26)

### Bug Fixes

- **manager**: Fix total_items and advisory filter bugs
  ([`47e4a1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/47e4a1a36bd0ae0d1d5f7973fa41c836f6cfd5a3))


## v1.74.2 (2020-11-26)

### Bug Fixes

- **manager**: Correct behaviour for excluded systems filter
  ([`66e643e`](https://github.com/RedHatInsights/vulnerability-engine/commit/66e643e8f7b796d15bf57908196184bbef735746))


## v1.74.1 (2020-11-20)

### Bug Fixes

- **platform-mock**: Empty list of should be inserted instead of empty dict
  ([`da15f6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/da15f6ceb69458bbbdd76f4777a812ec65c2d572))

causing schema error on /cves/{CVE}/affected_systems response


## v1.74.0 (2020-11-19)

### Features

- **manager-admin**: Support calling taskomatic API
  ([`59434b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/59434b5077816b87c05bbbb129a014b7d9b3f8b5))

- **manager-admin**: Support calling vmaas_sync API
  ([`586eba8`](https://github.com/RedHatInsights/vulnerability-engine/commit/586eba835ee9a26ed2d3a47b84da8bc444c47dd8))

- **taskomatic**: Add API to trigger job run from outside
  ([`b193d54`](https://github.com/RedHatInsights/vulnerability-engine/commit/b193d5429953d5afee7c72e35a8a3d03b2ba2c61))


## v1.73.2 (2020-11-18)

### Bug Fixes

- **manager**: Set cloudwatch in gunicorn and log query params
  ([`a4d47d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4d47d467987c91dba496c0939a9745ff529b72e))


## v1.73.1 (2020-11-18)

### Bug Fixes

- Duplicate messages in kibana
  ([`9178e79`](https://github.com/RedHatInsights/vulnerability-engine/commit/9178e79069c46327762d3c519b7c38ed80233098))

### Testing

- Test directly cloudwatch init
  ([`c501046`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5010463f05cc3ebaf0aa7bf1a320fb476dfa9a8))


## v1.73.0 (2020-11-13)

### Chores

- Remove old inventory sync script
  ([`fe985fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe985fe32393e40a2884894df6daef546df19673))

### Features

- **manager-admin**: Delete systems not present in inventory (cyndi schema)
  ([`710c2b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/710c2b6c30dcda3eb5f7feaf9a595ead55d8275e))


## v1.72.4 (2020-11-12)

### Bug Fixes

- **manager**: Return empty list instead of 404 if advisory does not exist
  ([`b557081`](https://github.com/RedHatInsights/vulnerability-engine/commit/b557081d6cedfc7c0b5a5e1d491e1527cbe68db4))


## v1.72.3 (2020-11-11)

### Bug Fixes

- **manager-admin**: Split admin functionality to separate container
  ([`9cfbd32`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cfbd32d74f2a727e45a0114de0de298c6d9d62e))

because it's not possible to make Swagger UI work with /admin/api/vulnerability here and
  /api/vulnerability in turnpike proxy I was unsuccesful with setting connexion to serve
  openapi.json with fixed url


## v1.72.2 (2020-11-10)

### Bug Fixes

- **manager**: Fix overflow error in vulnerabilities/cves
  ([`a62aecd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a62aecdc97fe63a56229926dd180bfba6fddc4b0))


## v1.72.1 (2020-11-05)

### Bug Fixes

- **manager**: Store patch_access in object
  ([`38e2021`](https://github.com/RedHatInsights/vulnerability-engine/commit/38e20212b3ccec08b72986e0326296c53899918f))


## v1.72.0 (2020-11-04)

### Features

- **taskomatic**: Add signal handling
  ([`e961f8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e961f8a61106f30823c7e210d7475afdf380211d))


## v1.71.0 (2020-10-30)

### Features

- **manager**: Sanitize nul values from parameters
  ([`39e0eab`](https://github.com/RedHatInsights/vulnerability-engine/commit/39e0eab320e634ad6eda276e36a8e36af6ae1007))


## v1.70.0 (2020-10-30)

### Features

- **manager**: Move current admin calls to path accessible using Turnpike
  ([`b03e3a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b03e3a3a2be7831273afdf69683ff99f166bc8ec))


## v1.69.2 (2020-10-29)

### Bug Fixes

- **taskomatic**: Remove previously added path
  ([`9cc4826`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cc482673da17e9958a1dee0b291454817a376d0))

### Chores

- Cyndi in smoke tests
  ([`d72fecb`](https://github.com/RedHatInsights/vulnerability-engine/commit/d72fecb3b25a1664dfe33d3bccc50ee1074e91b5))

### Testing

- Use real uuid in tests to fix casting in cyndi join
  ([`8362490`](https://github.com/RedHatInsights/vulnerability-engine/commit/8362490cd0112d4b3fae28bd2e7ed3e73268027e))


## v1.69.1 (2020-10-26)

### Bug Fixes

- **manager**: Casting to TEXT on inventory.hosts may be very slow
  ([`2819436`](https://github.com/RedHatInsights/vulnerability-engine/commit/281943653462a9587d54218189c569b8dd3a14ff))

probably because whole inventory.hosts table needs to be casted sequentialy when selecting single
  system


## v1.69.0 (2020-10-26)

### Chores

- No need to interrupt previous tests workflow
  ([`07c5777`](https://github.com/RedHatInsights/vulnerability-engine/commit/07c5777346ea835e398588ef1109f9e397ca37e5))

### Features

- **manager**: Send request to patch in parallel way
  ([`7a25908`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a259080530c92062f59b1b2e70044908275c9d8))


## v1.68.2 (2020-10-26)

### Bug Fixes

- Hostname env var shouldn't be configurable
  ([`f58677b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f58677bceeed4810899c9f856bac49d2a5e48619))

- Use pod name for log-stream in CW config
  ([`c571162`](https://github.com/RedHatInsights/vulnerability-engine/commit/c571162cab93bb9ecc668211d3d53aed0b56b35d))


## v1.68.1 (2020-10-23)

### Bug Fixes

- Fix semantic-release issues
  ([`b3010df`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3010df1bb8249f9b8826411d91cf07dd43b903e))

marking as fix to trigger release


## v1.68.0 (2020-10-23)

### Bug Fixes

- **manager**: Adapt affecting filter for usage with UI checkboxes
  ([`41a3d09`](https://github.com/RedHatInsights/vulnerability-engine/commit/41a3d09aad56a308641ebb1e56b26f0a9d09516a))

- **manager**: Iterating through view twice executes query twice
  ([`fe137b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe137b67f937a8aa4989754f43b4a17e5bedf2f2))

### Chores

- Fix semantic-release publishing
  ([`7870109`](https://github.com/RedHatInsights/vulnerability-engine/commit/787010909a043183be5a8cea497867966600866e))

- Fix the datasource for 2 panels
  ([`8affeef`](https://github.com/RedHatInsights/vulnerability-engine/commit/8affeefb0200b0364b3fe353af832110482873ef))

- Initial Github Actions file
  ([`9b444f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b444f93e64225099bead0e2c88f7a2d41c7f06e))

- Replace Travis CI with Github Actions
  ([`a95c9b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/a95c9b783e9726944c87ac94beac0fc9967ed1a8))

### Features

- **manager**: Add filter for sap_sids
  ([`717e87b`](https://github.com/RedHatInsights/vulnerability-engine/commit/717e87b20100c29369d5a98c04ab59521857f4a0))


## v1.67.2 (2020-10-22)

### Bug Fixes

- **manager**: Make tag namespace nullable
  ([`9dc8ed3`](https://github.com/RedHatInsights/vulnerability-engine/commit/9dc8ed36d8f0f20e404e676d583212c045f07451))

### Chores

- Add DB metrics to dashboard
  ([`8fce198`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fce1989eb8b56f5b8730b6b260f22dd0e7ac10a))

### Features

- **taskomatic**: Provide advanced DB metrics
  ([`801bad9`](https://github.com/RedHatInsights/vulnerability-engine/commit/801bad9b008181a3b6855fa60f5e79fe485a5b80))


## v1.67.1 (2020-10-22)

### Bug Fixes

- **database**: Potential deadlock sources
  ([`44ae8c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/44ae8c9af01c51e634d8c98a7bb5c032eb151884))


## v1.67.0 (2020-10-22)

### Features

- **manager**: Use cyndi as single source of truth
  ([`cea4cc1`](https://github.com/RedHatInsights/vulnerability-engine/commit/cea4cc1647879aaa4a1f13c71053f852765eda54))


## v1.66.0 (2020-10-22)

### Features

- **manager**: Add advisory filtering
  ([`58164b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/58164b08d2b5496ddbb5e6cb5ef7111900077f4b))


## v1.65.1 (2020-10-21)

### Bug Fixes

- **listener**: Don't require insights_client_version as insights-engine or cyndi doesn't require it
  either
  ([`bac2781`](https://github.com/RedHatInsights/vulnerability-engine/commit/bac27811856964d90a9b8eda404b393173f76439))

### Chores

- Grafana in stage/prod was updated
  ([`9791d71`](https://github.com/RedHatInsights/vulnerability-engine/commit/9791d71bbf4c9fab6ac332a61854641a2efc3c4e))

- Update RDS metrics
  ([`f3c546f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3c546fc67195f6f2f34d9779507877283e830a3))


## v1.65.0 (2020-10-14)

### Bug Fixes

- **manager**: Mark old filtering options as deprecated
  ([`eae73e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/eae73e307fdfc18ec6fafb11ebd1fb96df733bcf))

### Features

- **manager**: Add affecting filter for vulnerabilities/cves
  ([`905a050`](https://github.com/RedHatInsights/vulnerability-engine/commit/905a050d58be85cc5a5dbe53a82a76b0feb0cd01))

- **manager**: Add excluded filter for systems
  ([`c6c9873`](https://github.com/RedHatInsights/vulnerability-engine/commit/c6c9873ca7b7341f66b2a5479295883fc5055848))


## v1.64.2 (2020-10-14)

### Bug Fixes

- Do not retry external requests returning HTTP 4xx
  ([`31ec7d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/31ec7d104b5cf9a19679ef3041ed1494efe79dce))

use the wait only when waiting for vmaas refresh

- **listener**: Make non-insights msgs skip stricter
  ([`b6b6b37`](https://github.com/RedHatInsights/vulnerability-engine/commit/b6b6b377de07c0d8f77c60ea7b432e8aaae6011c))


## v1.64.1 (2020-10-13)

### Bug Fixes

- **manager**: Fix typo
  ([`3acc472`](https://github.com/RedHatInsights/vulnerability-engine/commit/3acc472e004014e4df306172378f6e2897b0e7fa))


## v1.64.0 (2020-10-13)

### Chores

- Don't run ui smoke tests
  ([`eb026fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb026fa6775de507b75a288337ed92c451064049))

### Documentation

- Add descriptions for advisories
  ([`ee1c56a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee1c56a73de1499c2f0c4e9a8d1d446deb5a2431))

### Features

- **manager**: Add advisories_show parameter and advisories data from patch to /affected_systems and
  /systems/{inventory_id}/cves
  ([`82f7042`](https://github.com/RedHatInsights/vulnerability-engine/commit/82f70425b9f55c198d7cb0e2a76b9457501e9d85))

- **manager**: Add advisory_details query parameter
  ([`fb92dde`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb92ddeb9640706e3c5aa4e68dc725ea4f9a76a5))

- **platform_mock**: Add patchman empty mock
  ([`1eef453`](https://github.com/RedHatInsights/vulnerability-engine/commit/1eef4533b46d272655debb43b5cd1ec5bcbe66e7))


## v1.63.1 (2020-10-08)

### Bug Fixes

- Msg type logging in nested dicts
  ([`0c46dff`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c46dff7c0ca1099eed0a1ed06d57b0bd433626f))

### Chores

- Refresh platform_mock libs
  ([`f393aaf`](https://github.com/RedHatInsights/vulnerability-engine/commit/f393aaf283de6a77d8ef1ea9499d17b68a808733))


## v1.63.0 (2020-10-07)

### Chores

- Disable logging of prometheus and grafana
  ([`722264f`](https://github.com/RedHatInsights/vulnerability-engine/commit/722264fc588675e2a54eeb8b38258c58fb434fbd))

- Remove vmaas panels
  ([`c8dfac1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8dfac139f4a9aa7e4afdd7ce30acaa4f611d5a7))

- Use same grafana version as in prod
  ([`485c1e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/485c1e737bcffe032c668585f65ed4bdd40c00b0))

### Features

- **advisor_listener**: Skip non-insights messages
  ([`7ac47a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ac47a51ea5bcff7b8102e61239bc6f9eaa83a58))

- **listener**: Skip non-insights messages
  ([`296f702`](https://github.com/RedHatInsights/vulnerability-engine/commit/296f7022e631b535797593ba5608e80e1a2e4e0d))


## v1.62.4 (2020-10-02)

### Bug Fixes

- **evaluator**: Run prometheus before going to waiting loop so healthchecks won't go crazy
  ([`1f2f061`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f2f061b63f814fd5cddf95221037c8d11b5850b))


## v1.62.3 (2020-10-01)

### Bug Fixes

- Add missing deps and update urllib3 only (CVE-2020-26137)
  ([`3e5584a`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e5584a6ce6a7434861b00f274b33b0e732e2318))

### Chores

- Migrate dashboard from saas-templates
  ([`0402ca2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0402ca21bfda0e1e8d65f49cc6618bf29fcf02bd))

- Update grafana container to consume dasboard in configmap
  ([`efc380d`](https://github.com/RedHatInsights/vulnerability-engine/commit/efc380d35a3db4b429dfc9db5a0e155ab3bd52ac))

### Testing

- Validate grafana dashboards
  ([`61a41d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/61a41d9b18db14253ce5075c824a042a674303d8))


## v1.62.2 (2020-09-22)

### Bug Fixes

- **manager**: Add option to filter by display name in /affected_systems
  ([`90ec6db`](https://github.com/RedHatInsights/vulnerability-engine/commit/90ec6db38101ca52dbeb962e3f1068043bbef4d7))


## v1.62.1 (2020-09-21)

### Bug Fixes

- **database**: Change database init
  ([`edb6421`](https://github.com/RedHatInsights/vulnerability-engine/commit/edb64216ea88d822e72a80f1bc3c5ec511343745))

### Chores

- Run tests with api marker
  ([`f6da242`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6da242f7ffcfc8363922166be5fa60992cabeac))


## v1.62.0 (2020-09-18)

### Features

- **manager**: Add 'updated' sort parameter
  ([`fa6b57e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa6b57e6085ea104fd3687ab9ad35f3ceb6e646b))


## v1.61.0 (2020-09-17)

### Chores

- Add example of deepObject filtering in connexion
  ([`9c370c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c370c0bb6727de76693ae46508b7eac9c95e008))

### Documentation

- **manager**: Add missing status code in /apistatus
  ([`db34863`](https://github.com/RedHatInsights/vulnerability-engine/commit/db34863df193071e026c5b8da07a624d75839d6c))

### Features

- **manager**: Add system filtering by SAP
  ([`7356be8`](https://github.com/RedHatInsights/vulnerability-engine/commit/7356be8205d352a98d0849b3b3886a7687dde284))


## v1.60.0 (2020-09-11)

### Features

- **manager**: Add filtering by tags in /systems and /affected_systems
  ([`09952c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/09952c150a1b36fe12f4e6e2e9d4cf4250a7867d))


## v1.59.1 (2020-09-11)

### Bug Fixes

- Payload tracker sending lot of messages but logs don't have to be spammed by it
  ([`a32f5a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/a32f5a2064aac102527949f68953d8c6edb618a9))

- **advisor_listener**: Make log messages more informative and remove print
  ([`bd1e0ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd1e0ffdb0a5e3dd8775a330c914420c1f894dde))


## v1.59.0 (2020-09-09)

### Features

- **database**: Add cyndi view model and support for binary json
  ([`a3ab718`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3ab7188bb688bf65e7f4b7c35f819ba134b691d))

- **database**: Add local dev cyndi instance
  ([`71b2a6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/71b2a6d154b44ce9c0b4893cec4c84b308cf1f7e))

- **manager**: Return tags in /affected_systems
  ([`c43cd89`](https://github.com/RedHatInsights/vulnerability-engine/commit/c43cd8972af86afa08fc114fcf53ed87f64da4b2))

- **manager**: Return tags in /systems endpoints
  ([`1b3c07a`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b3c07a1563159334b3b045b881c66d57fb8eeee))


## v1.58.0 (2020-09-09)

### Features

- Add mechanism to wait until DB migration is finished
  ([`93d85d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/93d85d79c10c160e78036fd7ce84968f0f138709))

manager intentionally doesn't not waiting, problem with gunicorn worker timeout and it doesn't have
  sense in this service because the waiting is done because writing services and manager can work in
  read only mode

### Refactoring

- Drop wait-for-services wrapper, it's only for startup and doesn't help anything
  ([`9e92a40`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e92a40cc16c323e8c9b0efd3c8242d274d534be))

fix: minor counting bugs when calling vmaas


## v1.57.0 (2020-09-09)

### Features

- **manager**: Expose playbook templates in the API
  ([`628498b`](https://github.com/RedHatInsights/vulnerability-engine/commit/628498b737ef338ff200f44b3f167aba016cbc28))


## v1.56.0 (2020-09-09)

### Features

- **taskomatic**: Store CVAw CVEs playbook templates
  ([`aed59dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/aed59dc86507b7193d72158424bd9fa7128609df))


## v1.55.0 (2020-09-08)

### Features

- **database**: Add advisories_list column to cve_metadata table
  ([`7d2ab53`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d2ab5368dc4bda71711abd434d51b3b64a66ed7))

feat(vmaas_sync): add advisories list sync to cve_metadata

feat(manager): add advisories list to /cves response


## v1.54.0 (2020-09-04)

### Features

- **manager**: Split rule errkey and rule presence filtering
  ([`c017462`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0174620cf08b4f1c3c9074622ede49a63d97b08))


## v1.53.0 (2020-09-02)

### Chores

- Swap database upgrades
  ([`ce103d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce103d08ebb6b8ca2decda89400497903bf44af1))

### Features

- **advisor**: Add payload tracking of request
  ([`7e049e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e049e1d8de1a7068bb8820b5f1f0afefb654bbf))


## v1.52.0 (2020-09-01)

### Features

- **database**: Add local dbupgrade script
  ([`ac8ec50`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac8ec50f5f553905c454dca92efff1db40e913d7))


## v1.51.0 (2020-08-31)

### Bug Fixes

- **taskomatic**: Drop old rules_details job
  ([`1994e8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/1994e8d34eea31fe71203ab1100b977dbdf77850))

### Features

- **taskomatic**: Automatic rules sync from git
  ([`cde21aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/cde21aa802fb34c459c98c6f8e0edf476e25abee))


## v1.50.0 (2020-08-26)

### Features

- **manager**: Add overall app status endpoint
  ([`89dbdab`](https://github.com/RedHatInsights/vulnerability-engine/commit/89dbdabe31a65a58113b4755ace330ebd119ec76))


## v1.49.4 (2020-08-20)

### Bug Fixes

- **manager**: Status is in filterable columns, it must be joined
  ([`fdf11ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/fdf11ab6f2791eea5a0ad2836062ff9e1f07bf86))


## v1.49.3 (2020-08-19)

### Bug Fixes

- **evaluator**: Stop sending to payload tracker re-calc requests, it will fail
  ([`6dc1b38`](https://github.com/RedHatInsights/vulnerability-engine/commit/6dc1b38426e671d30d4f5a5d9b9b66df9dcbab56))


## v1.49.2 (2020-08-18)

### Bug Fixes

- **manager**: Fix id translation in vuln/cves
  ([`3129b29`](https://github.com/RedHatInsights/vulnerability-engine/commit/3129b29a53aa4d1f295830403282b05d421bdafb))


## v1.49.1 (2020-08-18)

### Bug Fixes

- **manager**: Fix base routing in swagger
  ([`6906054`](https://github.com/RedHatInsights/vulnerability-engine/commit/69060541fcb7e2b542c7d0dbbfac29044afcefe0))


## v1.49.0 (2020-08-18)

### Features

- **manager**: Add system_count for vuln/cves endpoint
  ([`d39c11b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d39c11b44c16f5c7d0e3edf325573a1b495216c2))


## v1.48.2 (2020-08-17)

### Bug Fixes

- **manager**: Fix and refactor swagger setup
  ([`9f9904f`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f9904f369a96c12c6ab15864729d18f21f04974))


## v1.48.1 (2020-07-31)

### Bug Fixes

- **advisor_listener**: Investigate only failed rules
  ([`cd0c747`](https://github.com/RedHatInsights/vulnerability-engine/commit/cd0c74747b2a94942eeefbccbed7db3b04308d76))


## v1.48.0 (2020-07-29)

### Features

- **advisor_listener**: Store CVE mitigation information from rules
  ([`0743244`](https://github.com/RedHatInsights/vulnerability-engine/commit/0743244e4bd8f9a20487b5bf17eed488186bd061))

- **evaluator**: Take rule mitigation into account
  ([`94971cf`](https://github.com/RedHatInsights/vulnerability-engine/commit/94971cf3eb6dc34b1e0491ef018a92d87769c95d))

- **manager**: Do not report rule mitigated CVEs
  ([`7e9f162`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e9f1627e9506f3bff488f77070ce50308e6b6ea))

- **schema**: Update DB procedures to use rule mitigation info
  ([`fd5deca`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd5deca8632bc8c6ae81ab787f77557f2247d4d8))

- **taskomatic**: Teach taskomatic about rule CVE mitigation
  ([`62a6d34`](https://github.com/RedHatInsights/vulnerability-engine/commit/62a6d340da5583e58552a9f39b62e0ef8ce48ebe))

### Testing

- **advisor_listener**: Add tests for rule mitigation information
  ([`8613da8`](https://github.com/RedHatInsights/vulnerability-engine/commit/8613da8958f140d395d834e2f6812714d98abbf7))

- **manager**: Update manager tests for new data
  ([`51dd1ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/51dd1ffb5c0f8235a61808bea4798762b63dc153))

- **metrics**: Update metrics tests for new data
  ([`b5ac3dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5ac3dcfe64d34fe1efdc2027317d2e885015bd3))

- **vmaas_sync**: Update vmaas_sync tests for new data
  ([`b26131d`](https://github.com/RedHatInsights/vulnerability-engine/commit/b26131dae1fa8b774775aeb8c323eff9e21bd37e))


## v1.47.2 (2020-07-29)

### Bug Fixes

- **database**: Set cyndi script password
  ([`2cf8a48`](https://github.com/RedHatInsights/vulnerability-engine/commit/2cf8a4817559f458c73619eb052483f7487043ea))


## v1.47.1 (2020-07-28)

### Bug Fixes

- Strip newline from DB password
  ([`04b6496`](https://github.com/RedHatInsights/vulnerability-engine/commit/04b6496d1b7bcbbb5de0f880efbce4651fe19aa2))


## v1.47.0 (2020-07-28)

### Chores

- Start and sync vmaas for tests
  ([`88a10aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/88a10aa4438d20296f888e8dcbae0c8d96b66881))

### Features

- **database**: Introduce project cyndi
  ([`9741f85`](https://github.com/RedHatInsights/vulnerability-engine/commit/9741f8586efdf18ba8e81cb79953da2d6098a7f0))


## v1.46.0 (2020-07-21)

### Features

- **database**: Add mitigation_reason column
  ([`e310c30`](https://github.com/RedHatInsights/vulnerability-engine/commit/e310c30665cfa2b9ae8a03e1fa0cfece344be6c1))

### Refactoring

- Use system_vulnerabilities_active partition on other places where it makes sense
  ([`b12de35`](https://github.com/RedHatInsights/vulnerability-engine/commit/b12de358d05069ca8a9e78dafc837026fdbe9947))

- **database**: Split system_vulnerabilities to active and inactive partitions
  ([`33a39f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/33a39f17db4de1b02e4fddc37542868cebadd351))

- **manager**: Use only system_vulnerabilities_active partition in manager
  ([`3ae677f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ae677fd019eaf63060ffa585fa193f0e1f58bc5))


## v1.45.3 (2020-07-20)

### Bug Fixes

- **manager**: Return 503 when DB is down
  ([`34c3bce`](https://github.com/RedHatInsights/vulnerability-engine/commit/34c3bce5cba84dca31448e46682c854ed1d15066))


## v1.45.2 (2020-07-16)

### Bug Fixes

- Increase fail counter also for VMaaS ClientErrors
  ([`6ee1ad7`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ee1ad7d0546106f90d59f13d01cb12729f29074))

- **evaluator**: Remove print statement
  ([`ac35ec0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac35ec0ca8c885b5597b7eeef9a1fc673b44f81b))

- **evaluator**: Skip evaluation in case of VMaaS errors
  ([`aeada90`](https://github.com/RedHatInsights/vulnerability-engine/commit/aeada90e2e2271d716d3b472c5deb99d524d09ee))


## v1.45.1 (2020-07-16)

### Bug Fixes

- Use correct message format for remediations updates
  ([`ae89f8b`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae89f8b7b46652935225af3815467c8e67e50d12))


## v1.45.0 (2020-07-16)

### Features

- **manager**: Add filtering multiple security rules
  ([`0e840c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e840c635292f0147fee1e6f96ed841b57808d72))


## v1.44.5 (2020-07-15)

### Bug Fixes

- **advisor_listener**: Propagate event loop
  ([`551ac93`](https://github.com/RedHatInsights/vulnerability-engine/commit/551ac9334c976d0188f48e5f89bb3585fdb8c5f7))


## v1.44.4 (2020-07-15)

### Bug Fixes

- Remove print
  ([`1522014`](https://github.com/RedHatInsights/vulnerability-engine/commit/1522014e15e15d495a33fd2eeb4bb98315e32f2a))


## v1.44.3 (2020-07-15)

### Bug Fixes

- **taskomatic**: Correct path in image
  ([`d3814eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3814eb6a96f6afcc068ebb1fc6a40cbffda1af4))

### Testing

- Entrypoint changed, output is shifted
  ([`676a136`](https://github.com/RedHatInsights/vulnerability-engine/commit/676a13626fd9f1aa197b228e059d151d7f8407bf))


## v1.44.2 (2020-07-10)

### Bug Fixes

- **listener**: Support missing platform_metadata dict
  ([`30b6df0`](https://github.com/RedHatInsights/vulnerability-engine/commit/30b6df04c6b189f67f3cae74dd3f5b313acd5a68))

### Chores

- Add traffic generator into platform_mock
  ([`360bb1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/360bb1a5566666b1f2424aefa62f98ca00390167))


## v1.44.1 (2020-07-09)

### Bug Fixes

- **listener**: Upload topic deprecation
  ([`e7ff130`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7ff130737e02586c6206a4d5afd146c5ebfd778))


## v1.44.0 (2020-07-09)

### Features

- Common code for delivering updates to remediations
  ([`6607606`](https://github.com/RedHatInsights/vulnerability-engine/commit/66076067522f18faf3927f3a207ed9e920e6dbe8))

- **advisor_listener**: Send CVE to remediations
  ([`2670af3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2670af3cc6ecf2558742c0d98648f86166802a92))

- **evaluator**: Send CVE updates to remediations
  ([`2a3ba0b`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a3ba0bbf60625ccf6e04aa5733aa8b73d06ad05))


## v1.43.0 (2020-07-09)

### Bug Fixes

- **manager**: Make round_to_100_percent work with all zero values
  ([`4ecdf5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ecdf5ae1d2ade913b8e46e53a33f48530ae4a87))

previously it was failing with ZeroDivisionError

### Chores

- Script for running integration tests locally
  ([`5d13e70`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d13e70e75eaec2360edc6419fe05641d42d14d4))

### Features

- **manager**: Return also CVEs with N/A CVSS in executive report
  ([`6ee6a79`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ee6a79570f729824db5877dc4f65650443f67f2))


## v1.42.3 (2020-07-03)

### Bug Fixes

- **advisor_listener**: Fix select for case where no rules are present
  ([`053227f`](https://github.com/RedHatInsights/vulnerability-engine/commit/053227f4e63202cb67f64b7d36e62d5b6ba28fb2))

### Refactoring

- Use single dockerfile for all app services
  ([`5825ab8`](https://github.com/RedHatInsights/vulnerability-engine/commit/5825ab8e6a815d7a85a00e68141dd73e1929c387))

- **advisor_listener**: Do only one select from sys_vulnerabilities
  ([`11fa89e`](https://github.com/RedHatInsights/vulnerability-engine/commit/11fa89ed4bdcaff871a979a9f82bed5e89d57697))

### Testing

- **advisor_listener**: Add additional tests for advisor_listener
  ([`317b46a`](https://github.com/RedHatInsights/vulnerability-engine/commit/317b46a475abaf98f679ccdcfad1454fa8020d3f))

- **advisor_listener**: Add tests for advisor listener
  ([`7fd71ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/7fd71ff953e12ea53ec390aeb1b12bdf9a3f3c07))

- **database-tests**: Make sure database tests run last
  ([`8193b7e`](https://github.com/RedHatInsights/vulnerability-engine/commit/8193b7ee0445564bf89911aa0854bc52f65ae956))

having tests connecting to database before and after upgrade tests caused the database to explode
  and other tests to fail


## v1.42.2 (2020-06-26)

### Bug Fixes

- **evaluator**: Use correct condition for increasing CVE counts
  ([`e14879f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e14879f39df23a4785c0d0b5776e417927b4a5ce))

54c934fea3088c8ac09ba73802e578e7256e9fa8 changed behavior
  unmitigated_cves_ids.add(system_cves_map[cve]['cve_id']) - if system_cves_map[cve]['rule_id'] is
  None: # unmitigated only if there wasn't rule hit before + if system_cves_map[cve]['active_rule']:
  # unmitigated only if there wasn't rule hit before
  inc_cves_ids.add(system_cves_map[cve]['cve_id'])

system_cves_map[cve]['rule_id'] is None meant that rule wasn't present for the system CVE

system_cves_map[cve]['active_rule'] means that rule is existing for the system CVE, which inverted
  the condition


## v1.42.1 (2020-06-25)

### Performance Improvements

- Increase evaluator performance using all asyncio
  ([`ee36bc9`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee36bc949c43fcf0f80380685d043484a9f7a4c8))


## v1.42.0 (2020-06-24)

### Chores

- Remove iqe-rbac-plugin
  ([`03af80d`](https://github.com/RedHatInsights/vulnerability-engine/commit/03af80dc2172e8cf7f2f3265e7067ffcad19bd85))

it shouldn't be needed anymore and it started to execute rbac tests

### Features

- **manager**: Add CVE reporter infomation to the system-cve pairs
  ([`324cf5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/324cf5d9fe1a2c48ed0fc04710ee52e1f0df1906))

### Refactoring

- **manager**: Join with Status table is not necessary in ids query
  ([`33cee1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/33cee1c103b685bbd8e8d4e9af259224e42ecbe6))

- **manager**: Move full query into its own method
  ([`d67b95f`](https://github.com/RedHatInsights/vulnerability-engine/commit/d67b95fcc6bfbf5ab759ac84d1b0605b0ed2f2c2))

- **manager**: Rework filters so they share code
  ([`744a648`](https://github.com/RedHatInsights/vulnerability-engine/commit/744a6486d346c5978e15ebfe9d7f2d94e84918be))


## v1.41.5 (2020-06-19)

### Bug Fixes

- **manager**: Fix cvss_to filtering parameter
  ([`c32bcf1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c32bcf130e9a727134fb9598cce416a75cb34a00))

previously when cvss_to parameter was used, we returned zero results


## v1.41.4 (2020-06-19)

### Bug Fixes

- **taskomatic**: Select real and cached count in one select and support running the script in fix
  mode
  ([`bbc327b`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbc327b452c5644b6e02f88062a1137e58b30c9b))


## v1.41.3 (2020-06-18)

### Bug Fixes

- **manager**: Update only active vulnerabilities
  ([`a497214`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4972143d5c92d3264982d2585cee8038324e46a))


## v1.41.2 (2020-06-18)

### Bug Fixes

- **vmmas-sync**: Delete unused CVEs faster
  ([`80de23f`](https://github.com/RedHatInsights/vulnerability-engine/commit/80de23f13af6dbffa8c65c650294d7ccbd53b29a))


## v1.41.1 (2020-06-16)

### Bug Fixes

- **manager**: If rule is specified by name, it has to be active
  ([`09f4627`](https://github.com/RedHatInsights/vulnerability-engine/commit/09f4627bde137ed1541ff0e6f78bffa4763507eb))


## v1.41.0 (2020-06-11)

### Features

- **vmaas-sync**: Sync only those CVEs which have an errata
  ([`d3028e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3028e52f3fe0c03182a511bbcce369bfe7a3b95))


## v1.40.0 (2020-06-11)

### Features

- **manager**: Add uuid filter for affected_systems endpoint
  ([`4535dc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/4535dc07c4cf37953c8a2a1061a872fdea7574a4))

### Refactoring

- Remove version lock workaround
  ([`1cd7ad5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cd7ad545bfd62a7ef126717cc939fe9ece5c1cd))


## v1.39.0 (2020-06-09)

### Features

- **manager**: Add /ids API for /systems
  ([`aa920ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa920ac62e83271a0f8ff18c362de5751662e6d0))

- **manager**: Add /ids API for /systems/{inventory_id}/cves
  ([`5c3e04e`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c3e04e33fc853abd39dd9fcb4f00f5ab9c2926c))

- **manager**: Add /ids API for /vulnerabilities/cves
  ([`539aff3`](https://github.com/RedHatInsights/vulnerability-engine/commit/539aff385a981e4573c405086b2cdb7005ad7093))

### Refactoring

- **database**: Initialize schema if database container is not present (RDS)
  ([`2386ed8`](https://github.com/RedHatInsights/vulnerability-engine/commit/2386ed851b8725c9eeaa0f8be314f6147dc526bc))

### Testing

- Delete obsolete response schemas
  ([`de6ccd7`](https://github.com/RedHatInsights/vulnerability-engine/commit/de6ccd700770094c52a38d238f125166043dd6a6))


## v1.38.0 (2020-06-02)

### Features

- **manager**: Create API for retrieving only IDs of systems affected by CVE
  ([`2bf5719`](https://github.com/RedHatInsights/vulnerability-engine/commit/2bf5719cc2037b95b3cf971781cb4a6de81eff7f))


## v1.37.1 (2020-06-02)

### Bug Fixes

- **manager**: Provide better message to user about why return 403
  ([`4e38caa`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e38caac56534221d126e8f7868ed935d54539ed))


## v1.37.0 (2020-06-02)

### Features

- **manager**: Add filtering for null cvss ratings
  ([`e941a7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e941a7c835ca45f35631defd0075e32faed5d481))


## v1.36.0 (2020-06-02)

### Features

- **manager**: Add metric for referer checking
  ([`313fad0`](https://github.com/RedHatInsights/vulnerability-engine/commit/313fad0bd9debe148ffa68f343c134c67f1d56d7))


## v1.35.2 (2020-05-26)

### Bug Fixes

- **listener**: It's actually 'updated'
  ([`7866f11`](https://github.com/RedHatInsights/vulnerability-engine/commit/7866f11d7913f876cd9b5eda2a93a4e6395b503b))


## v1.35.1 (2020-05-26)

### Bug Fixes

- **listener**: Fix crash on logging
  ([`6b06fac`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b06fac689c1b3cfda484b9932f3ec7edec84ffb))


## v1.35.0 (2020-05-26)

### Features

- **listener**: Update display_name when received event message
  ([`dcdd5d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/dcdd5d45ebeda6bebb99acec384954ee16154b4d))

### Testing

- **listener**: Test update system functions
  ([`929a128`](https://github.com/RedHatInsights/vulnerability-engine/commit/929a128640185dfe080740f0e3754af70133f2a7))


## v1.34.2 (2020-05-25)

### Bug Fixes

- **database**: Trigger only once in case both columns are updated
  ([`1dc3b40`](https://github.com/RedHatInsights/vulnerability-engine/commit/1dc3b40b8254a6fe1e6e450ecc261a5744f17484))

- **taskomatic**: Detect not cached CVEs and optimize
  ([`3248c6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3248c6ce316bf0cf147a23e6b690408f9a85f683))


## v1.34.1 (2020-05-22)

### Bug Fixes

- Import rules 1by1 due to memory constraints
  ([`04aa90f`](https://github.com/RedHatInsights/vulnerability-engine/commit/04aa90fecfcba4b497cf407220834a8960cffd6a))

- **database**: Taskomatic needs to be able to delete systems
  ([`2438ba4`](https://github.com/RedHatInsights/vulnerability-engine/commit/2438ba4ebe37c007b87c61d8e78058175619cd86))


## v1.34.0 (2020-05-21)

### Chores

- Install insights-core into debugger container
  ([`b0fe0c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/b0fe0c78ceb0b78811f2622c4ca823c0109e7599))

### Features

- Send Slack notifications for unhandled exceptions in manager
  ([`c1124fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1124fe43dc7296aa5aa5af837976759bc9b4fef))

### Testing

- Add manager tests for security rules
  ([`e82092c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e82092cf953efa31d8261d33693e7e7357c1752e))

- Fix pylint issues
  ([`1086e89`](https://github.com/RedHatInsights/vulnerability-engine/commit/1086e8926812ba6f5de5d85b080b755d1a6a98ab))

- Update pylint to 2.5.2
  ([`1cd2074`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cd20741a066ec4d16970a737d097eb5f17c13b1))


## v1.33.2 (2020-05-19)

### Bug Fixes

- **advisor-listener**: Store system culling timestamps
  ([`8d59ae9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d59ae9583ebba43a1ff037a3eb7c1b5d33d09a2))

- **listener**: Account should not change, cache handling is not implemented if it does
  ([`d409d54`](https://github.com/RedHatInsights/vulnerability-engine/commit/d409d545e07c2ac68e6ba74309c0a4f303517fb1))

- **manager**: Don't consider stale flag when querying specific inventory_id
  ([`707441a`](https://github.com/RedHatInsights/vulnerability-engine/commit/707441af7b07c1ffc3f88c7b3bf073e114c091f1))

### Chores

- Add a script for importing rules directly from source
  ([`16dfe57`](https://github.com/RedHatInsights/vulnerability-engine/commit/16dfe5784ffd1b74e3f2c43562da1b2bedc24e53))


## v1.33.1 (2020-05-15)

### Bug Fixes

- **manager**: Double the default timeout
  ([`b9a4fb2`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9a4fb2df6bafc6f3eee0da3ab8abce45c6540a5))


## v1.33.0 (2020-05-13)

### Bug Fixes

- Selects to not select deleted systems
  ([`867937c`](https://github.com/RedHatInsights/vulnerability-engine/commit/867937cafa759aa203c7e0573ab7c286b54d920f))

- **database**: Use system_platform to store deleted systems instead of separate table
  ([`bee3823`](https://github.com/RedHatInsights/vulnerability-engine/commit/bee38236043d6e2b7bc104d5dafc43a1fb776e8f))

- **listener**: Make sure single system import/delete can't happen concurrently
  ([`87b3aa1`](https://github.com/RedHatInsights/vulnerability-engine/commit/87b3aa1d5a498edad26c3385c1a82d9c3028384a))

- **manager**: Fix selects to not display deleted systems
  ([`dcad8b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/dcad8b2efaa8e70a3fb815afa176f1562c3b645c))

### Chores

- Pipenv check workaround
  ([`1d66c49`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d66c4946dd51b0e9dcb33fe73fcaf5d1747bd95))

https://github.com/pypa/pipenv/issues/4188

PIPENV_PYUP_API_KEY= can be removed when pipenv-2020.X.X is released

### Features

- **taskomatic**: Cleanup deleted systems rows
  ([`b22b4c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/b22b4c5c832e80b693dda293e32d1cfe3bde40ee))

### Testing

- Add systems marked as deleted to test data
  ([`ed215a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed215a23cca1009db0d8ef64d2ef35ad5b030cab))

- Send account in delete message
  ([`5c1e8b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c1e8b54ee97ec5ffb622882b8e72068ba77b123))


## v1.32.3 (2020-05-05)

### Bug Fixes

- **advisor-listener**: Need to return one more None
  ([`2ecb55c`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ecb55cf3bff7828ffe56b8b6f830f71369739a2))

- **manager**: Add missing overall status field
  ([`d607c7a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d607c7aab5d4092142d0ed6f10afa939350e7b94))


## v1.32.2 (2020-04-30)

### Bug Fixes

- Don't update caches for stale systems
  ([`df8c002`](https://github.com/RedHatInsights/vulnerability-engine/commit/df8c0029141ddce7b6e528edf7658a3ee8b62eb1))


## v1.32.1 (2020-04-27)

### Bug Fixes

- **manager**: Filter rules by exact match instead of substring
  ([`1ed72e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ed72e5c52245e7da565fcd8f24d71b96bb69ec4))

### Chores

- Allow to run without deleting systems
  ([`c3aa983`](https://github.com/RedHatInsights/vulnerability-engine/commit/c3aa98341c0ae70730ec5f9ba25538459a307bb6))

- Exclude culled systems in default view
  ([`0fcc739`](https://github.com/RedHatInsights/vulnerability-engine/commit/0fcc739aef5525ff14d927f666b96722edd63d5a))


## v1.32.0 (2020-04-23)

### Chores

- **taskomatic**: Allow jobs to be run manully in easier way
  ([`53db420`](https://github.com/RedHatInsights/vulnerability-engine/commit/53db420209644ac9f5b120cd54bba7ba5c2a34a2))

### Features

- **taskomatic**: Add job for checking whether cached_counts are OK
  ([`685ad84`](https://github.com/RedHatInsights/vulnerability-engine/commit/685ad849690d70e9264f147e04c77b0bd7d498bd))


## v1.31.4 (2020-04-23)

### Bug Fixes

- Update payload_id to request_id
  ([`4fa1e31`](https://github.com/RedHatInsights/vulnerability-engine/commit/4fa1e31d119e0cc6c4b3b7b6543b805308803336))

### Chores

- Fix check_counts.py to include rules + stale systems
  ([`34f73bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/34f73bfe1c400ab30606fbcc2bf0e16f37caa196))


## v1.31.3 (2020-04-22)

### Bug Fixes

- **evaluator**: Wait when VMaaS is refreshing
  ([`d8cb616`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8cb6161333bc679c7328e07d42774f8ea76804d))


## v1.31.2 (2020-04-21)

### Bug Fixes

- **manager**: Sort by newest uploads by default since the page doesn't support sorting yet
  ([`c410da1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c410da16d9aafd6fedb4818d66ff405b4344910c))


## v1.31.1 (2020-04-21)

### Bug Fixes

- **manager**: Stale systems should not be included
  ([`a248da5`](https://github.com/RedHatInsights/vulnerability-engine/commit/a248da5e5d3235b9d8bc7b03decc850eaf7435e7))


## v1.31.0 (2020-04-21)

### Chores

- Add script to refresh CVE cache by account
  ([`195f9f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/195f9f84d0bdcacc5f8b765d1c2a8221a6fe8b4a))

- Fix kafka download (HTTP 404)
  ([`ae2e861`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae2e861d7cc6eb8d09c67e8c20c73a7c60d284cf))

- Install pg_repack client for maintenance
  ([`e4c4335`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4c4335f07c77824da3970e094f601d833486ddd))

- Make PIPENV_CHECK configurable
  ([`159ec38`](https://github.com/RedHatInsights/vulnerability-engine/commit/159ec38eb74cbefe7a74d931f9b90523b7fb7883))

### Features

- **manager**: Add searching /systems by uuid (inventory_id)
  ([`7b1ea7f`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b1ea7f54d5617a0fc84aaab8f925e2261c99db5))


## v1.30.10 (2020-04-17)

### Bug Fixes

- **manager**: Knowledgebase id needs to be returned in affected systems
  ([`fd57ab3`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd57ab31b1a13a25cfbe426c134aab96df729a26))

### Chores

- Remove obsolete examples
  ([`1b6a1bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b6a1bb0e0fccccf42fc50fb36c8e338f07aba68))

### Documentation

- **taskomatic**: Add documentation for taskomatic
  ([`2649225`](https://github.com/RedHatInsights/vulnerability-engine/commit/2649225da870a2e62970c5b193acda825368f4d6))

### Refactoring

- Remove unused webhook integration
  ([`c221fa9`](https://github.com/RedHatInsights/vulnerability-engine/commit/c221fa9a92e6afecdf14bf095aa741955468c783))


## v1.30.9 (2020-04-17)

### Bug Fixes

- **database**: Default 64mb is not always enough for PostgreSQL 12
  ([`6e767c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e767c6719e78705edfcb2ae14179b2e1fd3b2ae))


## v1.30.8 (2020-04-16)

### Bug Fixes

- Some applications require auth_type key in identity
  ([`d5ec853`](https://github.com/RedHatInsights/vulnerability-engine/commit/d5ec8535576fa06b0e04c1f16a7dd12e607ce7a4))

- **advisor_listener**: Don't cause VMaaS hits with inactive rules
  ([`386ee3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/386ee3c43dd4bff49780002ca480b9b5a4f3c403))

When creating new record in system_vulnerabililies insert into when_mitigated to make sure evaluator
  corretly handles situation where new CVE appears first in advisor listener and then in evaluator.
  With inactive rules evaluator and when_mitigated set to NULL evaluator thinks that this CVE has
  been previously processed by it and does not update CVE count caches accordingly. Additionally for
  inactive rules and cases where VMaaS says that the CVE is not applicable it creates short period
  of false positivity untill when_mitigated is set by evaluator.

- **evaluator**: Correctly update mitigated CVEs with rules
  ([`e294ff3`](https://github.com/RedHatInsights/vulnerability-engine/commit/e294ff3bef170f63a0539cd4e9e64f5e85372ca2))


## v1.30.7 (2020-04-15)

### Bug Fixes

- **manager**: Don't fail when cve_account_data record is missing for CVE
  ([`72f723b`](https://github.com/RedHatInsights/vulnerability-engine/commit/72f723bbd9b85c27c09bbdf7a5dc56e4c23e9cc6))


## v1.30.6 (2020-04-14)

### Bug Fixes

- **database**: Generate dbdocs on centos
  ([`70a44a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/70a44a905c19dd7566b13ec254fafcd7a0664752))

### Chores

- Revert "chore: Revert "disable pipenv check because pyup.io is down""
  ([`754cdaa`](https://github.com/RedHatInsights/vulnerability-engine/commit/754cdaa9222cd525cdc88a2302a2b9b2abe52b69))

This reverts commit 3b443c7d6777590985a4b4ad3318d60a98a3dada.


## v1.30.5 (2020-04-09)

### Bug Fixes

- **manager**: 8.1-409 has broken dependencies
  ([`71d4827`](https://github.com/RedHatInsights/vulnerability-engine/commit/71d4827e057a146dee2a14f1e9b062fa77a90f80))

error: Error running transaction: package systemd-libs-239-18.el8_1.5.x86_64 (which is newer than
  systemd-libs-239-18.el8_1.4.x86_64) is already installed


## v1.30.4 (2020-04-09)

### Bug Fixes

- Related CVEs should not appear in description of rule
  ([`edc3fc7`](https://github.com/RedHatInsights/vulnerability-engine/commit/edc3fc7e237bf2d6b52ffb8b2bb0e8b7f1b3751e))

### Chores

- Lower resource consumption for smoke tests
  ([`d93bfda`](https://github.com/RedHatInsights/vulnerability-engine/commit/d93bfdac65bc6f5292aaa90bf03fc8a5976e5f78))


## v1.30.3 (2020-04-07)

### Bug Fixes

- **manager**: Do not return CVE names in rule description
  ([`0f718a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0f718a2af2250b4bf8dfe8956323995202ee801c))

### Chores

- Revert "disable pipenv check because pyup.io is down"
  ([`3b443c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b443c7d6777590985a4b4ad3318d60a98a3dada))

This reverts commit be12c55b310edf2c97104a2ecaa315c86dfa6386.


## v1.30.2 (2020-04-07)

### Bug Fixes

- **database**: Add indexes for speeding up marking stale systems
  ([`1e0e01f`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e0e01f28658296281710c516ee3f88d0a33ef84))

- **taskomatic**: Mark systems as stale in batches
  ([`7fdf80c`](https://github.com/RedHatInsights/vulnerability-engine/commit/7fdf80c3ae437222701dd63c708cf339e334e6b4))

- **taskomatic**: Update stale systems one by one
  ([`6326313`](https://github.com/RedHatInsights/vulnerability-engine/commit/6326313011d6c303548d649c0449dfc7786051c0))

### Refactoring

- **taskomatic**: Add bit more logging into taskomatic jobs
  ([`ea47ff6`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea47ff62dd967a541a75b211152686b87cec7ac2))


## v1.30.1 (2020-04-07)

### Bug Fixes

- **dbdocs**: Fix generating bug for db docs
  ([`bdad9a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/bdad9a2e1bf17d4bd0c8d6d507fa612405560688))


## v1.30.0 (2020-04-06)

### Bug Fixes

- **database**: Fix collision in numbering of upgrade scripts
  ([`63722fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/63722fcdb37440c711d6a6aa1c357311f0f98005))

### Chores

- Disable pipenv check because pyup.io is down
  ([`be12c55`](https://github.com/RedHatInsights/vulnerability-engine/commit/be12c55b310edf2c97104a2ecaa315c86dfa6386))

### Features

- **manager**: Return data needed for population of rule cards
  ([`cfde610`](https://github.com/RedHatInsights/vulnerability-engine/commit/cfde6105044b374dd59f30c32ed442757becdd79))

- **taskomatic**: Store additional rule information
  ([`2c61530`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c615304e8d94d028d35e1172e3c5d93976b9734))


## v1.29.1 (2020-04-06)

### Bug Fixes

- **database**: Don't count stale systems in when refreshing caches
  ([`ed4c30a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed4c30a346232d1dcd2ea1f53bede77a5b496290))


## v1.29.0 (2020-04-06)

### Features

- **advisor-listener**: Store rule hit details in the database
  ([`15d9c48`](https://github.com/RedHatInsights/vulnerability-engine/commit/15d9c48f371db15b7bd3a99502e60eddc511d2d1))

- **database**: Store rule info in DB
  ([`8ac4dec`](https://github.com/RedHatInsights/vulnerability-engine/commit/8ac4dec41f7cb40546f24e111ec136a68de8ecbf))


## v1.28.7 (2020-04-06)

### Bug Fixes

- **manager**: Return newest systems first
  ([`a08f625`](https://github.com/RedHatInsights/vulnerability-engine/commit/a08f625868c7f8e51190e42137dca70f0c7739ed))

- **taskomatic**: Revert "mark stale systems based on right timestamp"
  ([`a33627e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a33627efafff5d40aa4c8ebed34d786823faa54f))

This reverts commit 687d34a086b814e9ab769143055703c49769b260.

inventory default view displays fresh and stale systems, display them as well until better filtering
  is implemented


## v1.28.6 (2020-04-06)

### Bug Fixes

- **manager**: Return rule description in the API response
  ([`444c775`](https://github.com/RedHatInsights/vulnerability-engine/commit/444c775258c75bf9503e3714605ced408f23947b))


## v1.28.5 (2020-04-06)

### Bug Fixes

- **manager**: Do not count stale systems in executive report
  ([`ac6ffb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac6ffb47fdb0b57b0902ea77be25a462bd47d873))


## v1.28.4 (2020-04-03)

### Bug Fixes

- **advisor_listener**: Update caches only for active rules
  ([`f3add22`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3add2293a3556128882fffd4bb9b422dcb5aac8))

- **manager**: Return rule_id only if the rule is active
  ([`5703ef2`](https://github.com/RedHatInsights/vulnerability-engine/commit/5703ef241a181c95775552a25399a451f525315c))

- **manager**: Take rule active status into account during filtering
  ([`6abd914`](https://github.com/RedHatInsights/vulnerability-engine/commit/6abd914d6be05f086f6e3557f13f9c176e5ec829))


## v1.28.3 (2020-04-03)

### Bug Fixes

- **manager**: Display all associated CVEs in rule details
  ([`98a1522`](https://github.com/RedHatInsights/vulnerability-engine/commit/98a15225dac0b6a903eafe76ec9fdfe2ad95f3c2))


## v1.28.2 (2020-04-02)

### Bug Fixes

- **taskomatic**: Mark stale systems based on right timestamp
  ([`687d34a`](https://github.com/RedHatInsights/vulnerability-engine/commit/687d34a086b814e9ab769143055703c49769b260))


## v1.28.1 (2020-04-02)

### Bug Fixes

- **manager**: Do not return stale systems in affected_systems
  ([`525b718`](https://github.com/RedHatInsights/vulnerability-engine/commit/525b718cfab7c64842ba17bba46999fe0050aa71))


## v1.28.0 (2020-04-02)

### Bug Fixes

- **manager**: Upgrade migrations client
  ([`91ce98e`](https://github.com/RedHatInsights/vulnerability-engine/commit/91ce98e6c6c90e5e42fa063d44aa7f538b70c2ce))

### Features

- **database**: Upgrade to PostgreSQL 12
  ([`98b3a1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/98b3a1d5c1f293d53aefc70fe1b91d5e91bee268))

re-introduce 2 dockerfiles because registry.redhat.io doesn't allow unauthenticated download

### Testing

- Upgrade travis ci PG version
  ([`be9e8ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/be9e8ba8921faef61cca7caa653c9f377279de54))


## v1.27.0 (2020-04-02)

### Features

- **taskomatic**: (de)activate rules based on Inisghts API
  ([`daa2444`](https://github.com/RedHatInsights/vulnerability-engine/commit/daa24441542def5cec0ed9e64156499b84c4a870))

### Refactoring

- **manager**: Enhance filtering by rules in affected_systems API
  ([`27209da`](https://github.com/RedHatInsights/vulnerability-engine/commit/27209dadb75df9c57ff26125b71bef129e1ec923))


## v1.26.5 (2020-03-31)

### Bug Fixes

- **database**: Update database functions to take only active rules into account
  ([`16bf754`](https://github.com/RedHatInsights/vulnerability-engine/commit/16bf7545ceba7209bf1d4058bb4e9bbc264c805e))


## v1.26.4 (2020-03-30)

### Bug Fixes

- **database**: Cve <-> rule mapping should be unique
  ([`2c0eab4`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c0eab45264592abd65165c5add04111190fc013))


## v1.26.3 (2020-03-30)

### Bug Fixes

- **manager**: Fix typo in paramater name
  ([`5aacd81`](https://github.com/RedHatInsights/vulnerability-engine/commit/5aacd81b59e267d483f6bc7959bff6b818a8c410))


## v1.26.2 (2020-03-27)

### Bug Fixes

- 'pipenv install' re-generates lockfile by default, install only from what's already in lockfile
  ([`efcaf2f`](https://github.com/RedHatInsights/vulnerability-engine/commit/efcaf2fe5584d4820a04cec25a6ac4001758e267))


## v1.26.1 (2020-03-27)

### Bug Fixes

- **advisor_listener**: Adapt to new message format coming from advisor
  ([`89f1a43`](https://github.com/RedHatInsights/vulnerability-engine/commit/89f1a4362dd136e7abba19d63deb113b233c232f))


## v1.26.0 (2020-03-27)

### Features

- **manager**: Add filtering by security rules to affected_systems
  ([`a46ef5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/a46ef5a1d5abe85e6377f21266ba2661c5d85dc4))


## v1.25.0 (2020-03-26)

### Features

- **evaluator**: Take only active rules into account
  ([`54c934f`](https://github.com/RedHatInsights/vulnerability-engine/commit/54c934fea3088c8ac09ba73802e578e7256e9fa8))

- **manager**: Return only enabled rules
  ([`b197c11`](https://github.com/RedHatInsights/vulnerability-engine/commit/b197c115f5401fac6af8002ea9c6a1d7c0a193d6))

- **taskomatic**: Store whether insights rule is enabled or not
  ([`a877d96`](https://github.com/RedHatInsights/vulnerability-engine/commit/a877d968e7efe0fc3900ffa801b149c21eb78923))


## v1.24.1 (2020-03-26)

### Bug Fixes

- Update pyyaml (CVE-2020-1747)
  ([`6c1f71f`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c1f71f8e9420c966a1abb3d5f4d9dd6f32603a2))


## v1.24.0 (2020-03-24)

### Features

- **manager**: Return rule details in systems CVEs API
  ([`9a22333`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a2233313f2976d366b9d2c1f751b3b2dd86e6d0))


## v1.23.2 (2020-03-24)

### Bug Fixes

- Storing systems_affected on top rule level doesn't make sense
  ([`b9279c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9279c64a705aa6fbe041bb11299f86054855feb))

### Refactoring

- **manager**: Two /vuln/cves and /cves share same rules object
  ([`74f89c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/74f89c6cb48788bca68f9d4c6c4fc012e822b378))


## v1.23.1 (2020-03-24)

### Bug Fixes

- **manager**: Don't return dabase ID, return real rule ID
  ([`71b023c`](https://github.com/RedHatInsights/vulnerability-engine/commit/71b023cd79987f295666f47d2a1a40cfcd8b325b))


## v1.23.0 (2020-03-24)

### Features

- **listener**: Remove obsolete archive parsing capability
  ([`df78978`](https://github.com/RedHatInsights/vulnerability-engine/commit/df789781d1e8c980cb5193423d149e9c59b61ad6))


## v1.22.2 (2020-03-23)

### Bug Fixes

- **taskomatic**: There might be rules without knowledgebase article
  ([`a4c1612`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4c1612df43a8bb3318b7770bbd16b2bbda5fc78))

### Refactoring

- **taskomatic**: Add more logging into rules details download
  ([`ada5479`](https://github.com/RedHatInsights/vulnerability-engine/commit/ada547993aca88a82f47cf5e65a31b75e24c620d))


## v1.22.1 (2020-03-20)

### Bug Fixes

- **taskomatic**: Insights API is expecting '/' at the end of path
  ([`f7e26e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7e26e79a7f85c10b03a44efb35737f88b9a7e67))


## v1.22.0 (2020-03-20)

### Features

- **manager**: Allow filtering /vulnerabilities API by presence of rule
  ([`0c05b7f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c05b7fcfa8741be49a6ad0972fdd1ed0ff35557))

- **manager**: Return rules information in API
  ([`9adfd59`](https://github.com/RedHatInsights/vulnerability-engine/commit/9adfd59a917d65e5c9eb72e05fe5ddf00be771bf))


## v1.21.2 (2020-03-19)

### Bug Fixes

- **listener**: Missing id may be causing KeyError as well
  ([`762da18`](https://github.com/RedHatInsights/vulnerability-engine/commit/762da187cb4dade96868de23be9fbba355af3281))

### Chores

- Add script for syncing database with inventory
  ([`cae5184`](https://github.com/RedHatInsights/vulnerability-engine/commit/cae51843b373b3a0b5f9f1a61766caf02cc6d15b))

- Count Future errors
  ([`1c2bcc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c2bcc09736ae103c00dc0ba6c5deaeeb319e59c))


## v1.21.1 (2020-03-19)

### Bug Fixes

- **manager**: Choose cves for executive report wisely
  ([`0dabba8`](https://github.com/RedHatInsights/vulnerability-engine/commit/0dabba8467631d43c86cfb6f645dd406afa7706d))

- **manager**: Make high-end range check to be exclusive
  ([`fb68248`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb68248810315ab01dd503d73d75e7ddd6ba2d27))

normilize ranges to a single decimal place

### Testing

- **manager_tests**: Fix executive report test
  ([`3d0ac94`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d0ac94b0aff3e2ac6e3e826fb41b117e1a2e44f))


## v1.21.0 (2020-03-19)

### Features

- **taskomatic**: Add job for getting rule information
  ([`45877c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/45877c7026adb3160ca71c72281ef5c75cb2db1b))


## v1.20.1 (2020-03-18)

### Bug Fixes

- Check on system level to find vulnerabilities and workaround pipenv to make it work
  ([`cf3bd53`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf3bd53cfe6e847dae99233c4cdea0fd0517ad1b))

- Revert "temporarily disable pipenv check due to error in pipenv"
  ([`5714774`](https://github.com/RedHatInsights/vulnerability-engine/commit/571477483d7211f28cd04005afe35912fb3b3b90))

This reverts commit 121fa98b322221c411a5dbafbbb67b7d0a79949f.

- Update urllib3 to fix CVE-2020-7212
  ([`294adf3`](https://github.com/RedHatInsights/vulnerability-engine/commit/294adf32d6181c0e8fb601ea57a6390171080591))


## v1.20.0 (2020-03-16)

### Features

- **advisor-listener**: Store global cve <-> rule mapping
  ([`95fac04`](https://github.com/RedHatInsights/vulnerability-engine/commit/95fac04abe40a55ef0d0d5bdb371863590c1f8d2))

- **database**: Add global cve <-> rule mapping table
  ([`1fd7eed`](https://github.com/RedHatInsights/vulnerability-engine/commit/1fd7eedffbadd4e93209a408f5fd711dd2bc5bf7))

- **manager**: Return global cve <-> rule mapping
  ([`2c7ff19`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7ff19584ff7b920355933f9f4eb8d2158643c5))


## v1.19.5 (2020-03-13)

### Bug Fixes

- Replace smart_management with insights
  ([`22b1a46`](https://github.com/RedHatInsights/vulnerability-engine/commit/22b1a46411eafb203bb4c0b6db55f612abfc3ea8))


## v1.19.4 (2020-03-12)

### Bug Fixes

- Fix error when bucket is empty
  ([`3c3c65e`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c3c65ed518b76065fefe27869a007685bf6e37e))


## v1.19.3 (2020-03-11)

### Bug Fixes

- **listener**: Filter out empty strings
  ([`b3a1632`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3a163206d7961221dcb5d4f1df6c6aa2566e883))

### Chores

- Follow redirects
  ([`5dddec0`](https://github.com/RedHatInsights/vulnerability-engine/commit/5dddec08dc5db6a0b75f57336ce68a2c488a5b59))


## v1.19.2 (2020-03-09)

### Bug Fixes

- **listener**: Workaround missing enabled field
  ([`a06649e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a06649e74a7bb52a23de94a03d1e831b3286fedf))


## v1.19.1 (2020-03-09)

### Bug Fixes

- Metrics dockerfile failing due to missing .txt files
  ([`1e384de`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e384de951de1c24c5f86d176c52692d13cd533c))

- Temporarily disable pipenv check due to error in pipenv
  ([`121fa98`](https://github.com/RedHatInsights/vulnerability-engine/commit/121fa98b322221c411a5dbafbbb67b7d0a79949f))

https://github.com/pypa/pipenv/issues/4147


## v1.19.0 (2020-03-06)

### Features

- **manager**: Return systems evaluated only by advisor + rule hits
  ([`9c0588d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c0588de1f618d583713d61d56c822d9199bd740))


## v1.18.0 (2020-03-06)

### Features

- **advisor_listener**: Add date of latest advisor evaluation
  ([`af3e285`](https://github.com/RedHatInsights/vulnerability-engine/commit/af3e285702e783e8d53da16f3e57536cc5646437))


## v1.17.5 (2020-03-05)

### Bug Fixes

- **advisor_listener**: Update system level count cache as well
  ([`7c86bfc`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c86bfc802fcbf0978c9a87a90f19e6279051ada))

- **manager**: Change default page size to 20
  ([`29ff61c`](https://github.com/RedHatInsights/vulnerability-engine/commit/29ff61c320034eb9e661379fbca6b5cecddc86a1))

other apps use 10,20,50,100 vulnerability uses 10,25,50,100


## v1.17.4 (2020-03-05)

### Bug Fixes

- Remove exclude_accounts file, pass as env
  ([`9cc6faa`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cc6faa0be4d3bb72f6b2ed51ea50c9be5851e07))


## v1.17.3 (2020-03-05)

### Bug Fixes

- **database**: Update functions to take rules into account
  ([`7d5cfd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d5cfd116d986aff6327cc592a0244a9975439c6))

### Testing

- Update tests to take rule CVEs into account
  ([`65c481f`](https://github.com/RedHatInsights/vulnerability-engine/commit/65c481f4baf5cc7cd0d1cec2d09e715d3ed34f3c))


## v1.17.2 (2020-03-04)

### Bug Fixes

- Unpublic a URL
  ([`247814b`](https://github.com/RedHatInsights/vulnerability-engine/commit/247814b24be5a2339ce2dbf5603ebb54c6237719))


## v1.17.1 (2020-03-04)

### Bug Fixes

- **evaluator**: Take rules into account when updating caches
  ([`a9ebeac`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9ebeac44e0fbd8834c75c406e89ceb3d8accf03))

### Testing

- Add metrics unit tests
  ([`e25a8eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/e25a8eb60dd95795b8e9e451952704e5297d796a))


## v1.17.0 (2020-03-03)

### Chores

- Use iqe-rbac-plugin for rbac smoke tests
  ([`21c7082`](https://github.com/RedHatInsights/vulnerability-engine/commit/21c7082422f838fdea13443b348f21f2a9003c03))

### Features

- **advisor_listener**: Update caches accordigly to rule results
  ([`48abba3`](https://github.com/RedHatInsights/vulnerability-engine/commit/48abba34cde19a16101c49cc9e07b77e3afe1fd8))


## v1.16.0 (2020-02-24)

### Bug Fixes

- **database**: Add constraint referencing insights rules
  ([`f82071b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f82071bff99d909da2d7e30e2fee544b9a2c7051))

### Features

- Metrics collection use S3 buckets, calculate monthly report, and email it
  ([`251a558`](https://github.com/RedHatInsights/vulnerability-engine/commit/251a5584ff416fe95b3ea62abbdb7c23a1e30e7f))

- **manager**: Return rule hits for system CVEs
  ([`7c121b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c121b6bdefe8161fa9b29552b9b83bbd34727f2))


## v1.15.3 (2020-02-24)

### Bug Fixes

- **evaluator**: Track only new uploads
  ([`3130af6`](https://github.com/RedHatInsights/vulnerability-engine/commit/3130af6ffb5af71299edfb54e9d2fc5713be8a23))

fix(common): use current timestamp in msg

### Chores

- Platform service set was split into multiple service sets in e2e-deploy
  ([`aa87bf2`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa87bf2a2705e5ead6df9ad2f1af3c215976ac7a))


## v1.15.2 (2020-02-20)

### Bug Fixes

- **advisor-listener**: Don't update stale timestamps with advisor data
  ([`b390841`](https://github.com/RedHatInsights/vulnerability-engine/commit/b390841b1e9ef55361d2c2a65e265a0c32131601))


## v1.15.1 (2020-02-19)

### Bug Fixes

- **advisor-listener**: Don't look up for rule hits if there are no hits
  ([`3f240a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f240a2e6116fd55d05fa707d7db4f8f33fb4fa4))


## v1.15.0 (2020-02-19)

### Features

- **advisor-listener**: Store rule hits in the database
  ([`dd1b7b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd1b7b0c81f543bbf5af5ac17ca918eae37ae943))


## v1.14.0 (2020-02-19)

### Features

- **advisor-listener**: Store new uploads from coming from advisor
  ([`44b2121`](https://github.com/RedHatInsights/vulnerability-engine/commit/44b2121c89ecc582f88a236dc6adca9e73248481))


## v1.13.2 (2020-02-18)

### Bug Fixes

- **listener**: Avoid excessive logging of system_profiles
  ([`da5e316`](https://github.com/RedHatInsights/vulnerability-engine/commit/da5e316a0e745a7821faa649bac36e42affd12b5))

- **listener**: Read system profile from kafka msg
  ([`f785db2`](https://github.com/RedHatInsights/vulnerability-engine/commit/f785db25a29338698aa33e34ca02431f1e2b234f))


## v1.13.1 (2020-02-17)

### Bug Fixes

- **advisor-listener**: Fix path to expected one in entrypoint.sh
  ([`052d141`](https://github.com/RedHatInsights/vulnerability-engine/commit/052d141ac863f1dbe629ca3cbd94ee83e4f80fc4))


## v1.13.0 (2020-02-17)

### Chores

- **codecov**: Add new components to code coverage
  ([`abee202`](https://github.com/RedHatInsights/vulnerability-engine/commit/abee2023472cf965f3271a0bbb2c148a076b28a0))

- **lint**: Run lint also on advisor-listener
  ([`8cb0e42`](https://github.com/RedHatInsights/vulnerability-engine/commit/8cb0e42cd9a6631e6bd42aabfac3417eec94d699))

### Features

- **advisor-listener**: Add component for receiving advisor results
  ([`b46a188`](https://github.com/RedHatInsights/vulnerability-engine/commit/b46a188ae445d01cb6c30b35ea394d9a7c25f45a))

- **advisor-listener**: Store error keys in the database
  ([`f1a9800`](https://github.com/RedHatInsights/vulnerability-engine/commit/f1a98002be1a9d07a9abd3c6b977da467a5cce44))


## v1.12.2 (2020-02-12)

### Bug Fixes

- **taskomatic**: Commit the transaction + allow taskomatic to delete
  ([`8e7ed34`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e7ed34da5f3af74fb886ddf5ad96b954806fa2b))


## v1.12.1 (2020-02-11)

### Bug Fixes

- **database**: Taskomatic user updates cve_account_data via trigger
  ([`63d55d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/63d55d1a61c30dd0403ea6d697b797fcd43a402b))


## v1.12.0 (2020-02-11)

### Features

- **manager**: Add percentage of cves for executive report
  ([`841bcf0`](https://github.com/RedHatInsights/vulnerability-engine/commit/841bcf0b9781dce859cfa0fb7764422be4377019))


## v1.11.4 (2020-02-07)

### Bug Fixes

- **listener**: Yum_repos key missing in profile
  ([`835afca`](https://github.com/RedHatInsights/vulnerability-engine/commit/835afcafff5fd550a0d83373d9e7e06a19f216f1))


## v1.11.3 (2020-02-07)

### Bug Fixes

- **listener**: Empty package list
  ([`4c354b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/4c354b6acebd9bd29da6bd489a0234d4eeb8424d))


## v1.11.2 (2020-02-07)

### Bug Fixes

- Request_id is not always sent, if it's not, tracking payload makes no sense
  ([`0d1669f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d1669f888f12128d4a6a45c3520fbe43f24aa34))

- **manager**: Don't throw exceptions and HTTP 500 errors when Rbac doesn't work
  ([`0c5e9d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c5e9d239a3aa5d09f6a85ee27e50793d0ac6459))

### Chores

- Deploy rbac during smoke tests
  ([`c464a86`](https://github.com/RedHatInsights/vulnerability-engine/commit/c464a86a750d8a0ca1c413fc67a77868ba11a6e2))


## v1.11.1 (2020-02-06)

### Bug Fixes

- **listener**: Typo
  ([`6fc3b4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fc3b4bf9a981bbc350b6a6f2e2462edc76f6c7f))


## v1.11.0 (2020-02-06)

### Chores

- Adapt platform_mock to simulate inventory API
  ([`c817572`](https://github.com/RedHatInsights/vulnerability-engine/commit/c817572669385ad926f67b8f345b47c5369c39e4))

- **debug**: Add kafka to debuger container
  ([`5edda56`](https://github.com/RedHatInsights/vulnerability-engine/commit/5edda56f05293befe826a1b92a8b6851bb0a57db))

### Features

- **listener**: Fetch system profiles from inventory instead of parsing archive
  ([`2e83c47`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e83c47fe7dfb307c6f65b1abc4d8d1c097fa199))


## v1.10.0 (2020-01-28)

### Features

- **manager**: Allow sorting of systems by display_name
  ([`d945f2c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d945f2ca1bf10a1db041808fd69d3b6e3f8cd9e0))


## v1.9.0 (2020-01-27)

### Chores

- Add debugging service
  ([`4273f1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4273f1d19d96ad3588b09c8e0b562c6d0cff525e))

other containers don't have psql, tar etc. and it's difficult to do any debugging from them

### Features

- **database**: Add stale system flag + update functions to use it
  ([`36b252b`](https://github.com/RedHatInsights/vulnerability-engine/commit/36b252b94456ed7fa414603f1172025309843302))

- **listener**: New uploads should cancel system stale status
  ([`5fc585a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5fc585a92e2cb66df74956f0d3d5aacb93b348e2))

- **manager**: Hide stale systems
  ([`e86223a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e86223a653080c4299518846c3d9f9d798a65769))

- **taskomatic**: Automatically mark systems as stale
  ([`9d4d28b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d4d28b3e6904c91b190ec4b528165249537fbb2))


## v1.8.3 (2020-01-21)

### Bug Fixes

- Change from platform.upload.available to platform.inventory.host-egress
  ([`4f4a3f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f4a3f1cd68919b3062770036539aeeabcea45fb))

platform.upload.available is now legacy

- Change msg format in code
  ([`e94f3a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/e94f3a6d38c2e85f9aaef93a8b42e508eca78541))

### Refactoring

- Use common database_handler
  ([`7396645`](https://github.com/RedHatInsights/vulnerability-engine/commit/7396645302eadbd3926948db84b09e729c670e5c))

### Testing

- Fix platform mock and tests
  ([`19427ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/19427ada193417e149a5e98f6a54af2a531ee9fb))


## v1.8.2 (2020-01-20)

### Bug Fixes

- **manager**: Workaround for build in openshift builder
  ([`afbb8fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/afbb8fbbf6756f2b5288484d1ae9571abaaeb1b4))

fixing microdnf error: no such package 'postgresql10'


## v1.8.1 (2020-01-20)

### Bug Fixes

- **manager**: Install psql tool
  ([`f24b488`](https://github.com/RedHatInsights/vulnerability-engine/commit/f24b4882781f9fd403bec4dfcb2cf8503b59a917))

not available from UBI8 repo, use postgresql repo


## v1.8.0 (2020-01-20)

### Features

- **taskomatic**: Add a service for running periodic tasks
  ([`77ed922`](https://github.com/RedHatInsights/vulnerability-engine/commit/77ed92287bba6c75a6e1c6ffd9cc231377715005))


## v1.7.3 (2020-01-20)

### Bug Fixes

- **metrics**: Add db user for metrics cronjob with read-only access
  ([`0180a52`](https://github.com/RedHatInsights/vulnerability-engine/commit/0180a527b7c94ad0d09d4cb6db6a2719ab66c31f))


## v1.7.2 (2020-01-14)

### Bug Fixes

- **listener**: Add dependencies needed for archive extraction
  ([`ce30cb7`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce30cb7fadc7d659ef27d0c2147449b432a445a2))

- **manifest**: Fix manifest generation
  ([`4731eb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/4731eb4d22359cba63bedc8cc39015653cc09585))

### Chores

- **conf**: Update local RBAC URL
  ([`1ef6e67`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ef6e6720ebf4dd991e13c9f1aab3579835188d2))


## v1.7.1 (2020-01-14)

### Bug Fixes

- **manager**: Provide full RBAC URL
  ([`0aef2b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0aef2b256bf609ba993bc57ea3ca944ea8e80561))


## v1.7.0 (2020-01-10)

### Chores

- Migrate to RHEL 8 UBI
  ([`039ab1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/039ab1d5e9922355cd7f53f927c914ea9cc595a8))

### Features

- Add support for usage metrics
  ([`7cb0b79`](https://github.com/RedHatInsights/vulnerability-engine/commit/7cb0b79f15ee025fd5939993c6e7df6b4ddaf184))


## v1.6.3 (2020-01-10)

### Bug Fixes

- Obsolete Dockerfile diff test
  ([`6c39cb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c39cb38f97bd44ba87bed33e2439c8ca1b82cf9))

### Chores

- Migrate CentOS 7 images to RHEL 8 UBI and obsolete RHEL 7
  ([`179447e`](https://github.com/RedHatInsights/vulnerability-engine/commit/179447e69f9e350aca737a5e18908db75e3234e3))

- Use only RHEL-based Dockerfile
  ([`41c02b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/41c02b703d57a16675115e4e76c0ce8450d70a1b))

### Refactoring

- Wait for postgresql without psql
  ([`35d1f26`](https://github.com/RedHatInsights/vulnerability-engine/commit/35d1f267ca151a2453b531421bd5dfc789a518c8))


## v1.6.2 (2020-01-10)

### Bug Fixes

- **manager**: Unify executive report and api call report by public_date
  ([`e31637a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e31637a4e511b440f1aa07ee732e27173a1f699a))

set the executive report to include the day on the edge of interval ex: public_date >= (today - X)


## v1.6.1 (2020-01-10)

### Bug Fixes

- **manager**: Pass x-rh-identity into RBAC
  ([`415a92a`](https://github.com/RedHatInsights/vulnerability-engine/commit/415a92a88cf888621c2db02cfad40d812678697e))


## v1.6.0 (2020-01-09)

### Features

- **manager**: Integration with RBAC
  ([`ade11e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/ade11e3c7edac5ee9112319f50f996d3748ac33f))


## v1.5.1 (2020-01-08)

### Bug Fixes

- **listener**: Fix storing of stale timestamps
  ([`d49e779`](https://github.com/RedHatInsights/vulnerability-engine/commit/d49e77917d2880ab4b46aa875d2f0e08129ccec4))


## v1.5.0 (2020-01-08)

### Features

- **listener**: Start storing system culling timestamps
  ([`7340de3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7340de338bf9572b20fbf8954f6f8e8a0b10b4c6))


## v1.4.2 (2019-12-11)

### Bug Fixes

- **listener**: Skip messages earlier if there are missing fields, before payload tracker reads not
  existing fields
  ([`2e18c30`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e18c3018f3378bb3e4ed5066212b15749cc2e34))


## v1.4.1 (2019-12-11)

### Bug Fixes

- **manager**: Revert disable filtering by inv-id
  ([`8efc855`](https://github.com/RedHatInsights/vulnerability-engine/commit/8efc85580506bd2a436d333e70324189a174cea4))

remove it once all names are ready in all envs

This reverts commit 57b5b2202d3efa254fdc3dee022c14e589e14f30.


## v1.4.0 (2019-12-10)

### Features

- Add payload-tracker integration
  ([`29432ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/29432ca5c413f3663d6074d34864fd665fe2ebd3))


## v1.3.2 (2019-12-09)

### Bug Fixes

- **manager**: Disable filtering by inv-id
  ([`57b5b22`](https://github.com/RedHatInsights/vulnerability-engine/commit/57b5b2202d3efa254fdc3dee022c14e589e14f30))


## v1.3.1 (2019-12-06)

### Bug Fixes

- **listener**: Extract correct field
  ([`3a7ab6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a7ab6c32556c21f7da80714335f2e7307f0d5db))


## v1.3.0 (2019-11-27)

### Features

- Add failed cache to remember failed upload or delete messages
  ([`50eb91c`](https://github.com/RedHatInsights/vulnerability-engine/commit/50eb91c87198a8095cbe64bebb661bb242031b34))


## v1.2.0 (2019-11-25)

### Features

- **listener**: Store system FQDN in database
  ([`9a58d5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a58d5f9b0f954a2430189394a9d9c42f056ccc3))

- **manager**: Return FQDN and filter based on FQDN
  ([`0178400`](https://github.com/RedHatInsights/vulnerability-engine/commit/01784001669032972045d1e9ee3b5cab2f478e6f))

### Refactoring

- **manager**: Vmaas_host is unused
  ([`48ae09a`](https://github.com/RedHatInsights/vulnerability-engine/commit/48ae09a2452285c6ab2a4d69ad98b96c811b03a0))


## v1.1.4 (2019-11-21)

### Bug Fixes

- **evaluator**: Correctly handle malformed Kafka messages
  ([`e12681b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e12681bfdf783fa6634ace84225c407a63cf3db7))

### Chores

- **scripts**: Add script for checking if cached counts are OK
  ([`0452f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/0452f097a999ca772a1d9629fab8e5f2ad58efa6))


## v1.1.3 (2019-11-18)

### Bug Fixes

- **manager**: Fix NULL characters in /status API
  ([`d41a460`](https://github.com/RedHatInsights/vulnerability-engine/commit/d41a46099404ea9614487a3d05a42ec4e9afdd14))

- **manager**: Fix setting CVE attributes for accounts with 0 systems
  ([`e05cd22`](https://github.com/RedHatInsights/vulnerability-engine/commit/e05cd22ff33df30d791a72e38e66ef0682f39896))


## v1.1.2 (2019-11-13)

### Bug Fixes

- **manager**: Don't reuse old responses
  ([`41ea647`](https://github.com/RedHatInsights/vulnerability-engine/commit/41ea647344aaf4330d700c071f54c7f53e228cd1))

this caused e.g. top_cves list to bloat as it wasn't reinitalized each time

- **manager**: Use only date for calculation of recently published CVEs
  ([`641b205`](https://github.com/RedHatInsights/vulnerability-engine/commit/641b20511c06b8a8b98c7f1f0fef78716ac7e13e))

### Chores

- **travis**: Run travis also on stable branch to generate db doc
  ([`69044ea`](https://github.com/RedHatInsights/vulnerability-engine/commit/69044eaaea3f2ed5849b3c7e853f17ac4548adfa))


## v1.1.1 (2019-11-08)

### Bug Fixes

- **manager**: Don't count not evaluated systems in the report
  ([`fd02467`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd024672d66cc8a4f1f5dfe42ed9b5f4e5d59c3a))

### Documentation

- **manager**: Fix typos in documentation
  ([`8364ed6`](https://github.com/RedHatInsights/vulnerability-engine/commit/8364ed6b5de6ec1daec7f0bdad5ad49e8db1d38f))


## v1.1.0 (2019-10-31)

### Features

- **manager**: Add reporting API
  ([`287297c`](https://github.com/RedHatInsights/vulnerability-engine/commit/287297c992d65bfcce6d42312f8583de701b5e5b))


## v1.0.4 (2019-10-30)

### Bug Fixes

- **dbdocs**: Fix typo in dbdocs generating script
  ([`8159413`](https://github.com/RedHatInsights/vulnerability-engine/commit/81594135c400b3de311e3bc9c881dc8be2e8c114))

### Chores

- Move to pipeline-lib v3
  ([`c385e13`](https://github.com/RedHatInsights/vulnerability-engine/commit/c385e13b950cc92f3e4f27fe27bb2e9b98a5587c))

### Documentation

- Add db docs generations script
  ([`051356b`](https://github.com/RedHatInsights/vulnerability-engine/commit/051356b1a6f4a9bd60b209b134a6d7d94678119b))


## v1.0.3 (2019-10-30)

### Bug Fixes

- **listener**: Avoid comparing similar timestamps from different containers/machines
  ([`f831016`](https://github.com/RedHatInsights/vulnerability-engine/commit/f83101640c0ad1acb8e54e520dd4d3b9807a51ae))

clocks may be slightly out of sync

better compare with last evaluation timestamp to decide if re-evaluate again

should fix unreliable re-evaluation when archive changes

### Testing

- **listener**: System needs to have evaluation timestamp otherwise is always considered CHANGED
  ([`acc2900`](https://github.com/RedHatInsights/vulnerability-engine/commit/acc29004fe8c212b9ac92e8709c4df3fc4951ebc))


## v1.0.2 (2019-10-25)

### Bug Fixes

- **manager**: Null handling in filter and sort params
  ([`3ed5447`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ed5447e2da3207f98546d8ed941d036e6d8bc38))


## v1.0.1 (2019-10-25)

### Bug Fixes

- **manager**: App version can be only string
  ([`2d33217`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d332171a90259f5d15c817db665cdd9efd95de0))

### Documentation

- Update README
  ([`962bbde`](https://github.com/RedHatInsights/vulnerability-engine/commit/962bbdeb109af840d743ac5474f4dbc0e25c3b7f))

### Refactoring

- New-release.sh is now obsolete
  ([`3d9cfca`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d9cfcada480905926e5df43a62b14f358320df2))

- Use version from common python module controlled by semantic-release
  ([`2744c3f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2744c3f844c9ee5fc51af87dd82f3c1539f51c67))

### Testing

- Fix test for semantic-release versioning
  ([`c86b5e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/c86b5e4249674bc8559ec1babc82aa35602de99f))


## v1.0.0 (2019-10-23)


## v0.18.0 (2019-10-11)

### Bug Fixes

- **cvss-filtering**: Filter by v2 score if v3 is not available
  ([`edee2b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/edee2b52d30b58ad2ab70a64d0256e4ab7024d8b))

- **metrics**: Fix missing endpoint name
  ([`f1cb166`](https://github.com/RedHatInsights/vulnerability-engine/commit/f1cb16622af8444fbc7d22f29b80448c1097321b))

### Chores

- **pylint**: Increase line lenghth to 160
  ([`6e22614`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e2261408884bfa8539d7635561ffbbb9c7826b0))

800x600 px monitors are thing of the past ;-)


## v0.17.0 (2019-10-02)


## v0.16.0 (2019-09-26)


## v0.15.0 (2019-08-13)


## v0.14.0 (2019-07-31)


## v0.13.0 (2019-07-15)


## v0.12.0 (2019-07-01)


## v0.11.0 (2019-05-30)


## v0.10.0 (2019-05-02)


## v0.9.0 (2019-04-24)


## v0.8.0 (2019-04-09)


## v0.7.0 (2019-03-27)


## v0.6.0 (2019-03-08)


## v0.5.0 (2019-02-22)


## v0.4.0 (2019-02-13)


## v0.3.0 (2019-02-06)


## v0.2.0 (2019-01-17)


## v0.1.0 (2018-12-19)
